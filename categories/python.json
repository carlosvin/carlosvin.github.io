{"category":"Python","posts":[{"sectids":"","toc-placement":"auto","notitle":"","stylesheet":"","webfonts":"","prewrap":"","attribute-undefined":"drop-line","attribute-missing":"skip","iconfont-remote":"","caution-caption":"Caution","important-caption":"Important","note-caption":"Note","tip-caption":"Tip","warning-caption":"Warning","example-caption":"Example","figure-caption":"Figure","table-caption":"Table","toc-title":"Table of Contents","section-refsig":"Section","part-refsig":"Part","chapter-refsig":"Chapter","appendix-refsig":"Appendix","appendix-caption":"Appendix","untitled-label":"Untitled","version-label":"Version","last-update-label":"Last updated","docfile":"delete-html-tags-py-django.es.adoc","docdir":"","docfilesuffix":".adoc","docname":"delete-html-tags-py-django.es","embedded":"","asciidoctor":"","asciidoctor-version":"2.0.10","safe-mode-name":"secure","safe-mode-secure":"","safe-mode-level":20,"max-include-depth":64,"user-home":".","backend":"html5","max-attribute-value-size":4096,"linkcss":"","doctype":"article","htmlsyntax":"html","backend-html5-doctype-article":"","doctype-article":"","backend-html5":"","outfilesuffix":".html","filetype":"html","filetype-html":"","basebackend-html-doctype-article":"","basebackend-html":"","basebackend":"html","stylesdir":".","iconsdir":"./images/icons","localdate":"2020-04-22","localyear":"2020","localtime":"00:22:33 +0200","localdatetime":"2020-04-22 00:22:33 +0200","docdate":"2020-04-19","docyear":"2020","doctime":"10:46:31 +0200","docdatetime":"2020-04-19 10:46:31 +0200","doctitle":"Eliminar etiquetas HTML","date":"2012/10/02 11:30:00","keywords":["Python","Django","HTML"],"lang":"es","python":"https://www.python.org[Python]","django":"https://www.djangoproject.com[Django]","description":"Cómo eliminar etiquetas HTML utilizando Python o más fácil aún, utilizando Django","toc":"","authorcount":0,"title":"Eliminar etiquetas HTML","summary":"Cómo eliminar etiquetas HTML utilizando Python o más fácil aún, utilizando Django","html":"<div id=\"toc\" class=\"toc\">\n<div id=\"toctitle\">Table of Contents</div>\n<ul class=\"sectlevel1\">\n<li><a href=\"#_con_python\">Con Python</a></li>\n<li><a href=\"#_django\">Django</a></li>\n</ul>\n</div>\n<div id=\"preamble\">\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>A continuación veremos cómo eliminar las etiquetas HTML de una cadena de caracteres.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_con_python\">Con <a href=\"https://www.python.org\">Python</a></h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Función encargada de eliminar las etiquetas HTML:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">main.py</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-python\" data-lang=\"python\"><span class=\"hljs-keyword\">import</span> re\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">strip_tags</span><span class=\"hljs-params\">(value)</span>:</span>\n    <span class=\"hljs-keyword\">return</span> re.sub(<span class=\"hljs-string\">r'&lt;[^&gt;]*?&gt;'</span>, <span class=\"hljs-string\">''</span>, value)</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Vamos a hacer una prueba un fragmento de HTML a la función <code>strip_tags</code>:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">main.py</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-python\" data-lang=\"python\"><span class=\"hljs-keyword\">import</span> re\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">strip_tags</span><span class=\"hljs-params\">(value)</span>:</span>\n    <span class=\"hljs-keyword\">return</span> re.sub(<span class=\"hljs-string\">r'&lt;[^&gt;]*?&gt;'</span>, <span class=\"hljs-string\">''</span>, value)\n\nhtml_text = <span class=\"hljs-string\">\"\"\"\n    &lt;!DOCTYPE HTML&gt;\n    &lt;html&gt;\n        &lt;head&gt;\n            &lt;title&gt;Title&lt;/title&gt;\n        &lt;/head&gt;\n        &lt;body&gt;\n            &lt;p&gt;Paragraph&lt;/p&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\"\"\"</span>\n\nprint(strip_tags(html_text))</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Si ejecutamos el script tenemos como resultado:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">Title\n\nParagraph</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Si con <a href=\"https://www.python.org\">Python</a> ha sido fácil, vamos a ver con <a href=\"https://www.djangoproject.com\">Django</a>.</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_django\"><a href=\"https://www.djangoproject.com\">Django</a></h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p><a href=\"https://www.djangoproject.com\">Django</a> una ofrece función para esto: <a href=\"https://docs.djangoproject.com/en/3.0/ref/utils/#django.utils.html.strip_tags\">strip_tags</a>.</p>\n</div>\n<div class=\"paragraph\">\n<p>Antes, solo hay que instalar la librería: <code>pip install django</code>.</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">main.py</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-python\" data-lang=\"python\"><span class=\"hljs-keyword\">from</span> django.utils.html <span class=\"hljs-keyword\">import</span> strip_tags\n\nhtml_text = <span class=\"hljs-string\">\"\"\"\n    &lt;!DOCTYPE HTML&gt;\n    &lt;html&gt;\n        &lt;head&gt;\n            &lt;title&gt;Title&lt;/title&gt;\n        &lt;/head&gt;\n        &lt;body&gt;\n            &lt;p&gt;Paragraph&lt;/p&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\"\"\"</span>\n\n<span class=\"hljs-keyword\">print</span> (strip_tags(html_text))</code></pre>\n</div>\n</div>\n</div>\n</div>","slug":"delete-html-tags-py-django"},{"sectids":"","toc-placement":"auto","notitle":"","stylesheet":"","webfonts":"","prewrap":"","attribute-undefined":"drop-line","attribute-missing":"skip","iconfont-remote":"","caution-caption":"Caution","important-caption":"Important","note-caption":"Note","tip-caption":"Tip","warning-caption":"Warning","example-caption":"Example","figure-caption":"Figure","table-caption":"Table","toc-title":"Table of Contents","section-refsig":"Section","part-refsig":"Part","chapter-refsig":"Chapter","appendix-refsig":"Appendix","appendix-caption":"Appendix","untitled-label":"Untitled","version-label":"Version","last-update-label":"Last updated","docfile":"normalize-text-py.es.adoc","docdir":"","docfilesuffix":".adoc","docname":"normalize-text-py.es","embedded":"","asciidoctor":"","asciidoctor-version":"2.0.10","safe-mode-name":"secure","safe-mode-secure":"","safe-mode-level":20,"max-include-depth":64,"user-home":".","backend":"html5","max-attribute-value-size":4096,"linkcss":"","doctype":"article","htmlsyntax":"html","backend-html5-doctype-article":"","doctype-article":"","backend-html5":"","outfilesuffix":".html","filetype":"html","filetype-html":"","basebackend-html-doctype-article":"","basebackend-html":"","basebackend":"html","stylesdir":".","iconsdir":"./images/icons","localdate":"2020-04-22","localyear":"2020","localtime":"00:22:34 +0200","localdatetime":"2020-04-22 00:22:34 +0200","docdate":"2020-04-19","docyear":"2020","doctime":"10:46:31 +0200","docdatetime":"2020-04-19 10:46:31 +0200","doctitle":"Normalizar texto en Python","date":"2012/10/02 18:00:00","keywords":["Python","Tips and Tricks"],"description":"Evitar problemas con textos que contienen caractéres no ASCII","lang":"es","ascii":"https://es.wikipedia.org/wiki/ASCII[ASCII,window=_blank]","unicode":"https://es.wikipedia.org/wiki/Unicode[Unicode,window=_blank]","python":"https://www.python.org[Python,window=_blank]","normalforms":"https://en.wikipedia.org/wiki/Unicode_equivalence#Normal_forms[Tipos de formas normales,window=_blank]","authorcount":0,"title":"Normalizar texto en Python","summary":"Evitar problemas con textos que contienen caractéres no ASCII","html":"<div class=\"paragraph\">\n<p>En muchos idiomas, como es el caso del español, hay caracteres que no tienen representación <a href=\"https://es.wikipedia.org/wiki/ASCII\" target=\"_blank\" rel=\"noopener\">ASCII</a>, como por ejemplo la <strong>á</strong>, que sí que tiene representación en <a href=\"https://es.wikipedia.org/wiki/Unicode\" target=\"_blank\" rel=\"noopener\">Unicode</a>.</p>\n</div>\n<div class=\"paragraph\">\n<p>Para evitar problemas o por simplificar, se ha dado una equivalencia entre los caracteres <a href=\"https://es.wikipedia.org/wiki/Unicode\" target=\"_blank\" rel=\"noopener\">Unicode</a> y los <a href=\"https://es.wikipedia.org/wiki/ASCII\" target=\"_blank\" rel=\"noopener\">ASCII</a>. A continuación os pondré un trozo de código en <a href=\"https://www.python.org\" target=\"_blank\" rel=\"noopener\">Python</a> que hace esta conversión.</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-python\" data-lang=\"python\"><span class=\"hljs-comment\"># -*- coding: utf-8 -*-</span>\n<span class=\"hljs-keyword\">from</span> unicodedata <span class=\"hljs-keyword\">import</span> normalize\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">normalize_text</span> <span class=\"hljs-params\">( text )</span>:</span>\n  <span class=\"hljs-keyword\">return</span> normalize(<span class=\"hljs-string\">'NFKD'</span>, text) <b class=\"conum\">(1)</b>\n    .encode(<span class=\"hljs-string\">'ASCII'</span>, <span class=\"hljs-string\">'ignore'</span>) <b class=\"conum\">(2)</b></code></pre>\n</div>\n</div>\n<div class=\"colist arabic\">\n<ol>\n<li>\n<p>Especificamos la forma normal que aplicamos en la normalización. En este caso <code>NFKD</code>. Más información sobre <a href=\"https://en.wikipedia.org/wiki/Unicode_equivalence#Normal_forms\" target=\"_blank\" rel=\"noopener\">Tipos de formas normales</a>.</p>\n</li>\n<li>\n<p>Confertimos el resultado de la normalización a <a href=\"https://es.wikipedia.org/wiki/ASCII\" target=\"_blank\" rel=\"noopener\">ASCII</a>. En caso de que un carácter sea erróneo simplemente será ignorado.</p>\n</li>\n</ol>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">Ejecutando la función</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-python\" data-lang=\"python\"><span class=\"hljs-meta\">&gt;&gt;&gt; </span>normalize_text ( <span class=\"hljs-string\">'aáaá eéeé iíií oóoó ñnñn AÀAÀ'</span> )\n<span class=\"hljs-string\">b'aaaa eeee iiii oooo nnnn AAAA'</span></code></pre>\n</div>\n</div>","slug":"normalize-text-py"},{"sectids":"","toc-placement":"auto","notitle":"","stylesheet":"","webfonts":"","prewrap":"","attribute-undefined":"drop-line","attribute-missing":"skip","iconfont-remote":"","caution-caption":"Caution","important-caption":"Important","note-caption":"Note","tip-caption":"Tip","warning-caption":"Warning","example-caption":"Example","figure-caption":"Figure","table-caption":"Table","toc-title":"Table of Contents","section-refsig":"Section","part-refsig":"Part","chapter-refsig":"Chapter","appendix-refsig":"Appendix","appendix-caption":"Appendix","untitled-label":"Untitled","version-label":"Version","last-update-label":"Last updated","docfile":"remove-replace-punctuation-py.es.adoc","docdir":"","docfilesuffix":".adoc","docname":"remove-replace-punctuation-py.es","embedded":"","asciidoctor":"","asciidoctor-version":"2.0.10","safe-mode-name":"secure","safe-mode-secure":"","safe-mode-level":20,"max-include-depth":64,"user-home":".","backend":"html5","max-attribute-value-size":4096,"linkcss":"","doctype":"article","htmlsyntax":"html","backend-html5-doctype-article":"","doctype-article":"","backend-html5":"","outfilesuffix":".html","filetype":"html","filetype-html":"","basebackend-html-doctype-article":"","basebackend-html":"","basebackend":"html","stylesdir":".","iconsdir":"./images/icons","localdate":"2020-04-22","localyear":"2020","localtime":"00:22:35 +0200","localdatetime":"2020-04-22 00:22:35 +0200","docdate":"2020-04-19","docyear":"2020","doctime":"10:46:31 +0200","docdatetime":"2020-04-19 10:46:31 +0200","doctitle":"Eliminar/Reemplazar signos de puntuación en Python","date":"2012/10/23 15:00:00","keywords":["Python","Tips and Tricks"],"description":"Un pequeño ejemplo de cómo eliminar signos de puntuación de una cadena de caractéres en Python","lang":"es","authorcount":0,"title":"Eliminar/Reemplazar signos de puntuación en Python","summary":"Un pequeño ejemplo de cómo eliminar signos de puntuación de una cadena de caractéres en Python","html":"<div class=\"paragraph\">\n<p>A continuación muestro una forma de eliminar los signos de puntuación de una cadena de caractéres en Python. Los signos de puntuación son reemplazados por caracteres en blanco.</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-python\" data-lang=\"python\"><span class=\"hljs-keyword\">import</span> re, string\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">remove_punctuation</span> <span class=\"hljs-params\">( text )</span>:</span>\n  <span class=\"hljs-keyword\">return</span> re.sub(<span class=\"hljs-string\">'[%s]'</span> % re.escape(string.punctuation), <span class=\"hljs-string\">' '</span>, text)</code></pre>\n</div>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">Ejecutando un ejemplo</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">&gt;&gt;&gt; remove_punctuation (<span class=\"hljs-string\">\"El perro, de San Roque, no tiene rabo; ni nunca lo ha tenido.\"</span>)\n<span class=\"hljs-string\">'El perro  de San Roque  no tiene rabo  ni nunca lo ha tenido '</span></code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Si queremos hacer la función más general, para reemplazar los signos de puntuación por cualquier otra cadena, simplemente hay que hacer la siguiente modificación en la función.</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-python\" data-lang=\"python\"><span class=\"hljs-keyword\">import</span> re, string\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">replace_punctuation</span> <span class=\"hljs-params\">( text, replace )</span>:</span>\n  <span class=\"hljs-keyword\">return</span> re.sub(<span class=\"hljs-string\">'[%s]'</span> % re.escape(string.punctuation), replace, text)</code></pre>\n</div>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">Ejecutando el código de arriba:</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">&gt;&gt;&gt; replace_punctuation (<span class=\"hljs-string\">\"El perro, de San Roque, no tiene rabo; ni nunca lo ha tenido.\"</span>, <span class=\"hljs-string\">'[stop]'</span>)\n<span class=\"hljs-string\">'El perro[stop] de San Roque[stop] no tiene rabo[stop] ni nunca lo ha tenido[stop]'</span></code></pre>\n</div>\n</div>","slug":"remove-replace-punctuation-py"}]}