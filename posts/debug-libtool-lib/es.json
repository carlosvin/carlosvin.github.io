{"entry":{"title":"Depurar librería generada con libtool","lang":"es","summary":"Cómo depurar un librería generada con libtool","slug":"debug-libtool-lib","keywords":["C++","Autotools","GNU","Tips and Tricks"],"filename":"debug-libtool-lib.es.adoc","date":"2013/02/01 15:30:00","otherLangs":[]},"html":"<div class=\"paragraph\">\n<p>Cuando vamos a depurar un ejecutable que utiliza una librería generada con <a href=\"https://www.gnu.org/software/libtool/libtool.html\" target=\"_blank\" rel=\"noopener\">libtool</a><sup class=\"footnote\">[<a id=\"_footnoteref_1\" class=\"footnote\" href=\"#_footnotedef_1\" title=\"View footnote.\">1</a>]</sup>, es posible que nos encontremos con el siguiente error:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">$ gdb ./tests-mylib\n<span class=\"hljs-string\">\"tests-mylib\"</span>: not <span class=\"hljs-keyword\">in</span> executable format: File format not recognized</code></pre>\n</div>\n</div>\n<div class=\"dlist\">\n<dl>\n<dt class=\"hdlist1\"><code>libmylib.so</code></dt>\n<dd>\n<p>es una librería dinámica generada con <a href=\"https://www.gnu.org/software/libtool/libtool.html\" target=\"_blank\" rel=\"noopener\">libtool</a>.</p>\n</dd>\n<dt class=\"hdlist1\"><code>tests-mylib</code></dt>\n<dd>\n<p>es un ejecutable que utiliza la librería mylib.</p>\n</dd>\n</dl>\n</div>\n<div class=\"paragraph\">\n<p>Para los que estéis pensando que se me ha olvidado poner la opción de compilación <code>-g</code>, este error ocurre aunque utilicemos <code>-g</code>.</p>\n</div>\n<div class=\"paragraph\">\n<p>El error es debido a que estamos intentando ejecutar un script generado por <a href=\"https://www.gnu.org/software/libtool/libtool.html\" target=\"_blank\" rel=\"noopener\">libtool</a>, es una envoltura sobre el programa real, para facilitar la ejecución de éste <sup class=\"footnote\">[<a id=\"_footnoteref_2\" class=\"footnote\" href=\"#_footnotedef_2\" title=\"View footnote.\">2</a>]</sup>.</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">Para poder depurar nuestro programa de prueba <code>tests-mylib</code></div>\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">libtool --mode=execute gdb tests-mylib</code></pre>\n</div>\n</div>\n<div id=\"footnotes\">\n<hr>\n<div class=\"footnote\" id=\"_footnotedef_1\">\n<a href=\"#_footnoteref_1\">1</a>. Herramienta que pertenece a la <a href=\"\">Autotools</a> usada para crear bibliotecas de software portables.\n</div>\n<div class=\"footnote\" id=\"_footnotedef_2\">\n<a href=\"#_footnoteref_2\">2</a>. Más información en <a href=\"https://www.gnu.org/software/libtool/manual/libtool.html#Debugging-executables\">documentación de libtool</a>\n</div>\n</div>"}