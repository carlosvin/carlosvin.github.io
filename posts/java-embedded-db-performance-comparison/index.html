<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <meta content=sapper name=generator> <meta content=a22af7614c96254d name=yandex-verification> <link href=/icons/icon-192x192.png rel=apple-touch-icon> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <link href=client/main.2949866476.css rel=stylesheet><link href=client/[...slug].c1a336fd.css rel=stylesheet><link href=client/client.9d576ed7.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>Bases de Datos Embebidas Java: Comparación de Rendimiento</title><link href=/rss rel=alternate type=application/rss+xml title='Subscribe to Carlos dice "bla bla"'><meta content=2014/06/07 name=date scheme=YYYY-MM-DD><meta content="Comparación de rendimiento en Java entre tres bases de datos embebidas: Derby/JavaDB, Sqlite y ObjectDB" name=description><link href=/posts/java-embedded-db-performance-comparison/es rel=canonical><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/vs.min.css rel=preload as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/vs.min.css rel=stylesheet></noscript><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <nav class=svelte-1v6ow72><button class=svelte-1v6ow72>≡</button> <ul class="svelte-1v6ow72 closed"><li class=svelte-1y8uoef><a href=. class=svelte-1y8uoef>Carlos dice "bla bla"</a></li> <li class=svelte-1y8uoef><a href=categories class=svelte-1y8uoef>Categories</a></li> <li class=svelte-1y8uoef><a href=about class=svelte-1y8uoef>About</a></ul> <div class="h svelte-1w8skyw"><a href=/rss rel=noopener target=_blank class="icon svelte-hpmv97 rss" title='Subscribe to Carlos dice "bla bla"'></a> <a href=https://github.com/carlosvin rel=noopener target=_blank class="icon svelte-hpmv97 github" title="Me at github"></a> <a href=https://twitter.com/carlosvin rel=noopener target=_blank class="icon svelte-hpmv97 twitter" title="Me at twitter"></a> <a href=https://stackoverflow.com/story/carlosvin rel=noopener target=_blank class="icon svelte-hpmv97 stackoverflow" title="Me at stackoverflow"></a></div></nav> <main class=svelte-1uhnsl8> <header class=svelte-15e36f2><h1 class=svelte-15e36f2>Bases de Datos Embebidas Java: Comparación de Rendimiento</h1> </header> <div class="content svelte-15e36f2"><div class=toc id=toc> <div id=toctitle>Table of Contents</div> <ul class=sectlevel1> <li><a href=#_bases_de_datos_embebidas>Bases de datos embebidas</a> <ul class=sectlevel2> <li><a href=#_sqlitedb>SqliteDB</a></li> <li><a href=#_derbydb_o_javadb>DerbyDB o JavaDB</a></li> <li><a href=#_objectdb>ObjectDb</a></li> </ul> </li> <li><a href=#_los_tests>Los Tests</a> <ul class=sectlevel2> <li><a href=#_las_bases_de_datos_jdbc>Las Bases de Datos JDBC</a></li> <li><a href=#_el_código_fuente>El código fuente</a></li> <li><a href=#_resultados_de_los_tests>Resultados de los tests</a></li> </ul> </li> </ul> </div> <div class=sect1> <h2 id=_bases_de_datos_embebidas>Bases de datos embebidas</h2> <div class=sectionbody> <div class=paragraph> <p>Se trata de bases de datos que carecen de servidor, están inscrustadas en la propia aplicación y suelen estar almacenadas en ficheros locales. Esto último unido a que suelen tener un modo de funcionamiento en el que mantienen los datos en memoria hace que puedan tener un rendimiento muy alto.</p> </div> <div class=paragraph> <p>Eso sí, este gran grado acoplamiento a la aplicación, hace que tengan peor rendimiento cuando se comparten entre varias aplicaciones debido a colisiones de acceso.</p> </div> <div class=paragraph> <p>Otra ventaja es que no tenemos que encargarnos de mantener y gestionar un servidor de bases de datos.</p> </div> <div class=paragraph> <p>Voy a hacer una comparativa de rendimiento entre 3 bases de datos embebidas <a href=https://es.wikipedia.org/wiki/ACID rel=noopener target=_blank>ACID</a> (transaccionales), las <a href=https://es.wikipedia.org/wiki/NoSQL rel=noopener target=_blank>NoSQL</a> no entran en esta comparativa que están en otra liga de rendimiento.</p> </div> <div class=paragraph> <p>Contenidos</p> </div> <div class=sect2> <h3 id=_sqlitedb><a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/db/SqliteDB.java rel=noopener target=_blank>SqliteDB</a></h3> <div class=paragraph> <p>Se trata de una librería escrita en <a href=https://es.wikipedia.org/wiki/ANSI_C rel=noopener target=_blank>ANSI C</a>, de menos de 500KB, multi-plataforma, sin dependencias externas, almacena todo el contenido de la base de datos en un solo fichero.</p> </div> <div class=paragraph> <p>Es la que da mejor rendimiento en los <a href=#_resultados_de_los_tests>Resultados de los tests</a>.</p> </div> <div class=paragraph> <p>Se puede utilizar desde C y C++, pero también <a href=https://es.wikipedia.org/wiki/Sqlite#Lenguajes_de_programaci.C3.B3n rel=noopener target=_blank>desde otros lenguajes de programación</a> (PHP, Python, Java, .NET …​).</p> </div> <div class=paragraph> <p>En el caso de <a href=https://es.wikipedia.org/wiki/Java_(lenguaje_de_programaci%C3%B3n) rel=noopener target=_blank>Java</a> podemos gestionar esta base de datos a través de <a href=https://es.wikipedia.org/wiki/Java_Database_Connectivity rel=noopener target=_blank>JDBC</a>. Podemos obtener la librería de <a href=https://bitbucket.org/xerial/sqlite-jdbc class=bare>https://bitbucket.org/xerial/sqlite-jdbc</a>.</p> </div> <div class=paragraph> <p>Veamos un ejemplo de la inserción de una serie de objetos de la clase <a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/domain/Price.java rel=noopener target=_blank>Price.java</a>.</p> </div> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-java data-lang=java><span class=hljs-keyword>public</span> <span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>JdbcDb</span> <span class=hljs-keyword>implements</span> <span class=hljs-title>DB</span> </span>{

    <span class=hljs-keyword>enum</span> Column {
        INSTRUMENT,
        MARKET,
        PRICE,
        DATE;
    }

    <span class=hljs-keyword>public</span> <span class=hljs-keyword>static</span> <span class=hljs-keyword>final</span> String TABLE_NAME = <span class=hljs-string>"PRICES"</span>;
    <span class=hljs-keyword>public</span> <span class=hljs-keyword>static</span> <span class=hljs-keyword>final</span> String SQL_INSERT = <span class=hljs-string>"INSERT INTO "</span> + TABLE_NAME
            + <span class=hljs-string>" (INSTRUMENT, MARKET, PRICE, DATE) VALUES (?,?,?,?)"</span>;

    <span class=hljs-comment>// ...</span>

    <span class=hljs-function><span class=hljs-keyword>private</span> <span class=hljs-keyword>void</span> <span class=hljs-title>insert</span><span class=hljs-params>(Price p, PreparedStatement preparedStatement)</span> <span class=hljs-keyword>throws</span> SQLException </span>{
        preparedStatement.setString(<span class=hljs-number>1</span>, p.getInstrument());
        preparedStatement.setString(<span class=hljs-number>2</span>, p.getMarket());
        preparedStatement.setDouble(<span class=hljs-number>3</span>, p.getPrice());
        preparedStatement.setTimestamp(<span class=hljs-number>4</span>, <span class=hljs-keyword>new</span> Timestamp(p.getDate().getTime()));
        preparedStatement.addBatch();
    }

    <span class=hljs-meta>@Override</span>
    <span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>void</span> <span class=hljs-title>insert</span><span class=hljs-params>(Price... prices)</span> <span class=hljs-keyword>throws</span> SQLException </span>{
        PreparedStatement preparedStatement = conn.prepareStatement(SQL_INSERT);
        <span class=hljs-keyword>for</span> (Price p : prices) {
            insert(p, preparedStatement);
        }
        preparedStatement.executeBatch();
        preparedStatement.close();
        conn.commit();
    }

    <span class=hljs-comment>// ...</span>
}</code></pre> </div> </div> </div> <div class=sect2> <h3 id=_derbydb_o_javadb><a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/db/DerbyDB.java rel=noopener target=_blank>DerbyDB</a> o <a href=https://www.oracle.com/technetwork/es/java/javadb/overview/index.html rel=noopener target=_blank>JavaDB</a></h3> <div class=paragraph> <p><a href=https://www.oracle.com/technetwork/es/java/javadb/overview/index.html rel=noopener target=_blank>JavaDB</a> es una distribución de Oracle de la base de datos de código libre <a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/db/DerbyDB.java rel=noopener target=_blank>DerbyDB</a>. Soporta el estándar <a href=https://es.wikipedia.org/wiki/SQL rel=noopener target=_blank>ANSI/ISO SQL</a> a través de <a href=https://es.wikipedia.org/wiki/Java_Database_Connectivity rel=noopener target=_blank>JDBC</a> y <a href=https://es.wikipedia.org/wiki/Java_EE rel=noopener target=_blank>Java EE</a>. Estas librerías están incluidas en el <a href=https://es.wikipedia.org/wiki/Java_Development_Kit rel=noopener target=_blank>JDK</a>.</p> </div> <div class=paragraph> <p>Almacena la base de datos en multiples archivos, lo que puede resultar útil para escalar el almacenamiento.</p> </div> <div class=paragraph> <p>Solo podemos utilizarlo en <a href=https://es.wikipedia.org/wiki/Java_(lenguaje_de_programaci%C3%B3n) rel=noopener target=_blank>Java</a>, no desde otros lenguajes.</p> </div> <div class=paragraph> <p>Como veremos más adelante ha sido la más lenta en los <a href=#_resultados_de_los_tests>Resultados de los tests</a>.</p> </div> <div class=paragraph> <p>La implementación de ejemplo de una inserción de una serie de objetos de la clase <a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/domain/Price.java rel=noopener target=_blank>Price.java</a>, es exactamente la misma que la que hemos hecho más arriba en <a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/db/SqliteDB.java rel=noopener target=_blank>SqliteDB</a>, esto es una de las bondades de <a href=https://es.wikipedia.org/wiki/Java_Database_Connectivity rel=noopener target=_blank>JDBC</a>, que nos permite obtener una conexión para una base de datos específica, pero a partir de ahí casi siempre nos podemos olvidar de la base de datos con la que trabajamos, siempre y cuando soporte nuestras consultas <a href=https://es.wikipedia.org/wiki/SQL rel=noopener target=_blank>SQL</a>.</p> </div> </div> <div class=sect2> <h3 id=_objectdb><a href=https://www.objectdb.com/ rel=noopener target=_blank>ObjectDb</a></h3> <div class=paragraph> <p>Es una <a href=https://es.wikipedia.org/wiki/Base_de_datos_orientada_a_objetos>base de datos orientada a objetos</a> que nos permite acceso <a href=https://es.wikipedia.org/wiki/Java_Persistence_API rel=noopener target=_blank>JPA</a>, un estándar de Java que persigue no perder las ventajas de la orientación a objetos; esto se suele perder cuando nos acercamos a la capa de persistencia.</p> </div> <div class=paragraph> <p>Resulta realmente sencillo realizar acciones típicas de una base de datos, abstrayéndonos del SQL, por ejemplo veamos cómo quedaría una inserción de un array de objetos de la clase Price con <a href=https://www.objectdb.com/ rel=noopener target=_blank>ObjectDb</a>.</p> </div> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-java data-lang=java><span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>void</span> <span class=hljs-title>insert</span><span class=hljs-params>(Price... prices)</span> <span class=hljs-keyword>throws</span> SQLException </span>{
    em.getTransaction().begin();
    <span class=hljs-keyword>for</span> (Price p : prices) {
        em.persist(p);
    }
    em.getTransaction().commit();
}</code></pre> </div> </div> <div class=paragraph> <p>Si a esta facilidad de uso, le unimos que los <a href=#_resultados_de_los_tests>Resultados de los tests</a> de rendimiento han sido muy buenos (cerca de <a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/db/SqliteDB.java rel=noopener target=_blank>SqliteDB</a>), puedo decir que he descubierto una base de datos embebida a tener muy en cuenta en futuros proyectos <a href=https://es.wikipedia.org/wiki/Java_(lenguaje_de_programaci%C3%B3n) rel=noopener target=_blank>Java</a>, eso sí, al igual que con <a href=https://www.oracle.com/technetwork/es/java/javadb/overview/index.html rel=noopener target=_blank>JavaDB</a>, solo nos sirve si vamos a programar en <a href=https://es.wikipedia.org/wiki/Java_(lenguaje_de_programaci%C3%B3n) rel=noopener target=_blank>Java</a>.</p> </div> </div> </div> </div> <div class=sect1> <h2 id=_los_tests>Los Tests</h2> <div class=sectionbody> <div class=paragraph> <p>Simplemente consisten en realizar repetidamente una serie operaciones <a href=https://es.wikipedia.org/wiki/CRUD rel=noopener target=_blank>CRUD</a>. Para cada base de datos, el test realiza una serie de inserciones, selects, actualizaciones y borrado de objetos de la clase Precio.</p> </div> <div class=paragraph> <p>He utilizado 100000 instancias de la clase <a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/domain/Price.java rel=noopener target=_blank>Price.java</a>, las mismas para cada tipo de base de datos.</p> </div> <div class=paragraph> <p>Para esto he creado una interfaz <a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/db/DB.java rel=noopener target=_blank>DB.java</a> que compartirán cada una de las implementaciones para cada base de datos.</p> </div> <div class=listingblock> <div class=title>DB.java</div> <div class=content> <pre class=highlight><code class=language-java data-lang=java><span class=hljs-keyword>public</span> <span class=hljs-class><span class=hljs-keyword>interface</span> <span class=hljs-title>DB</span> </span>{

    <span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>void</span> <span class=hljs-title>insert</span><span class=hljs-params>(Price... prices)</span> <span class=hljs-keyword>throws</span> SQLException</span>;

    <span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>void</span> <span class=hljs-title>createTable</span><span class=hljs-params>()</span></span>;

    <span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>void</span> <span class=hljs-title>deleteAll</span><span class=hljs-params>()</span></span>;

    <span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>void</span> <span class=hljs-title>update</span><span class=hljs-params>(Price... prices)</span> <span class=hljs-keyword>throws</span> SQLException</span>;

    <span class=hljs-function><span class=hljs-keyword>public</span> Set&lt;Price> <span class=hljs-title>selectAll</span><span class=hljs-params>()</span></span>;

}</code></pre> </div> </div> <div class=sect2> <h3 id=_las_bases_de_datos_jdbc>Las Bases de Datos JDBC</h3> <div class=paragraph> <p>Solo cambian los datos necesarios para obtener el driver y la conexión a la base de datos, por eso toda la lógica está en la clase <a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/db/JdbcDb.java rel=noopener target=_blank>JdbcDb</a> de la que heredan <a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/db/SqliteDB.java rel=noopener target=_blank>SqliteDB</a> y <a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/db/DerbyDB.java rel=noopener target=_blank>DerbyDB</a>.</p> </div> </div> <div class=sect2> <h3 id=_el_código_fuente>El código fuente</h3> <div class=paragraph> <p>Podéis descargar el código fuente de <a href=https://github.com/carlosvin/java_embedded_databases class=bare>https://github.com/carlosvin/java_embedded_databases</a>.</p> </div> <div class=paragraph> <p>Se trata de un proyecto <a href=https://www.gradle.org rel=noopener target=_blank>Gradle</a>, por lo que para ejecutar los tests solo tenéis que ejecutar: <code>grade test</code>.</p> </div> <div class=paragraph> <p><a href=https://www.gradle.org rel=noopener target=_blank>Gradle</a> descargará automáticamente las librerías necesarias, compilará y ejecutará los tests.</p> </div> <div class=paragraph> <p>También podéis ver directamente la ejecución en <a href=https://travis-ci.org/carlosvin/java_embedded_databases class=bare>https://travis-ci.org/carlosvin/java_embedded_databases</a>.</p> </div> <div class=paragraph> <p><a href=https://travis-ci.org/carlosvin/java_embedded_databases><span class=image><img alt=image src=https://travis-ci.org/carlosvin/java_embedded_databases.svg></span></a></p> </div> </div> <div class=sect2> <h3 id=_resultados_de_los_tests>Resultados de los tests</h3> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-bash data-lang=bash>db.DbTest > testSqliteDB STANDARD_OUT
    Testing with 100000 elements
    100000 Prices SqliteDB, total time 3455 ms <b class=conum>(1)</b>
    	Insert:	 1508 ms
    	Select:	 605 ms
    	Update:	 1319 ms
    	Delete:	 23 ms
    ----------------------------------------------
db.DbTest > testObjectDB STANDARD_OUT
    Testing with 100000 elements
    100000 Prices ObjectDB, total time 6467 ms <b class=conum>(2)</b>
    	Insert:	 2579 ms
    	Select:	 1126 ms
    	Update:	 1698 ms
    	Delete:	 1064 ms
    ----------------------------------------------
db.DbTest > testDerbyDB STANDARD_OUT
    Testing with 100000 elements
    100000 Prices DerbyDB, total time 24808 ms <b class=conum>(3)</b>
    	Insert:	 11467 ms
    	Select:	 695 ms
    	Update:	 6983 ms
    	Delete:	 5663 ms</code></pre> </div> </div> <div class="arabic colist"> <ol> <li> <p><a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/db/SqliteDB.java rel=noopener target=_blank>SqliteDB</a> es el más rápido.</p> </li> <li> <p><a href=https://www.objectdb.com/ rel=noopener target=_blank>ObjectDb</a> es dos veces más lento que <a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/db/SqliteDB.java rel=noopener target=_blank>SqliteDB</a>.</p> </li> <li> <p><a href=https://www.oracle.com/technetwork/es/java/javadb/overview/index.html rel=noopener target=_blank>JavaDB</a> o <a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/db/DerbyDB.java rel=noopener target=_blank>DerbyDB</a> es el más lento, unas 8 veces más lento que <a href=https://github.com/carlosvin/java_embedded_databases/blob/master/src/main/java/db/SqliteDB.java rel=noopener target=_blank>SqliteDB</a></p> </li> </ol> </div> </div> </div> </div></div></main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,(function(a,b,c,d,e,f,g){return {post:{sectids:a,"toc-placement":"auto",notitle:a,stylesheet:a,webfonts:a,prewrap:a,"attribute-undefined":"drop-line","attribute-missing":"skip","iconfont-remote":a,"caution-caption":"Caution","important-caption":"Important","note-caption":"Note","tip-caption":"Tip","warning-caption":"Warning","example-caption":"Example","figure-caption":"Figure","table-caption":"Table","toc-title":"Table of Contents","section-refsig":"Section","part-refsig":"Part","chapter-refsig":"Chapter","appendix-refsig":c,"appendix-caption":c,"untitled-label":"Untitled","version-label":"Version","last-update-label":"Last updated",docfile:"java-embedded-db-performance-comparison.es.adoc",docdir:a,docfilesuffix:".adoc",docname:"java-embedded-db-performance-comparison.es",embedded:a,asciidoctor:a,"asciidoctor-version":"2.0.10","safe-mode-name":"secure","safe-mode-secure":a,"safe-mode-level":20,"max-include-depth":64,"user-home":d,backend:"html5","max-attribute-value-size":4096,linkcss:a,doctype:"article",htmlsyntax:b,"backend-html5-doctype-article":a,"doctype-article":a,"backend-html5":a,outfilesuffix:".html",filetype:b,"filetype-html":a,"basebackend-html-doctype-article":a,"basebackend-html":a,basebackend:b,stylesdir:d,iconsdir:".\u002Fimages\u002Ficons",localdate:"2020-04-26",localyear:e,localtime:"18:01:07 +0200",localdatetime:"2020-04-26 18:01:07 +0200",docdate:"2020-04-19",docyear:e,doctime:"10:46:31 +0200",docdatetime:"2020-04-19 10:46:31 +0200",doctitle:f,date:"2014\u002F06\u002F07 18:09:00",keywords:["Java","database","embedded"],description:g,lang:"es",toc:a,gradle:"https:\u002F\u002Fwww.gradle.org[Gradle,window=_blank]",derbydb:"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FDerbyDB.java[DerbyDB,window=_blank]",sqlitedb:"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FSqliteDB.java[SqliteDB,window=_blank]",jdbcdb:"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FJdbcDb.java[JdbcDb,window=_blank]",jdbc:"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FJava_Database_Connectivity[JDBC,window=_blank]",jdk:"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FJava_Development_Kit[JDK,window=_blank]",acid:"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FACID[ACID,window=_blank]",nosql:"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FNoSQL[NoSQL,window=_blank]",derby:"https:\u002F\u002Fdb.apache.org\u002Fderby\u002F[Derby,window=_blank]",javadb:"https:\u002F\u002Fwww.oracle.com\u002Ftechnetwork\u002Fes\u002Fjava\u002Fjavadb\u002Foverview\u002Findex.html[JavaDB,window=_blank]",jpa:"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FJava_Persistence_API[JPA,window=_blank]",java:"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FJava_(lenguaje_de_programaci%C3%B3n)[Java,window=_blank]",sql:"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FSQL[SQL,window=_blank]",crud:"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FCRUD[CRUD,window=_blank]",pricejava:"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdomain\u002FPrice.java[Price.java,window=_blank]",dbjava:"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FDB.java[DB.java,window=_blank]",objectdb:"https:\u002F\u002Fwww.objectdb.com\u002F[ObjectDb,window=_blank]",authorcount:0,title:f,summary:g,html:"\u003Cdiv id=\"toc\" class=\"toc\"\u003E\n\u003Cdiv id=\"toctitle\"\u003ETable of Contents\u003C\u002Fdiv\u003E\n\u003Cul class=\"sectlevel1\"\u003E\n\u003Cli\u003E\u003Ca href=\"#_bases_de_datos_embebidas\"\u003EBases de datos embebidas\u003C\u002Fa\u003E\n\u003Cul class=\"sectlevel2\"\u003E\n\u003Cli\u003E\u003Ca href=\"#_sqlitedb\"\u003ESqliteDB\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_derbydb_o_javadb\"\u003EDerbyDB o JavaDB\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_objectdb\"\u003EObjectDb\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_los_tests\"\u003ELos Tests\u003C\u002Fa\u003E\n\u003Cul class=\"sectlevel2\"\u003E\n\u003Cli\u003E\u003Ca href=\"#_las_bases_de_datos_jdbc\"\u003ELas Bases de Datos JDBC\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_el_código_fuente\"\u003EEl código fuente\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_resultados_de_los_tests\"\u003EResultados de los tests\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_bases_de_datos_embebidas\"\u003EBases de datos embebidas\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ESe trata de bases de datos que carecen de servidor, están inscrustadas en la propia aplicación y suelen estar almacenadas en ficheros locales. Esto último unido a que suelen tener un modo de funcionamiento en el que mantienen los datos en memoria hace que puedan tener un rendimiento muy alto.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EEso sí, este gran grado acoplamiento a la aplicación, hace que tengan peor rendimiento cuando se comparten entre varias aplicaciones debido a colisiones de acceso.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EOtra ventaja es que no tenemos que encargarnos de mantener y gestionar un servidor de bases de datos.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EVoy a hacer una comparativa de rendimiento entre 3 bases de datos embebidas \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FACID\" target=\"_blank\" rel=\"noopener\"\u003EACID\u003C\u002Fa\u003E (transaccionales), las \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FNoSQL\" target=\"_blank\" rel=\"noopener\"\u003ENoSQL\u003C\u002Fa\u003E no entran en esta comparativa que están en otra liga de rendimiento.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EContenidos\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_sqlitedb\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FSqliteDB.java\" target=\"_blank\" rel=\"noopener\"\u003ESqliteDB\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ESe trata de una librería escrita en \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FANSI_C\" target=\"_blank\" rel=\"noopener\"\u003EANSI C\u003C\u002Fa\u003E, de menos de 500KB, multi-plataforma, sin dependencias externas, almacena todo el contenido de la base de datos en un solo fichero.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EEs la que da mejor rendimiento en los \u003Ca href=\"#_resultados_de_los_tests\"\u003EResultados de los tests\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ESe puede utilizar desde C y C++, pero también \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FSqlite#Lenguajes_de_programaci.C3.B3n\" target=\"_blank\" rel=\"noopener\"\u003Edesde otros lenguajes de programación\u003C\u002Fa\u003E (PHP, Python, Java, .NET &#8230;&#8203;).\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EEn el caso de \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FJava_(lenguaje_de_programaci%C3%B3n)\" target=\"_blank\" rel=\"noopener\"\u003EJava\u003C\u002Fa\u003E podemos gestionar esta base de datos a través de \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FJava_Database_Connectivity\" target=\"_blank\" rel=\"noopener\"\u003EJDBC\u003C\u002Fa\u003E. Podemos obtener la librería de \u003Ca href=\"https:\u002F\u002Fbitbucket.org\u002Fxerial\u002Fsqlite-jdbc\" class=\"bare\"\u003Ehttps:\u002F\u002Fbitbucket.org\u002Fxerial\u002Fsqlite-jdbc\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EVeamos un ejemplo de la inserción de una serie de objetos de la clase \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdomain\u002FPrice.java\" target=\"_blank\" rel=\"noopener\"\u003EPrice.java\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-java\" data-lang=\"java\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EJdbcDb\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Eimplements\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EDB\u003C\u002Fspan\u003E \u003C\u002Fspan\u003E{\n\n    \u003Cspan class=\"hljs-keyword\"\u003Eenum\u003C\u002Fspan\u003E Column {\n        INSTRUMENT,\n        MARKET,\n        PRICE,\n        DATE;\n    }\n\n    \u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Efinal\u003C\u002Fspan\u003E String TABLE_NAME = \u003Cspan class=\"hljs-string\"\u003E\"PRICES\"\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Efinal\u003C\u002Fspan\u003E String SQL_INSERT = \u003Cspan class=\"hljs-string\"\u003E\"INSERT INTO \"\u003C\u002Fspan\u003E + TABLE_NAME\n            + \u003Cspan class=\"hljs-string\"\u003E\" (INSTRUMENT, MARKET, PRICE, DATE) VALUES (?,?,?,?)\"\u003C\u002Fspan\u003E;\n\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eprivate\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Einsert\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E(Price p, PreparedStatement preparedStatement)\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Ethrows\u003C\u002Fspan\u003E SQLException \u003C\u002Fspan\u003E{\n        preparedStatement.setString(\u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E, p.getInstrument());\n        preparedStatement.setString(\u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, p.getMarket());\n        preparedStatement.setDouble(\u003Cspan class=\"hljs-number\"\u003E3\u003C\u002Fspan\u003E, p.getPrice());\n        preparedStatement.setTimestamp(\u003Cspan class=\"hljs-number\"\u003E4\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E Timestamp(p.getDate().getTime()));\n        preparedStatement.addBatch();\n    }\n\n    \u003Cspan class=\"hljs-meta\"\u003E@Override\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Einsert\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E(Price... prices)\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Ethrows\u003C\u002Fspan\u003E SQLException \u003C\u002Fspan\u003E{\n        PreparedStatement preparedStatement = conn.prepareStatement(SQL_INSERT);\n        \u003Cspan class=\"hljs-keyword\"\u003Efor\u003C\u002Fspan\u003E (Price p : prices) {\n            insert(p, preparedStatement);\n        }\n        preparedStatement.executeBatch();\n        preparedStatement.close();\n        conn.commit();\n    }\n\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_derbydb_o_javadb\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FDerbyDB.java\" target=\"_blank\" rel=\"noopener\"\u003EDerbyDB\u003C\u002Fa\u003E o \u003Ca href=\"https:\u002F\u002Fwww.oracle.com\u002Ftechnetwork\u002Fes\u002Fjava\u002Fjavadb\u002Foverview\u002Findex.html\" target=\"_blank\" rel=\"noopener\"\u003EJavaDB\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.oracle.com\u002Ftechnetwork\u002Fes\u002Fjava\u002Fjavadb\u002Foverview\u002Findex.html\" target=\"_blank\" rel=\"noopener\"\u003EJavaDB\u003C\u002Fa\u003E es una distribución de Oracle de la base de datos de código libre \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FDerbyDB.java\" target=\"_blank\" rel=\"noopener\"\u003EDerbyDB\u003C\u002Fa\u003E. Soporta el estándar \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FSQL\" target=\"_blank\" rel=\"noopener\"\u003EANSI\u002FISO SQL\u003C\u002Fa\u003E a través de \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FJava_Database_Connectivity\" target=\"_blank\" rel=\"noopener\"\u003EJDBC\u003C\u002Fa\u003E y \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FJava_EE\" target=\"_blank\" rel=\"noopener\"\u003EJava EE\u003C\u002Fa\u003E. Estas librerías están incluidas en el \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FJava_Development_Kit\" target=\"_blank\" rel=\"noopener\"\u003EJDK\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EAlmacena la base de datos en multiples archivos, lo que puede resultar útil para escalar el almacenamiento.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ESolo podemos utilizarlo en \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FJava_(lenguaje_de_programaci%C3%B3n)\" target=\"_blank\" rel=\"noopener\"\u003EJava\u003C\u002Fa\u003E, no desde otros lenguajes.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EComo veremos más adelante ha sido la más lenta en los \u003Ca href=\"#_resultados_de_los_tests\"\u003EResultados de los tests\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ELa implementación de ejemplo de una inserción de una serie de objetos de la clase \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdomain\u002FPrice.java\" target=\"_blank\" rel=\"noopener\"\u003EPrice.java\u003C\u002Fa\u003E, es exactamente la misma que la que hemos hecho más arriba en \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FSqliteDB.java\" target=\"_blank\" rel=\"noopener\"\u003ESqliteDB\u003C\u002Fa\u003E, esto es una de las bondades de \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FJava_Database_Connectivity\" target=\"_blank\" rel=\"noopener\"\u003EJDBC\u003C\u002Fa\u003E, que nos permite obtener una conexión para una base de datos específica, pero a partir de ahí casi siempre nos podemos olvidar de la base de datos con la que trabajamos, siempre y cuando soporte nuestras consultas \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FSQL\" target=\"_blank\" rel=\"noopener\"\u003ESQL\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_objectdb\"\u003E\u003Ca href=\"https:\u002F\u002Fwww.objectdb.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EObjectDb\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EEs una \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FBase_de_datos_orientada_a_objetos\"\u003Ebase de datos orientada a objetos\u003C\u002Fa\u003E que nos permite acceso \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FJava_Persistence_API\" target=\"_blank\" rel=\"noopener\"\u003EJPA\u003C\u002Fa\u003E, un estándar de Java que persigue no perder las ventajas de la orientación a objetos; esto se suele perder cuando nos acercamos a la capa de persistencia.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EResulta realmente sencillo realizar acciones típicas de una base de datos, abstrayéndonos del SQL, por ejemplo veamos cómo quedaría una inserción de un array de objetos de la clase Price con \u003Ca href=\"https:\u002F\u002Fwww.objectdb.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EObjectDb\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-java\" data-lang=\"java\"\u003E\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Einsert\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E(Price... prices)\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Ethrows\u003C\u002Fspan\u003E SQLException \u003C\u002Fspan\u003E{\n    em.getTransaction().begin();\n    \u003Cspan class=\"hljs-keyword\"\u003Efor\u003C\u002Fspan\u003E (Price p : prices) {\n        em.persist(p);\n    }\n    em.getTransaction().commit();\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ESi a esta facilidad de uso, le unimos que los \u003Ca href=\"#_resultados_de_los_tests\"\u003EResultados de los tests\u003C\u002Fa\u003E de rendimiento han sido muy buenos (cerca de \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FSqliteDB.java\" target=\"_blank\" rel=\"noopener\"\u003ESqliteDB\u003C\u002Fa\u003E), puedo decir que he descubierto una base de datos embebida a tener muy en cuenta en futuros proyectos \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FJava_(lenguaje_de_programaci%C3%B3n)\" target=\"_blank\" rel=\"noopener\"\u003EJava\u003C\u002Fa\u003E, eso sí, al igual que con \u003Ca href=\"https:\u002F\u002Fwww.oracle.com\u002Ftechnetwork\u002Fes\u002Fjava\u002Fjavadb\u002Foverview\u002Findex.html\" target=\"_blank\" rel=\"noopener\"\u003EJavaDB\u003C\u002Fa\u003E, solo nos sirve si vamos a programar en \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FJava_(lenguaje_de_programaci%C3%B3n)\" target=\"_blank\" rel=\"noopener\"\u003EJava\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_los_tests\"\u003ELos Tests\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ESimplemente consisten en realizar repetidamente una serie operaciones \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FCRUD\" target=\"_blank\" rel=\"noopener\"\u003ECRUD\u003C\u002Fa\u003E. Para cada base de datos, el test realiza una serie de inserciones, selects, actualizaciones y borrado de objetos de la clase Precio.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EHe utilizado 100000 instancias de la clase \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdomain\u002FPrice.java\" target=\"_blank\" rel=\"noopener\"\u003EPrice.java\u003C\u002Fa\u003E, las mismas para cada tipo de base de datos.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EPara esto he creado una interfaz \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FDB.java\" target=\"_blank\" rel=\"noopener\"\u003EDB.java\u003C\u002Fa\u003E que compartirán cada una de las implementaciones para cada base de datos.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003EDB.java\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-java\" data-lang=\"java\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Einterface\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EDB\u003C\u002Fspan\u003E \u003C\u002Fspan\u003E{\n\n    \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Einsert\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E(Price... prices)\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Ethrows\u003C\u002Fspan\u003E SQLException\u003C\u002Fspan\u003E;\n\n    \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EcreateTable\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E()\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E;\n\n    \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EdeleteAll\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E()\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E;\n\n    \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Eupdate\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E(Price... prices)\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Ethrows\u003C\u002Fspan\u003E SQLException\u003C\u002Fspan\u003E;\n\n    \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Epublic\u003C\u002Fspan\u003E Set&lt;Price&gt; \u003Cspan class=\"hljs-title\"\u003EselectAll\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E()\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E;\n\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_las_bases_de_datos_jdbc\"\u003ELas Bases de Datos JDBC\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ESolo cambian los datos necesarios para obtener el driver y la conexión a la base de datos, por eso toda la lógica está en la clase \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FJdbcDb.java\" target=\"_blank\" rel=\"noopener\"\u003EJdbcDb\u003C\u002Fa\u003E de la que heredan \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FSqliteDB.java\" target=\"_blank\" rel=\"noopener\"\u003ESqliteDB\u003C\u002Fa\u003E y \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FDerbyDB.java\" target=\"_blank\" rel=\"noopener\"\u003EDerbyDB\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_el_código_fuente\"\u003EEl código fuente\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EPodéis descargar el código fuente de \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\" class=\"bare\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ESe trata de un proyecto \u003Ca href=\"https:\u002F\u002Fwww.gradle.org\" target=\"_blank\" rel=\"noopener\"\u003EGradle\u003C\u002Fa\u003E, por lo que para ejecutar los tests solo tenéis que ejecutar: \u003Ccode\u003Egrade test\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.gradle.org\" target=\"_blank\" rel=\"noopener\"\u003EGradle\u003C\u002Fa\u003E descargará automáticamente las librerías necesarias, compilará y ejecutará los tests.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ETambién podéis ver directamente la ejecución en \u003Ca href=\"https:\u002F\u002Ftravis-ci.org\u002Fcarlosvin\u002Fjava_embedded_databases\" class=\"bare\"\u003Ehttps:\u002F\u002Ftravis-ci.org\u002Fcarlosvin\u002Fjava_embedded_databases\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Ftravis-ci.org\u002Fcarlosvin\u002Fjava_embedded_databases\"\u003E\u003Cspan class=\"image\"\u003E\u003Cimg src=\"https:\u002F\u002Ftravis-ci.org\u002Fcarlosvin\u002Fjava_embedded_databases.svg\" alt=\"image\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_resultados_de_los_tests\"\u003EResultados de los tests\u003C\u002Fh3\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-bash\" data-lang=\"bash\"\u003Edb.DbTest &gt; testSqliteDB STANDARD_OUT\n    Testing with 100000 elements\n    100000 Prices SqliteDB, total time 3455 ms \u003Cb class=\"conum\"\u003E(1)\u003C\u002Fb\u003E\n    \tInsert:\t 1508 ms\n    \tSelect:\t 605 ms\n    \tUpdate:\t 1319 ms\n    \tDelete:\t 23 ms\n    ----------------------------------------------\ndb.DbTest &gt; testObjectDB STANDARD_OUT\n    Testing with 100000 elements\n    100000 Prices ObjectDB, total time 6467 ms \u003Cb class=\"conum\"\u003E(2)\u003C\u002Fb\u003E\n    \tInsert:\t 2579 ms\n    \tSelect:\t 1126 ms\n    \tUpdate:\t 1698 ms\n    \tDelete:\t 1064 ms\n    ----------------------------------------------\ndb.DbTest &gt; testDerbyDB STANDARD_OUT\n    Testing with 100000 elements\n    100000 Prices DerbyDB, total time 24808 ms \u003Cb class=\"conum\"\u003E(3)\u003C\u002Fb\u003E\n    \tInsert:\t 11467 ms\n    \tSelect:\t 695 ms\n    \tUpdate:\t 6983 ms\n    \tDelete:\t 5663 ms\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"colist arabic\"\u003E\n\u003Col\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FSqliteDB.java\" target=\"_blank\" rel=\"noopener\"\u003ESqliteDB\u003C\u002Fa\u003E es el más rápido.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.objectdb.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EObjectDb\u003C\u002Fa\u003E es dos veces más lento que \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FSqliteDB.java\" target=\"_blank\" rel=\"noopener\"\u003ESqliteDB\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.oracle.com\u002Ftechnetwork\u002Fes\u002Fjava\u002Fjavadb\u002Foverview\u002Findex.html\" target=\"_blank\" rel=\"noopener\"\u003EJavaDB\u003C\u002Fa\u003E o \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FDerbyDB.java\" target=\"_blank\" rel=\"noopener\"\u003EDerbyDB\u003C\u002Fa\u003E es el más lento, unas 8 veces más lento que \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fjava_embedded_databases\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain\u002Fjava\u002Fdb\u002FSqliteDB.java\" target=\"_blank\" rel=\"noopener\"\u003ESqliteDB\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E",slug:"java-embedded-db-performance-comparison"},isCanonical:true}}("","html","Appendix",".","2020","Bases de Datos Embebidas Java: Comparación de Rendimiento","Comparación de rendimiento en Java entre tres bases de datos embebidas: Derby\u002FJavaDB, Sqlite y ObjectDB"))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.9d576ed7.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main","/client/client.9d576ed7.js")}document.head.appendChild(s)</script> <script async defer> (function (i, s, o, g, r, a, m) {
		i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
			(i[r].q = i[r].q || []).push(arguments)
		}, i[r].l = 1 * new Date(); a = s.createElement(o),
			m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
		})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

		ga('create', 'UA-1328360-10', 'auto');
		ga('send', 'pageview'); </script> 