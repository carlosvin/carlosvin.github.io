<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <meta content=sapper name=generator> <meta content=a22af7614c96254d name=yandex-verification> <link href=/icons/icon-192x192.png rel=apple-touch-icon> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <link href=client/main.894811689.css rel=stylesheet><link href=client/[...slug].927b8916.css rel=stylesheet><link href=client/client.8a63588c.css rel=stylesheet><link href=client/Details.0fc2ed24.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>This is Sapper!</title><link href=/rss rel=alternate type=application/rss+xml title='Subscribe to Carlos says "bla bla"'><meta content=2020-04-19 name=date scheme=YYYY-MM-DD><meta content="This blog has been migrated from Nikola to Sapper. In this article we will go through the main reasons, performance results and some other thoughts" name=description><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/vs.min.css rel=preload as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/vs.min.css rel=stylesheet></noscript><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <nav class=svelte-1v6ow72><button class=svelte-1v6ow72>≡</button> <ul class="svelte-1v6ow72 closed"><li class=svelte-1y8uoef><a href=. class=svelte-1y8uoef>Carlos says "bla bla"</a></li> <li class=svelte-1y8uoef><a href=categories class=svelte-1y8uoef>Categories</a></li> <li class=svelte-1y8uoef><a href=about class=svelte-1y8uoef>About</a></ul> <div class="h svelte-1w8skyw"><a href=/rss rel=noopener target=_blank class="icon svelte-1lu397 rss" title='Subscribe to Carlos says "bla bla"'></a> <a href=https://github.com/carlosvin rel=noopener target=_blank class="icon svelte-1lu397 github" title="Find me at github"></a> <a href=https://twitter.com/carlosvin rel=noopener target=_blank class="icon svelte-1lu397 twitter" title="Find me at twitter"></a> <a href=https://stackoverflow.com/story/carlosvin rel=noopener target=_blank class="icon svelte-1lu397 stackoverflow" title="Find me at stackoverflow"></a></div></nav> <main class=svelte-1m42syy> <header class=svelte-78n7ho><h1 class=svelte-78n7ho>This is Sapper! <span class="svelte-78n7ho share"><a href="https://twitter.com/intent/tweet?url=https://carlosvin.github.io/posts/this-is-sapper/en&text=This is Sapper!: This blog has been migrated from Nikola to Sapper. In this article we will go through the main reasons, performance results and some other thoughts&hashtags=Sapper,Svelte,JAMStack" rel=noopener target=_blank class="icon svelte-1lu397 twitter" title='Share "This is Sapper!"'></a></span></h1> <p class="svelte-78n7ho summary">This blog has been migrated from Nikola to Sapper. In this article we will go through the main reasons, performance results and some other thoughts</p> <div class="subtitle svelte-16mbbpz"><span class=date>19/04/2020</span> <span class=svelte-16xp99e><a href=categories/sapper class=svelte-1gu8b1d title=Sapper><span class="hover svelte-1x4e0dt">Sapper</span></a><a href=categories/svelte class=svelte-1gu8b1d title=Svelte><span class="hover svelte-1x4e0dt">Svelte</span></a><a href=categories/jamstack class=svelte-1gu8b1d title=JAMStack><span class="hover svelte-1x4e0dt">JAMStack</span></a></span></div></header> <div class="content svelte-78n7ho"><div class=toc id=toc> <div id=toctitle>Table of Contents</div> <ul class=sectlevel1> <li><a href=#_why_leaving_nikola>Why leaving Nikola</a></li> <li><a href=#_why_sapper>Why Sapper</a> <ul class=sectlevel2> <li><a href=#_dx_developer_experience>DX: Developer experience</a></li> <li><a href=#_ux_final_result_of_blogs_in_sapper>UX: Final result of blogs in Sapper</a></li> </ul> </li> <li><a href=#_asciidoctor>Asciidoctor</a> <ul class=sectlevel2> <li><a href=#_rollup_plugin_asciidoc_to_the_rescue>rollup-plugin-asciidoc to the rescue</a></li> <li><a href=#_rollup_plugin_glob_to_the_rescue>rollup-plugin-glob to the rescue</a></li> </ul> </li> <li><a href=#_syntax_highlighting>Syntax highlighting</a></li> <li><a href=#_result>Result</a></li> <li><a href=#_testing>Testing</a> <ul class=sectlevel2> <li><a href=#_writing_a_test>Writing a test</a></li> </ul> </li> </ul> </div> <div id=preamble> <div class=sectionbody> <div class=paragraph> <p>I’ve migrated my blog infrastructure from <a href=https://getnikola.com rel=noopener target=_blank>Nikola</a> + <a href=https://en.wikipedia.org/wiki/ReStructuredText rel=noopener target=_blank>reStructuredText</a> to <a href=https://sapper.svelte.dev/ rel=noopener target=_blank>Sapper</a> + <a href=https://asciidoctor.org/ rel=noopener target=_blank>Asciidoctor</a>.</p> </div> </div> </div> <div class=sect1> <h2 id=_why_leaving_nikola>Why leaving <a href=https://getnikola.com rel=noopener target=_blank>Nikola</a></h2> <div class=sectionbody> <div class=paragraph> <p>This blog was powered by <a href=https://getnikola.com rel=noopener target=_blank>Nikola</a> since 2014, when <a href=https://jamstack.org rel=noopener target=_blank>JAMStack</a> term didn’t even exist. It really did the job, it has out-of-the-box features that I needed:</p> </div> <div class=ulist> <ul> <li> <p>Simple multi-lang support.</p> </li> <li> <p><a href=https://en.wikipedia.org/wiki/ReStructuredText rel=noopener target=_blank>reStructuredText</a> which I prefer over <a href=https://en.wikipedia.org/wiki/Markdown rel=noopener target=_blank>Markdown</a>.</p> </li> <li> <p>It was developed in <a href=https://python.org rel=noopener target=_blank>Python</a>, a programming language that I know and I enjoy.</p> </li> </ul> </div> <div class=paragraph> <p>I faced some <strong>issues</strong> which annoyed me for quite some time:</p> </div> <div class=ulist> <ul> <li> <p>My config file got bloated.</p> </li> <li> <p>It was not easy to modify or create templates, neither to find templates I liked.</p> </li> <li> <p>Site performance was not awesome, my last <a href=https://developers.google.com/web/tools/lighthouse rel=noopener target=_blank>Lighthouse audits</a> were around 80, depending on the section. Except SEO section, which was 96.</p> </li> </ul> </div> </div> </div> <div class=sect1> <h2 id=_why_sapper>Why Sapper</h2> <div class=sectionbody> <div class=sect2> <h3 id=_dx_developer_experience>DX: Developer experience</h3> <div class=paragraph> <p>I already used <a href=https://sapper.svelte.dev/ rel=noopener target=_blank>Sapper</a> for creating some tiny <a href=https://web.dev/progressive-web-apps rel=noopener target=_blank>PWA</a>s <sup class=footnote>[<a href=#_footnotedef_1 class=footnote title="View footnote." id=_footnoteref_1>1</a>]</sup>, here 2 examples I developed to learn <a href=https://svelte.dev rel=noopener target=_blank>Svelte</a> and <a href=https://sapper.svelte.dev/ rel=noopener target=_blank>Sapper</a>:</p> </div> <div class=dlist> <dl> <dt class=hdlist1><a href=https://currency-loss.netlify.app rel=noopener target=_blank>Currency Exchage Loss Calculator</a></dt> <dd> <p>It is a helpful application for travellers visiting currency exchange houses. Based on the rate they offer and the money you want ot change it calculates the amount of money that you are losing in that transaction.</p> </dd> <dt class=hdlist1><a href=https://covid-stats-pwa.netlify.app rel=noopener target=_blank>COVID-19 Stats</a></dt> <dd> <p>It shows COVID-19 statistics by country and date.</p> </dd> </dl> </div> <div class=paragraph> <p>While creating those <a href=https://web.dev/progressive-web-apps rel=noopener target=_blank>PWA</a>s, developing experience with <a href=https://sapper.svelte.dev/ rel=noopener target=_blank>Sapper</a>&<a href=https://svelte.dev rel=noopener target=_blank>Svelte</a> was quite impressive.</p> </div> </div> <div class=sect2> <h3 id=_ux_final_result_of_blogs_in_sapper>UX: Final result of blogs in Sapper</h3> <div class=paragraph> <p>Lately I’ve stumbled upon with some blogs using <a href=https://sapper.svelte.dev/ rel=noopener target=_blank>Sapper</a> like the own <a href=https://sapper.svelte.dev/ rel=noopener target=_blank>Sapper</a> blog, <a href=https://www.codingwithjesse.com/blog/statically-generating-a-blog-with-svelte-sapper/ rel=noopener target=_blank>Coding with Jessie</a> or <a href=https://www.swyx.io/writing/svelte-static/ rel=noopener target=_blank>swyx.io</a>. Check those blogs by yourself, IMHO user experience is pretty good in all of them.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class=icon> <div class=title>Note</div> </td> <td class=content> <a href=https://sapper.svelte.dev/ rel=noopener target=_blank>Sapper</a> is inspired in <a href=https://nextjs.org/ >Next.js</a>, here you can find <a href=https://sapper.svelte.dev/docs#Comparison_with_Next_js>a comparison with this better known JAMStack framework</a>. </td> </tr> </table> </div> </div> </div> </div> <div class=sect1> <h2 id=_asciidoctor><a href=https://asciidoctor.org/ rel=noopener target=_blank>Asciidoctor</a></h2> <div class=sectionbody> <div class=paragraph> <p>I don’t have a strong opinion about using <a href=https://asciidoctor.org/ rel=noopener target=_blank>Asciidoctor</a> or <a href=https://en.wikipedia.org/wiki/ReStructuredText rel=noopener target=_blank>reStructuredText</a>, I am comfortable with both of them, but there is more support for <a href=https://asciidoctor.org/ rel=noopener target=_blank>Asciidoctor</a> in other programming languages, like <a href=https://en.wikipedia.org/wiki/JavaScript rel=noopener target=_blank>JavaScript</a>. So basically I switched to <a href=https://asciidoctor.org/ rel=noopener target=_blank>Asciidoctor</a> because I didn’t find a <a href=https://en.wikipedia.org/wiki/JavaScript rel=noopener target=_blank>JavaScript</a> library able to properly convert <a href=https://en.wikipedia.org/wiki/ReStructuredText rel=noopener target=_blank>reStructuredText</a> to <a href=https://developer.mozilla.org/en-US/docs/Web/HTML rel=noopener target=_blank>HTML</a>.</p> </div> <div class=paragraph> <p>The main issue I found not using <a href=https://en.wikipedia.org/wiki/Markdown rel=noopener target=_blank>Markdown</a> was the lack of <a href=https://rollupjs.org rel=noopener target=_blank>Rollup</a> plugins to convert <a href=https://asciidoctor.org/ rel=noopener target=_blank>Asciidoctor</a> to <a href=https://developer.mozilla.org/en-US/docs/Web/HTML rel=noopener target=_blank>HTML</a>, so I just created one, <a href=https://github.com/carlosvin/rollup-plugin-asciidoc rel=noopener target=_blank>rollup-plugin-asciidoc</a>. Implementation was quite simple, the plugin is just using <a href=https://asciidoctor.org/docs/asciidoctor.js/ rel=noopener target=_blank>Asciidoctor.js</a> <a href=https://en.wikipedia.org/wiki/JavaScript rel=noopener target=_blank>JavaScript</a> library to convert the text input to html.</p> </div> <div class=sect2> <h3 id=_rollup_plugin_asciidoc_to_the_rescue><a href=https://github.com/carlosvin/rollup-plugin-asciidoc rel=noopener target=_blank>rollup-plugin-asciidoc</a> to the rescue</h3> <div class="admonitionblock tip"> <table> <tr> <td class=icon> <div class=title>Tip</div> </td> <td class=content> With <a href=https://github.com/carlosvin/rollup-plugin-asciidoc rel=noopener target=_blank>rollup-plugin-asciidoc</a> we can import <a href=https://asciidoctor.org/ rel=noopener target=_blank>Asciidoctor</a> files in our blog and <a href=https://rollupjs.org rel=noopener target=_blank>Rollup</a> will convert them to <a href=https://developer.mozilla.org/en-US/docs/Web/HTML rel=noopener target=_blank>HTML</a>. </td> </tr> </table> </div> <div class=sect3> <h4 id=_example>Example</h4> <div class=listingblock> <div class=title>a-blog-post.adoc</div> <div class=content> <pre class=highlight><code class=language-adoc data-lang=adoc><span class=hljs-section>= Post title</span>
<span class=hljs-meta>:date:</span> 2019-11-11

Such a post!</code></pre> </div> </div> <div class=listingblock> <div class=title>With <a href=https://github.com/carlosvin/rollup-plugin-asciidoc rel=noopener target=_blank>rollup-plugin-asciidoc</a> we can import <a href=https://asciidoctor.org/ rel=noopener target=_blank>Asciidoctor</a> files one by one.</div> <div class=content> <pre class=highlight><code class=language-javascript data-lang=javascript><span class=hljs-keyword>import</span> doc <span class=hljs-keyword>from</span> <span class=hljs-string>'./a-blog-post.adoc'</span>;

<span class=hljs-built_in>console</span>.log(doc);</code></pre> </div> </div> <div class=listingblock> <div class=title>Output</div> <div class=content> <pre class=highlight><code class=language-javascript data-lang=javascript>{
  <span class=hljs-attr>meta</span>: {
    <span class=hljs-attr>title</span>: <span class=hljs-string>"Post title"</span>,
    <span class=hljs-attr>date</span>: <span class=hljs-string>"2019-11-11"</span>
  },
  <span class=hljs-attr>html</span>: <span class=hljs-string>"&lt;p>Such a post!&lt;/p>"</span>
}</code></pre> </div> </div> <div class=paragraph> <p>Importing files one by one is not really convenient for a blog where we have many files which we don’t want to import manually.</p> </div> </div> </div> <div class=sect2> <h3 id=_rollup_plugin_glob_to_the_rescue><a href=https://www.npmjs.com/package/rollup-plugin-glob rel=noopener target=_blank>rollup-plugin-glob</a> to the rescue</h3> <div class=paragraph> <p>With <a href=https://www.npmjs.com/package/rollup-plugin-glob rel=noopener target=_blank>rollup-plugin-glob</a> we can import all the files in a directory by extension, so now we have our index of posts automatically converted to <a href=https://developer.mozilla.org/en-US/docs/Web/HTML rel=noopener target=_blank>HTML</a>.</p> </div> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-javascript data-lang=javascript><span class=hljs-keyword>import</span> allAdoc <span class=hljs-keyword>from</span> <span class=hljs-string>'../posts/**/*.adoc'</span>;

allAdoc.forEach(<span class=hljs-function><span class=hljs-params>post</span> =></span> <span class=hljs-keyword>this</span>._add(post));</code></pre> </div> </div> <div class=listingblock> <div class=title>Output: List of posts already converted to HTML</div> <div class=content> <pre class=highlight><code class=language-javascript data-lang=javascript>{ <span class=hljs-attr>meta</span>: { <span class=hljs-attr>title</span>: <span class=hljs-string>"Post title"</span>, <span class=hljs-attr>date</span>: <span class=hljs-string>"2019-11-11"</span> },
  <span class=hljs-attr>html</span>: <span class=hljs-string>"&lt;p>Post 1.&lt;/p>"</span>
}
{ <span class=hljs-attr>meta</span>: { <span class=hljs-attr>title</span>: <span class=hljs-string>"Post title"</span>, <span class=hljs-attr>date</span>: <span class=hljs-string>"2020-02-22"</span> },
  <span class=hljs-attr>html</span>: <span class=hljs-string>"&lt;h2>Title post&lt;/h2>&lt;p>This is a sample post...&lt;/p>"</span>
}
<span class=hljs-comment>// ...</span></code></pre> </div> </div> </div> </div> </div> <div class=sect1> <h2 id=_syntax_highlighting>Syntax highlighting</h2> <div class=sectionbody> <div class=paragraph> <p>My blog is mainly about Software Engineering, so I have a strong requirement, code highlighting.</p> </div> <div class=paragraph> <p>At the begging I started using <a href=https://highlightjs.org/usage/ rel=noopener target=_blank>highlightjs library from a CDN</a> for source code highlighting. We use imported library to parse the source code and for styling the result we need to import also a CSS file.</p> </div> <div class=paragraph> <p>Later I realized that we can do the parsing work when we compile <a href=https://asciidoctor.org/ rel=noopener target=_blank>Asciidoctor</a> to <a href=https://developer.mozilla.org/en-US/docs/Web/HTML rel=noopener target=_blank>HTML</a> in <a href=https://github.com/carlosvin/rollup-plugin-asciidoc rel=noopener target=_blank>rollup-plugin-asciidoc</a> implementation, so we don’t have to download the <a href=https://en.wikipedia.org/wiki/JavaScript rel=noopener target=_blank>JavaScript</a> file.</p> </div> <div class="admonitionblock tip"> <table> <tr> <td class=icon> <div class=title>Tip</div> </td> <td class=content> Doing code highlighting transformation during the site building phase we are improving application performance and reducing bundle size. </td> </tr> </table> </div> <div class=paragraph> <p>Code highlighting transformation during site build step bring 2 great benefits:</p> </div> <div class=ulist> <ul> <li> <p>Reducing bundle size: we don’t need the 27KB of <a href=https://highlightjs.org/usage/ >highlightjs javascript library</a>.</p> </li> <li> <p>Improving performance: source code parsing is done only once while site is built.</p> </li> </ul> </div> </div> </div> <div class=sect1> <h2 id=_result>Result</h2> <div class=sectionbody> <div class=paragraph> <p>I still have some <a href=https://github.com/carlosvin/carlosvin.github.io/issues rel=noopener target=_blank>work to do</a>, but so far I have a blog with following features:</p> </div> <div class=ulist> <ul> <li> <p>Automated generation of <a href=/sitemap.xml>Sitemap</a> and <a href=/rss>RSS feed</a>.</p> </li> <li> <p>Multi-language support (I still have to translate some texts).</p> </li> <li> <p>Syntax highlighting.</p> </li> <li> <p>100 score in <a href=https://developers.google.com/web/tools/lighthouse rel=noopener target=_blank>Lighthouse audits</a>.</p> </li> </ul> </div> <div class=imageblock> <div class=content> <img alt="lighthouse score" src=/images/lighthouse-results.webp width=95%> </div> </div> </div> </div> <div class=sect1> <h2 id=_testing>Testing</h2> <div class=sectionbody> <div class=paragraph> <p>I am a big fan of automated testing, I don’t love writing them, but I think they are the best way to know if your software is behaving as expected.</p> </div> <div class=paragraph> <p><a href=https://sapper.svelte.dev/ rel=noopener target=_blank>Sapper</a> template brings a pre-configured simple end to end test. It is using <a href=https://www.cypress.io/ rel=noopener target=_blank>Cypress</a>, a E2E <sup class=footnote>[<a href=#_footnotedef_2 class=footnote title="View footnote." id=_footnoteref_2>2</a>]</sup> testing framework which has a nicer developer experience than <a href=https://www.selenium.dev/ rel=noopener target=_blank>Selenium</a>, although I think it is still far of being <a href=https://blog.logrocket.com/cypress-io-the-selenium-killer/ rel=noopener target=_blank>the Selenium Killer</a>.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class=icon> <div class=title>Note</div> </td> <td class=content> Not yet a <a href=https://www.selenium.dev/ rel=noopener target=_blank>Selenium</a> killer: The main reason is that <a href=https://www.cypress.io/ rel=noopener target=_blank>Cypress</a> lacks of some features you might need, depending on the project, like cross-browser and cross-platform testing offered by <a href=https://www.selenium.dev/documentation/en/grid/components_of_a_grid/ rel=noopener target=_blank>Selenium grid</a>. </td> </tr> </table> </div> <div class=paragraph> <p>I’ve added some tests for this blog (and I plan to add more), I’ve tested that post header information is correct, that redirection logic is working, main navigation works and metadata is correct, in a couple of hour and including bugfixes! That’s why I love writing tests with <a href=https://www.cypress.io/ rel=noopener target=_blank>Cypress</a>, the productivity.</p> </div> <div class=sect2> <h3 id=_writing_a_test>Writing a test</h3> <div class=paragraph> <p>It works pretty much as Selenium. . Opens a page . Access to an element using <a href=https://developer.mozilla.org/en-US/docs/Web/API/Element/id rel=noopener target=_blank>HTML identifier</a> (<code>#element-id</code>), <a href=https://en.wikipedia.org/wiki/XPath rel=noopener target=_blank>XPath</a> (<code>/a[@title='link title']</code>) or <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors rel=noopener target=_blank>CSS selector</a> (<code>div > a.cssClass</code>). . Interact with selected element on the page. . Validate expectations.</p> </div> <div class=paragraph> <p>You can find this blog tests at <a href=https://github.com/carlosvin/carlosvin.github.io/tree/site/cypress/integration>cypress/integration</a> folder.</p> </div> <div class=listingblock> <div class=title>Simple test example</div> <div class=content> <pre class=highlight><code class=language-javascript data-lang=javascript>it(<span class=hljs-string>'Header'</span>, () => {
  cy.visit(<span class=hljs-string>'/posts/this-is-sapper/en'</span>) <b class=conum>(1)</b>
  cy.get(<span class=hljs-string>'.subtitle .date'</span>).contains(<span class=hljs-string>'19/04/2020'</span>) <b class=conum>(2)</b>
});</code></pre> </div> </div> <div class="arabic colist"> <ol> <li> <p>It navigates to the post absolute path</p> </li> <li> <p>It checks that date is correct in subtitle</p> </li> </ol> </div> </div> </div> </div> <div id=footnotes> <hr> <div class=footnote id=_footnotedef_1> <a href=#_footnoteref_1>1</a>. Progressive Web Application </div> <div class=footnote id=_footnotedef_2> <a href=#_footnoteref_2>2</a>. End to end </div> </div></div></main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{title:"This is Sapper!",lang:"en",summary:"This blog has been migrated from Nikola to Sapper. In this article we will go through the main reasons, performance results and some other thoughts",slug:"this-is-sapper",keywords:["Sapper","Svelte","JAMStack"],filename:"this-is-sapper.adoc",date:"2020-04-19",otherLangs:[]},html:"\u003Cdiv id=\"toc\" class=\"toc\"\u003E\n\u003Cdiv id=\"toctitle\"\u003ETable of Contents\u003C\u002Fdiv\u003E\n\u003Cul class=\"sectlevel1\"\u003E\n\u003Cli\u003E\u003Ca href=\"#_why_leaving_nikola\"\u003EWhy leaving Nikola\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_why_sapper\"\u003EWhy Sapper\u003C\u002Fa\u003E\n\u003Cul class=\"sectlevel2\"\u003E\n\u003Cli\u003E\u003Ca href=\"#_dx_developer_experience\"\u003EDX: Developer experience\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_ux_final_result_of_blogs_in_sapper\"\u003EUX: Final result of blogs in Sapper\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_asciidoctor\"\u003EAsciidoctor\u003C\u002Fa\u003E\n\u003Cul class=\"sectlevel2\"\u003E\n\u003Cli\u003E\u003Ca href=\"#_rollup_plugin_asciidoc_to_the_rescue\"\u003Erollup-plugin-asciidoc to the rescue\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_rollup_plugin_glob_to_the_rescue\"\u003Erollup-plugin-glob to the rescue\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_syntax_highlighting\"\u003ESyntax highlighting\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_result\"\u003EResult\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_testing\"\u003ETesting\u003C\u002Fa\u003E\n\u003Cul class=\"sectlevel2\"\u003E\n\u003Cli\u003E\u003Ca href=\"#_writing_a_test\"\u003EWriting a test\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv id=\"preamble\"\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EI&#8217;ve migrated my blog infrastructure from \u003Ca href=\"https:\u002F\u002Fgetnikola.com\" target=\"_blank\" rel=\"noopener\"\u003ENikola\u003C\u002Fa\u003E + \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FReStructuredText\" target=\"_blank\" rel=\"noopener\"\u003EreStructuredText\u003C\u002Fa\u003E to \u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002F\" target=\"_blank\" rel=\"noopener\"\u003ESapper\u003C\u002Fa\u003E + \u003Ca href=\"https:\u002F\u002Fasciidoctor.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EAsciidoctor\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_why_leaving_nikola\"\u003EWhy leaving \u003Ca href=\"https:\u002F\u002Fgetnikola.com\" target=\"_blank\" rel=\"noopener\"\u003ENikola\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EThis blog was powered by \u003Ca href=\"https:\u002F\u002Fgetnikola.com\" target=\"_blank\" rel=\"noopener\"\u003ENikola\u003C\u002Fa\u003E since 2014, when \u003Ca href=\"https:\u002F\u002Fjamstack.org\" target=\"_blank\" rel=\"noopener\"\u003EJAMStack\u003C\u002Fa\u003E term didn&#8217;t even exist. It really did the job, it has out-of-the-box features that I needed:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"ulist\"\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003ESimple multi-lang support.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FReStructuredText\" target=\"_blank\" rel=\"noopener\"\u003EreStructuredText\u003C\u002Fa\u003E which I prefer over \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMarkdown\" target=\"_blank\" rel=\"noopener\"\u003EMarkdown\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EIt was developed in \u003Ca href=\"https:\u002F\u002Fpython.org\" target=\"_blank\" rel=\"noopener\"\u003EPython\u003C\u002Fa\u003E, a programming language that I know and I enjoy.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EI faced some \u003Cstrong\u003Eissues\u003C\u002Fstrong\u003E which annoyed me for quite some time:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"ulist\"\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EMy config file got bloated.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EIt was not easy to modify or create templates, neither to find templates I liked.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003ESite performance was not awesome, my last \u003Ca href=\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Ftools\u002Flighthouse\" target=\"_blank\" rel=\"noopener\"\u003ELighthouse audits\u003C\u002Fa\u003E were around 80, depending on the section. Except SEO section, which was 96.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_why_sapper\"\u003EWhy Sapper\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_dx_developer_experience\"\u003EDX: Developer experience\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EI already used \u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002F\" target=\"_blank\" rel=\"noopener\"\u003ESapper\u003C\u002Fa\u003E for creating some tiny \u003Ca href=\"https:\u002F\u002Fweb.dev\u002Fprogressive-web-apps\" target=\"_blank\" rel=\"noopener\"\u003EPWA\u003C\u002Fa\u003Es \u003Csup class=\"footnote\"\u003E[\u003Ca id=\"_footnoteref_1\" class=\"footnote\" href=\"#_footnotedef_1\" title=\"View footnote.\"\u003E1\u003C\u002Fa\u003E]\u003C\u002Fsup\u003E, here 2 examples I developed to learn \u003Ca href=\"https:\u002F\u002Fsvelte.dev\" target=\"_blank\" rel=\"noopener\"\u003ESvelte\u003C\u002Fa\u003E and \u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002F\" target=\"_blank\" rel=\"noopener\"\u003ESapper\u003C\u002Fa\u003E:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fcurrency-loss.netlify.app\" target=\"_blank\" rel=\"noopener\"\u003ECurrency Exchage Loss Calculator\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EIt is a helpful application for travellers visiting currency exchange houses. Based on the rate they offer and the money you want ot change it calculates the amount of money that you are losing in that transaction.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fcovid-stats-pwa.netlify.app\" target=\"_blank\" rel=\"noopener\"\u003ECOVID-19 Stats\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EIt shows COVID-19 statistics by country and date.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EWhile creating those \u003Ca href=\"https:\u002F\u002Fweb.dev\u002Fprogressive-web-apps\" target=\"_blank\" rel=\"noopener\"\u003EPWA\u003C\u002Fa\u003Es, developing experience with \u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002F\" target=\"_blank\" rel=\"noopener\"\u003ESapper\u003C\u002Fa\u003E&amp;\u003Ca href=\"https:\u002F\u002Fsvelte.dev\" target=\"_blank\" rel=\"noopener\"\u003ESvelte\u003C\u002Fa\u003E was quite impressive.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_ux_final_result_of_blogs_in_sapper\"\u003EUX: Final result of blogs in Sapper\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ELately I&#8217;ve stumbled upon with some blogs using \u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002F\" target=\"_blank\" rel=\"noopener\"\u003ESapper\u003C\u002Fa\u003E like the own \u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002F\" target=\"_blank\" rel=\"noopener\"\u003ESapper\u003C\u002Fa\u003E blog, \u003Ca href=\"https:\u002F\u002Fwww.codingwithjesse.com\u002Fblog\u002Fstatically-generating-a-blog-with-svelte-sapper\u002F\" target=\"_blank\" rel=\"noopener\"\u003ECoding with Jessie\u003C\u002Fa\u003E or \u003Ca href=\"https:\u002F\u002Fwww.swyx.io\u002Fwriting\u002Fsvelte-static\u002F\" target=\"_blank\" rel=\"noopener\"\u003Eswyx.io\u003C\u002Fa\u003E. Check those blogs by yourself, IMHO user experience is pretty good in all of them.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"admonitionblock note\"\u003E\n\u003Ctable\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"icon\"\u003E\n\u003Cdiv class=\"title\"\u003ENote\u003C\u002Fdiv\u003E\n\u003C\u002Ftd\u003E\n\u003Ctd class=\"content\"\u003E\n\u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002F\" target=\"_blank\" rel=\"noopener\"\u003ESapper\u003C\u002Fa\u003E is inspired in \u003Ca href=\"https:\u002F\u002Fnextjs.org\u002F\"\u003ENext.js\u003C\u002Fa\u003E, here you can find \u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002Fdocs#Comparison_with_Next_js\"\u003Ea comparison with this better known JAMStack framework\u003C\u002Fa\u003E.\n\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftable\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_asciidoctor\"\u003E\u003Ca href=\"https:\u002F\u002Fasciidoctor.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EAsciidoctor\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EI don&#8217;t have a strong opinion about using \u003Ca href=\"https:\u002F\u002Fasciidoctor.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EAsciidoctor\u003C\u002Fa\u003E or \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FReStructuredText\" target=\"_blank\" rel=\"noopener\"\u003EreStructuredText\u003C\u002Fa\u003E, I am comfortable with both of them, but there is more support for \u003Ca href=\"https:\u002F\u002Fasciidoctor.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EAsciidoctor\u003C\u002Fa\u003E in other programming languages, like \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FJavaScript\" target=\"_blank\" rel=\"noopener\"\u003EJavaScript\u003C\u002Fa\u003E. So basically I switched to \u003Ca href=\"https:\u002F\u002Fasciidoctor.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EAsciidoctor\u003C\u002Fa\u003E because I didn&#8217;t find a \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FJavaScript\" target=\"_blank\" rel=\"noopener\"\u003EJavaScript\u003C\u002Fa\u003E library able to properly convert \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FReStructuredText\" target=\"_blank\" rel=\"noopener\"\u003EreStructuredText\u003C\u002Fa\u003E to \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTML\" target=\"_blank\" rel=\"noopener\"\u003EHTML\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EThe main issue I found not using \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMarkdown\" target=\"_blank\" rel=\"noopener\"\u003EMarkdown\u003C\u002Fa\u003E was the lack of \u003Ca href=\"https:\u002F\u002Frollupjs.org\" target=\"_blank\" rel=\"noopener\"\u003ERollup\u003C\u002Fa\u003E plugins to convert \u003Ca href=\"https:\u002F\u002Fasciidoctor.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EAsciidoctor\u003C\u002Fa\u003E to \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTML\" target=\"_blank\" rel=\"noopener\"\u003EHTML\u003C\u002Fa\u003E, so I just created one, \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Frollup-plugin-asciidoc\" target=\"_blank\" rel=\"noopener\"\u003Erollup-plugin-asciidoc\u003C\u002Fa\u003E. Implementation was quite simple, the plugin is just using \u003Ca href=\"https:\u002F\u002Fasciidoctor.org\u002Fdocs\u002Fasciidoctor.js\u002F\" target=\"_blank\" rel=\"noopener\"\u003EAsciidoctor.js\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FJavaScript\" target=\"_blank\" rel=\"noopener\"\u003EJavaScript\u003C\u002Fa\u003E library to convert the text input to html.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_rollup_plugin_asciidoc_to_the_rescue\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Frollup-plugin-asciidoc\" target=\"_blank\" rel=\"noopener\"\u003Erollup-plugin-asciidoc\u003C\u002Fa\u003E to the rescue\u003C\u002Fh3\u003E\n\u003Cdiv class=\"admonitionblock tip\"\u003E\n\u003Ctable\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"icon\"\u003E\n\u003Cdiv class=\"title\"\u003ETip\u003C\u002Fdiv\u003E\n\u003C\u002Ftd\u003E\n\u003Ctd class=\"content\"\u003E\nWith \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Frollup-plugin-asciidoc\" target=\"_blank\" rel=\"noopener\"\u003Erollup-plugin-asciidoc\u003C\u002Fa\u003E we can import \u003Ca href=\"https:\u002F\u002Fasciidoctor.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EAsciidoctor\u003C\u002Fa\u003E files in our blog and \u003Ca href=\"https:\u002F\u002Frollupjs.org\" target=\"_blank\" rel=\"noopener\"\u003ERollup\u003C\u002Fa\u003E will convert them to \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTML\" target=\"_blank\" rel=\"noopener\"\u003EHTML\u003C\u002Fa\u003E.\n\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftable\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect3\"\u003E\n\u003Ch4 id=\"_example\"\u003EExample\u003C\u002Fh4\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003Ea-blog-post.adoc\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-adoc\" data-lang=\"adoc\"\u003E\u003Cspan class=\"hljs-section\"\u003E= Post title\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-meta\"\u003E:date:\u003C\u002Fspan\u003E 2019-11-11\n\nSuch a post!\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003EWith \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Frollup-plugin-asciidoc\" target=\"_blank\" rel=\"noopener\"\u003Erollup-plugin-asciidoc\u003C\u002Fa\u003E we can import \u003Ca href=\"https:\u002F\u002Fasciidoctor.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EAsciidoctor\u003C\u002Fa\u003E files one by one.\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-javascript\" data-lang=\"javascript\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E doc \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'.\u002Fa-blog-post.adoc'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-built_in\"\u003Econsole\u003C\u002Fspan\u003E.log(doc);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003EOutput\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-javascript\" data-lang=\"javascript\"\u003E{\n  \u003Cspan class=\"hljs-attr\"\u003Emeta\u003C\u002Fspan\u003E: {\n    \u003Cspan class=\"hljs-attr\"\u003Etitle\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"Post title\"\u003C\u002Fspan\u003E,\n    \u003Cspan class=\"hljs-attr\"\u003Edate\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"2019-11-11\"\u003C\u002Fspan\u003E\n  },\n  \u003Cspan class=\"hljs-attr\"\u003Ehtml\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"&lt;p&gt;Such a post!&lt;\u002Fp&gt;\"\u003C\u002Fspan\u003E\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EImporting files one by one is not really convenient for a blog where we have many files which we don&#8217;t want to import manually.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_rollup_plugin_glob_to_the_rescue\"\u003E\u003Ca href=\"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Frollup-plugin-glob\" target=\"_blank\" rel=\"noopener\"\u003Erollup-plugin-glob\u003C\u002Fa\u003E to the rescue\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EWith \u003Ca href=\"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Frollup-plugin-glob\" target=\"_blank\" rel=\"noopener\"\u003Erollup-plugin-glob\u003C\u002Fa\u003E we can import all the files in a directory by extension, so now we have our index of posts automatically converted to \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTML\" target=\"_blank\" rel=\"noopener\"\u003EHTML\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-javascript\" data-lang=\"javascript\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E allAdoc \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'..\u002Fposts\u002F**\u002F*.adoc'\u003C\u002Fspan\u003E;\n\nallAdoc.forEach(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Epost\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Ethis\u003C\u002Fspan\u003E._add(post));\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003EOutput: List of posts already converted to HTML\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-javascript\" data-lang=\"javascript\"\u003E{ \u003Cspan class=\"hljs-attr\"\u003Emeta\u003C\u002Fspan\u003E: { \u003Cspan class=\"hljs-attr\"\u003Etitle\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"Post title\"\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edate\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"2019-11-11\"\u003C\u002Fspan\u003E },\n  \u003Cspan class=\"hljs-attr\"\u003Ehtml\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"&lt;p&gt;Post 1.&lt;\u002Fp&gt;\"\u003C\u002Fspan\u003E\n}\n{ \u003Cspan class=\"hljs-attr\"\u003Emeta\u003C\u002Fspan\u003E: { \u003Cspan class=\"hljs-attr\"\u003Etitle\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"Post title\"\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edate\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"2020-02-22\"\u003C\u002Fspan\u003E },\n  \u003Cspan class=\"hljs-attr\"\u003Ehtml\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"&lt;h2&gt;Title post&lt;\u002Fh2&gt;&lt;p&gt;This is a sample post...&lt;\u002Fp&gt;\"\u003C\u002Fspan\u003E\n}\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_syntax_highlighting\"\u003ESyntax highlighting\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EMy blog is mainly about Software Engineering, so I have a strong requirement, code highlighting.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EAt the begging I started using \u003Ca href=\"https:\u002F\u002Fhighlightjs.org\u002Fusage\u002F\" target=\"_blank\" rel=\"noopener\"\u003Ehighlightjs library from a CDN\u003C\u002Fa\u003E for source code highlighting. We use imported library to parse the source code and for styling the result we need to import also a CSS file.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ELater I realized that we can do the parsing work when we compile \u003Ca href=\"https:\u002F\u002Fasciidoctor.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EAsciidoctor\u003C\u002Fa\u003E to \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTML\" target=\"_blank\" rel=\"noopener\"\u003EHTML\u003C\u002Fa\u003E in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Frollup-plugin-asciidoc\" target=\"_blank\" rel=\"noopener\"\u003Erollup-plugin-asciidoc\u003C\u002Fa\u003E implementation, so we don&#8217;t have to download the \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FJavaScript\" target=\"_blank\" rel=\"noopener\"\u003EJavaScript\u003C\u002Fa\u003E file.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"admonitionblock tip\"\u003E\n\u003Ctable\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"icon\"\u003E\n\u003Cdiv class=\"title\"\u003ETip\u003C\u002Fdiv\u003E\n\u003C\u002Ftd\u003E\n\u003Ctd class=\"content\"\u003E\nDoing code highlighting transformation during the site building phase we are improving application performance and reducing bundle size.\n\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftable\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ECode highlighting transformation during site build step bring 2 great benefits:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"ulist\"\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EReducing bundle size: we don&#8217;t need the 27KB of \u003Ca href=\"https:\u002F\u002Fhighlightjs.org\u002Fusage\u002F\"\u003Ehighlightjs javascript library\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EImproving performance: source code parsing is done only once while site is built.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_result\"\u003EResult\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EI still have some \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcarlosvin.github.io\u002Fissues\" target=\"_blank\" rel=\"noopener\"\u003Ework to do\u003C\u002Fa\u003E, but so far I have a blog with following features:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"ulist\"\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EAutomated generation of \u003Ca href=\"\u002Fsitemap.xml\"\u003ESitemap\u003C\u002Fa\u003E and \u003Ca href=\"\u002Frss\"\u003ERSS feed\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EMulti-language support (I still have to translate some texts).\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003ESyntax highlighting.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E100 score in \u003Ca href=\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Ftools\u002Flighthouse\" target=\"_blank\" rel=\"noopener\"\u003ELighthouse audits\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"imageblock\"\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cimg src=\"\u002Fimages\u002Flighthouse-results.webp\" alt=\"lighthouse score\" width=\"95%\"\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_testing\"\u003ETesting\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EI am a big fan of automated testing, I don&#8217;t love writing them, but I think they are the best way to know if your software is behaving as expected.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002F\" target=\"_blank\" rel=\"noopener\"\u003ESapper\u003C\u002Fa\u003E template brings a pre-configured simple end to end test. It is using \u003Ca href=\"https:\u002F\u002Fwww.cypress.io\u002F\" target=\"_blank\" rel=\"noopener\"\u003ECypress\u003C\u002Fa\u003E, a E2E \u003Csup class=\"footnote\"\u003E[\u003Ca id=\"_footnoteref_2\" class=\"footnote\" href=\"#_footnotedef_2\" title=\"View footnote.\"\u003E2\u003C\u002Fa\u003E]\u003C\u002Fsup\u003E testing framework which has a nicer developer experience than \u003Ca href=\"https:\u002F\u002Fwww.selenium.dev\u002F\" target=\"_blank\" rel=\"noopener\"\u003ESelenium\u003C\u002Fa\u003E, although I think it is still far of being \u003Ca href=\"https:\u002F\u002Fblog.logrocket.com\u002Fcypress-io-the-selenium-killer\u002F\" target=\"_blank\" rel=\"noopener\"\u003Ethe Selenium Killer\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"admonitionblock note\"\u003E\n\u003Ctable\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"icon\"\u003E\n\u003Cdiv class=\"title\"\u003ENote\u003C\u002Fdiv\u003E\n\u003C\u002Ftd\u003E\n\u003Ctd class=\"content\"\u003E\nNot yet a \u003Ca href=\"https:\u002F\u002Fwww.selenium.dev\u002F\" target=\"_blank\" rel=\"noopener\"\u003ESelenium\u003C\u002Fa\u003E killer: The main reason is that \u003Ca href=\"https:\u002F\u002Fwww.cypress.io\u002F\" target=\"_blank\" rel=\"noopener\"\u003ECypress\u003C\u002Fa\u003E lacks of some features you might need, depending on the project, like cross-browser and cross-platform testing offered by \u003Ca href=\"https:\u002F\u002Fwww.selenium.dev\u002Fdocumentation\u002Fen\u002Fgrid\u002Fcomponents_of_a_grid\u002F\" target=\"_blank\" rel=\"noopener\"\u003ESelenium grid\u003C\u002Fa\u003E.\n\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftable\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EI&#8217;ve added some tests for this blog (and I plan to add more), I&#8217;ve tested that post header information is correct, that redirection logic is working, main navigation works and metadata is correct, in a couple of hour and including bugfixes! That&#8217;s why I love writing tests with \u003Ca href=\"https:\u002F\u002Fwww.cypress.io\u002F\" target=\"_blank\" rel=\"noopener\"\u003ECypress\u003C\u002Fa\u003E, the productivity.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_writing_a_test\"\u003EWriting a test\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EIt works pretty much as Selenium.\n. Opens a page\n. Access to an element using \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FElement\u002Fid\" target=\"_blank\" rel=\"noopener\"\u003EHTML identifier\u003C\u002Fa\u003E (\u003Ccode\u003E#element-id\u003C\u002Fcode\u003E), \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FXPath\" target=\"_blank\" rel=\"noopener\"\u003EXPath\u003C\u002Fa\u003E (\u003Ccode\u003E\u002Fa[@title='link title']\u003C\u002Fcode\u003E) or \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FCSS\u002FCSS_Selectors\" target=\"_blank\" rel=\"noopener\"\u003ECSS selector\u003C\u002Fa\u003E (\u003Ccode\u003Ediv &gt; a.cssClass\u003C\u002Fcode\u003E).\n. Interact with selected element on the page.\n. Validate expectations.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EYou can find this blog tests at \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcarlosvin.github.io\u002Ftree\u002Fsite\u002Fcypress\u002Fintegration\"\u003Ecypress\u002Fintegration\u003C\u002Fa\u003E folder.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003ESimple test example\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-javascript\" data-lang=\"javascript\"\u003Eit(\u003Cspan class=\"hljs-string\"\u003E'Header'\u003C\u002Fspan\u003E, () =&gt; {\n  cy.visit(\u003Cspan class=\"hljs-string\"\u003E'\u002Fposts\u002Fthis-is-sapper\u002Fen'\u003C\u002Fspan\u003E) \u003Cb class=\"conum\"\u003E(1)\u003C\u002Fb\u003E\n  cy.get(\u003Cspan class=\"hljs-string\"\u003E'.subtitle .date'\u003C\u002Fspan\u003E).contains(\u003Cspan class=\"hljs-string\"\u003E'19\u002F04\u002F2020'\u003C\u002Fspan\u003E) \u003Cb class=\"conum\"\u003E(2)\u003C\u002Fb\u003E\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"colist arabic\"\u003E\n\u003Col\u003E\n\u003Cli\u003E\n\u003Cp\u003EIt navigates to the post absolute path\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EIt checks that date is correct in subtitle\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv id=\"footnotes\"\u003E\n\u003Chr\u003E\n\u003Cdiv class=\"footnote\" id=\"_footnotedef_1\"\u003E\n\u003Ca href=\"#_footnoteref_1\"\u003E1\u003C\u002Fa\u003E. Progressive Web Application\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"footnote\" id=\"_footnotedef_2\"\u003E\n\u003Ca href=\"#_footnoteref_2\"\u003E2\u003C\u002Fa\u003E. End to end\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E"}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.8a63588c.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main","/client/client.8a63588c.js")}document.head.appendChild(s)</script> <script async defer> (function (i, s, o, g, r, a, m) {
		i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
			(i[r].q = i[r].q || []).push(arguments)
		}, i[r].l = 1 * new Date(); a = s.createElement(o),
			m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
		})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

		ga('create', 'UA-1328360-10', 'auto');
		ga('send', 'pageview'); </script> 