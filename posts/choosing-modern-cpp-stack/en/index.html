<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <meta content=sapper name=generator> <meta content=a22af7614c96254d name=yandex-verification> <link href=/icons/icon-192x192.png rel=apple-touch-icon> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <link href=client/main.907195999.css rel=stylesheet><link href=client/[...slug].5ac65a9f.css rel=stylesheet><link href=client/client.75f4e680.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>Choosing a Modern C++ stack</title><link href=/rss rel=alternate type=application/rss+xml title='Subscribe to Carlos dice "bla bla"'><meta content=2017/09/15 name=date scheme=YYYY-MM-DD><meta content="My chosen technologies stack for C++ project. It contains an easy to run example defining main project skeleton." name=description><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/vs.min.css rel=preload as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/vs.min.css rel=stylesheet></noscript><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <nav class=svelte-16afa7x><ul class=svelte-16afa7x><li class=svelte-1jn6d0x><a href=. class=svelte-1jn6d0x>Carlos dice "bla bla"</a></li> <li class=svelte-1jn6d0x><a href=categories class=svelte-1jn6d0x>Categories</a></li> <li class=svelte-1jn6d0x><a href=about class=svelte-1jn6d0x>About</a></ul> <div class="h svelte-1w8skyw"><a href=/rss rel=noopener target=_blank class="icon svelte-hpmv97 rss" title='Subscribe to Carlos dice "bla bla"'></a> <a href=https://github.com/carlosvin rel=noopener target=_blank class="icon svelte-hpmv97 github" title="Me at github"></a> <a href=https://twitter.com/carlosvin rel=noopener target=_blank class="icon svelte-hpmv97 twitter" title="Me at twitter"></a> <a href=https://stackoverflow.com/story/carlosvin rel=noopener target=_blank class="icon svelte-hpmv97 stackoverflow" title="Me at stackoverflow"></a></div></nav> <main class=svelte-1uhnsl8> <h1 class=svelte-16bc3x4>Choosing a Modern C++ stack</h1> <div class="content svelte-16bc3x4"><div class=toc id=toc> <div id=toctitle>Table of Contents</div> <ul class=sectlevel1> <li><a href=#_choosing_build_system_meson>Choosing Build System (Meson)</a> <ul class=sectlevel2> <li><a href=#_cmake_vs_meson>CMake vs Meson</a></li> <li><a href=#_other_build_systems_comparisons>Other build systems comparisons</a></li> </ul> </li> <li><a href=#_unit_testing_framework>Unit Testing Framework</a> <ul class=sectlevel2> <li><a href=#_doctest_a_catch_alternative>doctest: A Catch alternative</a></li> </ul> </li> <li><a href=#_example>Example</a> <ul class=sectlevel2> <li><a href=#_project_output_artifacts>Project output artifacts</a></li> <li><a href=#_project_structure_fork_project>Project structure (Fork project)</a></li> </ul> </li> </ul> </div> <div id=preamble> <div class=sectionbody> <div class=paragraph> <p>I’m starting a new project in C++, but I’ve run into a pair of questions before start:</p> </div> <div class="arabic olist"> <ol class=arabic> <li> <p>Which build system should I use?</p> </li> <li> <p>Which unit testing framework?</p> </li> </ol> </div> </div> </div> <div class=sect1> <h2 id=_choosing_build_system_meson>Choosing Build System (<a href=https://mesonbuild.com/ rel=noopener target=_blank>Meson</a>)</h2> <div class=sectionbody> <div class=paragraph> <p>I have used before <a href=https://www.gnu.org/software/make/manual/make.html rel=noopener target=_blank>Make</a>, <a href=https://maven.apache.org/ rel=noopener target=_blank>Maven</a>, <a href=https://scons.org/ rel=noopener target=_blank>Scons</a>, <a href=https://gradle.org/ rel=noopener target=_blank>Gradle</a> and <a href=https://www.gnu.org/software/automake/manual/html_node/Autotools-Introduction.html rel=noopener target=_blank>Autotools</a>, but I have some reasons to try find something else:</p> </div> <div class=dlist> <dl> <dt class=hdlist1><a href=https://www.gnu.org/software/automake/manual/html_node/Autotools-Introduction.html rel=noopener target=_blank>Autotools</a></dt> <dd> <p>It is not easy to configure and maintain. There are several configuration files and several configuration steps.</p> </dd> <dt class=hdlist1><a href=https://gradle.org/ rel=noopener target=_blank>Gradle</a></dt> <dd> <p>C feature is still incubating. Not very fast. You can check a similar example project at link:/posts/gradle-cpp/[Build C project with Gradle].</p> </dd> <dt class=hdlist1><a href=https://www.gnu.org/software/make/manual/make.html rel=noopener target=_blank>Make</a></dt> <dd> <p>I don’t love the syntax. Files tends to get messy as project grows.</p> </dd> <dt class=hdlist1><a href=https://scons.org/ rel=noopener target=_blank>Scons</a></dt> <dd> <p>It is just slower and not as easy to understand than <a href=https://mesonbuild.com/ rel=noopener target=_blank>Meson</a>.</p> </dd> <dt class=hdlist1><a href=https://maven.apache.org/ rel=noopener target=_blank>Maven</a></dt> <dd> <p>It is slow and you might end up "<em>Javatizing</em>" your C++ project structure.</p> </dd> </dl> </div> <div class="admonitionblock note"> <table> <tr> <td class=icon> <div class=title>Note</div> </td> <td class=content> I’ve listed just things I don’t like, those projects have other great features. </td> </tr> </table> </div> <div class=sect2> <h3 id=_cmake_vs_meson><a href=https://cmake.org/ rel=noopener target=_blank>CMake</a> vs <a href=https://mesonbuild.com/ rel=noopener target=_blank>Meson</a></h3> <div class=paragraph> <p>After discarding previous ones, I’m considering <a href=https://mesonbuild.com/ rel=noopener target=_blank>Meson</a> or <a href=https://cmake.org/ rel=noopener target=_blank>CMake</a>. Both are fast build systems:</p> </div> <div class=paragraph> <p>Although <a href=https://mesonbuild.com/ rel=noopener target=_blank>Meson</a> is written in <a href=https://python.org/ rel=noopener target=_blank>Python</a>, it generates a <a href=https://ninja-build.org/ rel=noopener target=_blank>Ninja</a> build project. First time you configure the project you have to run <a href=https://mesonbuild.com/ rel=noopener target=_blank>Meson</a>, but for building or testing you are actually running <a href=https://ninja-build.org/ rel=noopener target=_blank>Ninja</a>.</p> </div> <div class=paragraph> <p><a href=https://cmake.org/ rel=noopener target=_blank>CMake</a> is also able to generate <a href=https://ninja-build.org/ rel=noopener target=_blank>Ninja</a> files among other formats, <a href=https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html>check CMake generators documentation for more information</a>.</p> </div> <div class=dlist> <dl> <dt class=hdlist1><a href=https://cmake.org/ rel=noopener target=_blank>CMake</a></dt> <dd> <p>It has a big advantage over <a href=https://mesonbuild.com/ rel=noopener target=_blank>Meson</a>, it is mature and widely used in many projects, which means there are many examples and it will fulfill your C++ project building needs.</p> </dd> <dt class=hdlist1><a href=https://mesonbuild.com/ rel=noopener target=_blank>Meson</a></dt> <dd> <p>It is a young project compared with <a href=https://cmake.org/ rel=noopener target=_blank>CMake</a>, but it is growing quite fast and it has been adopted in other big projects like <a href="">Gnome</a>, they have an initiative to <a href=https://wiki.gnome.org/Initiatives/GnomeGoals/MesonPorting>port from Autotools to Meson</a>.</p> </dd> </dl> </div> <div class=paragraph> <p><strong>Finally I’ve chosen</strong> <a href=https://mesonbuild.com/ rel=noopener target=_blank>Meson</a> because syntax is really clear to me, when I read <code>meson.build</code> file I can quickly understand what is happening during build process.</p> </div> <div class=listingblock> <div class=title>Steps to compile and test a project</div> <div class=content> <pre class=highlight><code class=language-bash data-lang=bash>$ meson build .  <b class=conum>(1)</b>
$ <span class=hljs-built_in>cd</span> build
$ ninja build    <b class=conum>(2)</b>
$ ninja <span class=hljs-built_in>test</span>     <b class=conum>(3)</b></code></pre> </div> </div> <div class="arabic colist"> <ol> <li> <p>First time you configure the project</p> </li> <li> <p>Each time you build it</p> </li> <li> <p>Each time you run tests</p> </li> </ol> </div> </div> <div class=sect2> <h3 id=_other_build_systems_comparisons>Other build systems comparisons</h3> <div class=paragraph> <p>I’ve found two interesting comparisons about available C++ build systems, they might be a little be biased because those comparisons come from <a href=https://mesonbuild.com/ rel=noopener target=_blank>Meson</a> and <a href=https://scons.org/ rel=noopener target=_blank>Scons</a>.</p> </div> <div class=ulist> <ul> <li> <p><a href=https://bitbucket.org/scons/scons/wiki/SconsVsOtherBuildTools>C++ build systems comparison from Scons</a>.</p> </li> <li> <p><a href=https://mesonbuild.com/Simple-comparison.html>C++ build systems comparison from Meson</a>.</p> </li> </ul> </div> </div> </div> </div> <div class=sect1> <h2 id=_unit_testing_framework>Unit Testing Framework</h2> <div class=sectionbody> <div class=paragraph> <p>I have used some <a href=https://en.wikipedia.org/wiki/XUnit rel=noopener target=_blank>xUnit</a> based libraries like <a href=https://github.com/unittest-cpp/unittest-cpp>UnitTest++</a>, <a href=https://cpputest.github.io/ >CppUTest</a> or <a href=https://github.com/google/googletest>Google Test</a> which match perfectly with <a href=https://github.com/google/googletest/tree/master/googlemock>Google Mock</a>. If you want a safe bet that fulfills almost of your testing needs I highly recommend <a href=https://github.com/google/googletest>Google Test</a>.</p> </div> <div class=paragraph> <p>But time ago I found a testing framework with some interesting features, <a href=https://github.com/philsquared/Catch rel=noopener target=_blank>Catch</a>:</p> </div> <div class=ulist> <ul> <li> <p>It is just a header file with no external dependencies, so very easy to start (wget + include downloaded file).</p> </li> <li> <p>You can use normal unit test style or <a href="">BDD</a>-style</p> </li> </ul> </div> <div class=paragraph> <p>If you want to know more about <a href=https://github.com/philsquared/Catch rel=noopener target=_blank>Catch</a>, I recommend you to give it a try, it is a matter of 2 minutes to have a <a href=https://github.com/philsquared/Catch/blob/master/docs/tutorial.md#writing-tests>simple example up and running</a>. You can also read some interesting articles like <a href=https://github.com/philsquared/Catch/blob/master/docs/why-catch.md>Why do we need yet another C test framework?] or https://blog.coldflake.com/posts/Testing-C-with-a-new-Catch/[Testing C++ With A New Catch</a>.</p> </div> <div class=sect2> <h3 id=_doctest_a_catch_alternative><a href=https://github.com/onqtam/doctest rel=noopener target=_blank>doctest</a>: A <a href=https://github.com/philsquared/Catch rel=noopener target=_blank>Catch</a> alternative</h3> <div class=paragraph> <p>There is another testing framework named <a href=https://github.com/onqtam/doctest rel=noopener target=_blank>doctest</a>, with same benefits as <a href=https://github.com/philsquared/Catch rel=noopener target=_blank>Catch</a>, but it promises to be faster and lighter (<a href=https://github.com/onqtam/doctest/blob/master/doc/markdown/benchmarks.md>performance results</a>) than <a href=https://github.com/philsquared/Catch rel=noopener target=_blank>Catch</a>.</p> </div> <div class=paragraph> <p><a href=https://github.com/onqtam/doctest rel=noopener target=_blank>doctest</a> is modeled after <a href=https://github.com/philsquared/Catch rel=noopener target=_blank>Catch</a> and some parts of the code have been taken directly, but there are <a href=https://github.com/onqtam/doctest/blob/master/doc/markdown/faq.md#how-is-doctest-different-from-catch>differences</a>.</p> </div> <div class=paragraph> <p>It hasn’t been easy to decide, both are really similar, following you can see differences:</p> </div> <div class=listingblock> <div class=title>diff between doctest and catch branches</div> <div class=content> <pre class=highlight><code class=language-diff data-lang=diff><span class=hljs-meta>@@ -1,12 +1,12 @@</span>
<span class=hljs-deletion>-#define CATCH_CONFIG_MAIN // It tells Catch to provide a main() - only do this in one cpp file</span>
<span class=hljs-addition>+#define DOCTEST_CONFIG_IMPLEMENT_WITH_MAIN</span>

<span class=hljs-deletion>-#include "catch.hpp"</span>
<span class=hljs-addition>+#include "doctest.h"</span>
#include "Uuid.h"
#include &lt;string>

constexpr int MAX_ITERS = 100;

<span class=hljs-deletion>-TEST_CASE("Uuid", "[uuid]")</span>
<span class=hljs-addition>+TEST_CASE("Uuid")</span>
{
for (int i = 0; i &lt; MAX_ITERS; i++)
{
@@ -26,7 +26,7 @@ TEST_CASE("Uuid", "[uuid]")

// BDD style

<span class=hljs-deletion>-SCENARIO("UUID creation", "[Uuid]")</span>
<span class=hljs-addition>+SCENARIO("UUID creation")</span>
{

GIVEN("A random UUID ")</code></pre> </div> </div> <div class=paragraph> <p>I’ve finally chosen <a href=https://github.com/onqtam/doctest rel=noopener target=_blank>doctest</a> because it promises to be faster: <a href=https://github.com/onqtam/doctest/blob/master/doc/markdown/benchmarks.md>performance results</a>.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class=icon> <div class=title>Note</div> </td> <td class=content> I’ve created project using both frameworks you can find them in corresponding branches: <a href=https://github.com/carlosvin/uuid-cpp/tree/doctest>doctest branch</a> or <a href=https://github.com/carlosvin/uuid-cpp/tree/catch>catch branch</a>. </td> </tr> </table> </div> </div> </div> </div> <div class=sect1> <h2 id=_example>Example</h2> <div class=sectionbody> <div class=paragraph> <p>I’ve created an example to illustrate this article: <a href=https://github.com/carlosvin/uuid-cpp class=bare>https://github.com/carlosvin/uuid-cpp</a>.</p> </div> <div class=paragraph> <p>It is a basic implementation of UUID pseudo-random generator based on <a href=https://www.cplusplus.com/reference/random/mt19937 rel=noopener target=_blank>mt19937</a> which is not cryptographically secure.</p> </div> <div class=sect2> <h3 id=_project_output_artifacts>Project output artifacts</h3> <div class=paragraph> <p>When we install the project using <a href=https://mesonbuild.com/ rel=noopener target=_blank>Meson</a> (<a href=https://ninja-build.org/ rel=noopener target=_blank>Ninja</a>), we will get some artifacts generated and copied in our system.</p> </div> <div class=ulist> <ul> <li> <p>Shared library: <code>libuuid</code>.</p> </li> <li> <p>Header library for developers who want to use the shared library: <code>include/Uuid.h</code>.</p> </li> <li> <p>Executable <code>uuidgen</code> (<a href="">UUID</a> generator).</p> </li> <li> <p>Test executable (not installed). It tests shared library.</p> </li> </ul> </div> <div class=paragraph> <p>For example, if you execute <code>ninja install</code> on Linux, you will get something like:</p> </div> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-bash data-lang=bash>/usr/<span class=hljs-built_in>local</span>/lib/libuuid.so
/usr/<span class=hljs-built_in>local</span>/include/Uuid.h
/usr/<span class=hljs-built_in>local</span>/bin/uuidgen</code></pre> </div> </div> </div> <div class=sect2> <h3 id=_project_structure_fork_project>Project structure (<a href=https://github.com/carlosvin/uuid-cpp>Fork project</a>)</h3> <div class=dlist> <dl> <dt class=hdlist1><a href=https://github.com/carlosvin/uuid-cpp/blob/master/meson.build>meson.build</a></dt> <dd> <p>Root project file configuration. It defines project properties and subdirectories.</p> </dd> </dl> </div> <div class=listingblock> <div class=title>meson.build</div> <div class=content> <pre class=highlight><code class=language-python data-lang=python>project(
    <span class=hljs-string>'cpp-meson-example'</span>, <span class=hljs-comment># project name</span>
    <span class=hljs-string>'cpp'</span>, <span class=hljs-comment># C++ project, e.g: for C project</span>
    version : <span class=hljs-string>'1.0.0'</span>,
    license : <span class=hljs-string>'MIT'</span>,
    default_options : [<span class=hljs-string>'cpp_std=c++11'</span>]) <span class=hljs-comment># compile for C++</span>

<span class=hljs-comment># it will be referred from subdir projects</span>
inc = include_directories(<span class=hljs-string>'include'</span>)

<span class=hljs-comment># meson will try to find a meson.build file inside following directories</span>
subdir(<span class=hljs-string>'include'</span>)
subdir(<span class=hljs-string>'src'</span>)
subdir(<span class=hljs-string>'test'</span>)</code></pre> </div> </div> <div class=dlist> <dl> <dt class=hdlist1><a href=https://github.com/carlosvin/uuid-cpp/blob/master/include/ >include</a></dt> <dd> <div class=dlist> <dl> <dt class=hdlist1>meson.build</dt> <dd> <p>Build configuration file for include directory.</p> </dd> </dl> </div> </dd> </dl> </div> <div class=listingblock> <div class=title>include/meson.build</div> <div class=content> <pre class=highlight><code class=language-python data-lang=python><span class=hljs-comment># Select header files to be installed</span>
install_headers(<span class=hljs-string>'Uuid.h'</span>)</code></pre> </div> </div> <div class=dlist> <dl> <dt class=hdlist1><a href=https://github.com/carlosvin/uuid-cpp/blob/master/include/Uuid.h>Uuid.h</a></dt> <dd> <p>Header file, it is the library interface definition which will be included from projects using that library</p> </dd> </dl> </div> <div class=listingblock> <div class=title>include/Uuid.h</div> <div class=content> <pre class=highlight><code class=language-cpp data-lang=cpp><span class=hljs-keyword>namespace</span> ids {

<span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>Uuid</span> {</span>
    <span class=hljs-keyword>private</span>:
    <span class=hljs-comment>// ...</span></code></pre> </div> </div> <div class=dlist> <dl> <dt class=hdlist1><a href=https://github.com/carlosvin/uuid-cpp/blob/master/src>src</a></dt> <dd> <div class=dlist> <dl> <dt class=hdlist1><a href=https://github.com/carlosvin/uuid-cpp/blob/master/src/meson.build>meson.build (src)</a></dt> <dd> <p>It declares 2 output artifacts, library <code>libuuid</code> and executable <code>uuidgen</code>. Executable depends on the libary, it will use the libary to generate <a href=https://en.wikipedia.org/wiki/Universally_unique_identifier rel=noopener target=_blank>UUID</a>.</p> </dd> </dl> </div> </dd> </dl> </div> <div class=listingblock> <div class=title>src/meson.build</div> <div class=content> <pre class=highlight><code class=language-python data-lang=python>libuuid = shared_library(
    <span class=hljs-string>'uuid'</span>, <b class=conum>(1)</b>
    <span class=hljs-string>'Uuid.cpp'</span>, <b class=conum>(2)</b>
    include_directories : inc, <b class=conum>(3)</b>
    install : true) <b class=conum>(4)</b>

uuidgen = executable(
    <span class=hljs-string>'uuidgen'</span>, <b class=conum>(5)</b>
    <span class=hljs-string>'main.cpp'</span>, <b class=conum>(6)</b>
    include_directories : inc, <b class=conum>(7)</b>
    link_with : libuuid, <b class=conum>(8)</b>
    install : true) <b class=conum>(9)</b></code></pre> </div> </div> <div class="arabic colist"> <ol> <li> <p>library name</p> </li> <li> <p>source files to be compile</p> </li> <li> <p>previously declared include directories in root <code>meson.build</code></p> </li> <li> <p><code>libuuid</code> will be part of project installation</p> </li> <li> <p>executable name</p> </li> <li> <p>source files to compile</p> </li> <li> <p>previously declared include directories in root <code>meson.build</code></p> </li> <li> <p>linking executable with shared previously declared shared library <code>libuuid</code></p> </li> <li> <p><code>uuidgen</code> executable be part of project installation</p> <div class=dlist> <dl> <dt class=hdlist1><a href=https://github.com/carlosvin/uuid-cpp/blob/master/src/main.cpp>main.cpp</a></dt> <dd> <p>Entry point for main executable <code>uuidgen</code>.</p> </dd> </dl> </div> </li> </ol> </div> <div class=listingblock> <div class=title>src/main.cpp</div> <div class=content> <pre class=highlight><code class=language-cpp data-lang=cpp><span class=hljs-meta>#<span class=hljs-meta-keyword>include</span> <span class=hljs-meta-string>"Uuid.h"</span></span>
<span class=hljs-meta>#<span class=hljs-meta-keyword>include</span> <span class=hljs-meta-string>&lt;iostream></span></span>

<span class=hljs-function><span class=hljs-keyword>int</span> <span class=hljs-title>main</span><span class=hljs-params>()</span>
</span>{
    ids::Uuid uuid;
    <span class=hljs-built_in>std</span>::<span class=hljs-built_in>cout</span> &lt;&lt; uuid.to_str() &lt;&lt; <span class=hljs-built_in>std</span>::<span class=hljs-built_in>endl</span>;
    <span class=hljs-keyword>return</span> <span class=hljs-number>0</span>;
}</code></pre> </div> </div> <div class=dlist> <dl> <dt class=hdlist1><a href=https://github.com/carlosvin/uuid-cpp/blob/master/src/Uuid.cpp>Uuid.cpp</a></dt> <dd> <p>Implementation of declared class in header file.</p> </dd> </dl> </div> <div class=listingblock> <div class=title>src/Uuid.cpp</div> <div class=content> <pre class=highlight><code class=language-cpp data-lang=cpp><span class=hljs-meta>#<span class=hljs-meta-keyword>include</span> <span class=hljs-meta-string>"Uuid.h"</span></span>

Uuid::Uuid()
{ <span class=hljs-comment>// ...</span></code></pre> </div> </div> <div class=dlist> <dl> <dt class=hdlist1><a href=https://github.com/carlosvin/uuid-cpp/blob/master/test/ >test</a></dt> <dd> <div class=dlist> <dl> <dt class=hdlist1><a href=https://github.com/carlosvin/uuid-cpp/blob/master/test/meson.build>meson.build (test)</a></dt> <dd> <p>File to configure tests build process.</p> </dd> </dl> </div> </dd> </dl> </div> <div class=listingblock> <div class=title>test/meson.build</div> <div class=content> <pre class=highlight><code class=language-python data-lang=python>testexe = executable(
    <span class=hljs-string>'testexe'</span>, <b class=conum>(1)</b>
    <span class=hljs-string>'uuid_test.cpp'</span>, <b class=conum>(2)</b>
    include_directories : inc, <b class=conum>(3)</b>
    link_with : libuuid) <b class=conum>(4)</b>

test(<span class=hljs-string>'Uuid test'</span>, testexe) <b class=conum>(5)</b>

test(<span class=hljs-string>'Uuid test with args and env'</span>, testexe, args : [<span class=hljs-string>'arg1'</span>, <span class=hljs-string>'arg2'</span>], env : [<span class=hljs-string>'FOO=bar'</span>]) <b class=conum>(6)</b></code></pre> </div> </div> <div class="arabic colist"> <ol> <li> <p>test executable name</p> </li> <li> <p>tests source files to be compiled</p> </li> <li> <p>declared include directories in root <code>meson.build</code></p> </li> <li> <p>link test executable with previously declared shared library <code>libuuid</code></p> </li> <li> <p>test execution</p> </li> <li> <p>we can specify other test execution passing arguments or environment variables</p> <div class=dlist> <dl> <dt class=hdlist1>doctest.h</dt> <dd> <p><a href=https://github.com/onqtam/doctest rel=noopener target=_blank>doctest</a> library in a single header file. You can try to automate library installation as part of your build process, but I haven not figured out yet a way to do it with <a href=https://mesonbuild.com/ rel=noopener target=_blank>Meson</a>. For now, I have installed it manually:</p> </dd> </dl> </div> </li> </ol> </div> <div class=listingblock> <div class=title>Add <a href=https://github.com/onqtam/doctest rel=noopener target=_blank>doctest</a> to your project</div> <div class=content> <pre class=highlight><code class=language-bash data-lang=bash><span class=hljs-built_in>cd</span> <span class=hljs-built_in>test</span>
wget https://raw.githubusercontent.com/onqtam/doctest/master/doctest/doctest.h</code></pre> </div> </div> <div class=dlist> <dl> <dt class=hdlist1><a href=https://github.com/carlosvin/uuid-cpp/blob/master/test/uuid_test.cpp>uuid_test.cpp</a></dt> <dd> <p>Tests implementation.</p> </dd> </dl> </div> <div class=listingblock> <div class=title>test/uuid_test.cpp</div> <div class=content> <pre class=highlight><code class=language-cpp data-lang=cpp><span class=hljs-meta>#<span class=hljs-meta-keyword>define</span> DOCTEST_CONFIG_IMPLEMENT_WITH_MAIN</span>

<span class=hljs-meta>#<span class=hljs-meta-keyword>include</span> <span class=hljs-meta-string>"doctest.h"</span></span>
<span class=hljs-meta>#<span class=hljs-meta-keyword>include</span> <span class=hljs-meta-string>"Uuid.h"</span></span>
<span class=hljs-meta>#<span class=hljs-meta-keyword>include</span> <span class=hljs-meta-string>&lt;string></span></span>

<span class=hljs-keyword>constexpr</span> <span class=hljs-keyword>int</span> MAX_ITERS = <span class=hljs-number>100</span>;

TEST_CASE(<span class=hljs-string>"Uuid"</span>)
{
    <span class=hljs-keyword>for</span> (<span class=hljs-keyword>int</span> i = <span class=hljs-number>0</span>; i &lt; MAX_ITERS; i++)
    {
        ids::Uuid uuid;
        <span class=hljs-built_in>std</span>::<span class=hljs-built_in>string</span> uuid_str{uuid.to_str()};

        INFO(uuid_str);

        <span class=hljs-comment>// If assertion fails test execution is stopped</span>
        REQUIRE(uuid_str.size() == <span class=hljs-number>36</span>);

        <span class=hljs-comment>// If assertion fails test execution continues</span>
        CHECK(uuid.most > <span class=hljs-number>0</span>);
        CHECK(uuid.least > <span class=hljs-number>0</span>);
    }
}

<span class=hljs-comment>// BDD style</span>

SCENARIO(<span class=hljs-string>"UUID creation"</span>)
{

    GIVEN(<span class=hljs-string>"A random UUID "</span>)
    {

        ids::Uuid uuid;
        <span class=hljs-built_in>std</span>::<span class=hljs-built_in>string</span> uuid_str{uuid.to_str()};

        REQUIRE(uuid_str.size() == <span class=hljs-number>36</span>);

        WHEN(<span class=hljs-string>"get the most and least"</span>)
        {
            THEN(<span class=hljs-string>"should be more than 0"</span>)
            {
                CHECK(uuid.most > <span class=hljs-number>0</span>);
                CHECK(uuid.least > <span class=hljs-number>0</span>);
            }
        }
    }
}</code></pre> </div> </div> <div class="admonitionblock tip"> <table> <tr> <td class=icon> <div class=title>Tip</div> </td> <td class=content> You can find how to build and test the example project at: <a href=https://github.com/carlosvin/uuid-cpp#how-to-build-the-example class=bare>https://github.com/carlosvin/uuid-cpp#how-to-build-the-example</a> </td> </tr> </table> </div> </div> </div> </div></div></main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,(function(a,b,c,d,e,f,g){return {post:{sectids:a,"toc-placement":"auto",notitle:a,stylesheet:a,webfonts:a,prewrap:a,"attribute-undefined":"drop-line","attribute-missing":"skip","iconfont-remote":a,"caution-caption":"Caution","important-caption":"Important","note-caption":"Note","tip-caption":"Tip","warning-caption":"Warning","example-caption":"Example","figure-caption":"Figure","table-caption":"Table","toc-title":"Table of Contents","section-refsig":"Section","part-refsig":"Part","chapter-refsig":"Chapter","appendix-refsig":c,"appendix-caption":c,"untitled-label":"Untitled","version-label":"Version","last-update-label":"Last updated",docfile:"choosing-modern-cpp-stack.en.adoc",docdir:a,docfilesuffix:".adoc",docname:"choosing-modern-cpp-stack.en",embedded:a,asciidoctor:a,"asciidoctor-version":"2.0.10","safe-mode-name":"secure","safe-mode-secure":a,"safe-mode-level":20,"max-include-depth":64,"user-home":d,backend:"html5","max-attribute-value-size":4096,linkcss:a,doctype:"article",htmlsyntax:b,"backend-html5-doctype-article":a,"doctype-article":a,"backend-html5":a,outfilesuffix:".html",filetype:b,"filetype-html":a,"basebackend-html-doctype-article":a,"basebackend-html":a,basebackend:b,stylesdir:d,iconsdir:".\u002Fimages\u002Ficons",localdate:"2020-04-21",localyear:e,localtime:"22:55:39 +0200",localdatetime:"2020-04-21 22:55:39 +0200",docdate:"2020-04-19",docyear:e,doctime:"10:46:31 +0200",docdatetime:"2020-04-19 10:46:31 +0200",doctitle:f,date:"2017\u002F09\u002F15 20:50:00",keywords:["C++","Unit Testing","Build System","Build Software","Meson","Catch","doctest"],description:g,lang:"en",toc:a,make_link:"https:\u002F\u002Fwww.gnu.org\u002Fsoftware\u002Fmake\u002Fmanual\u002Fmake.html[Make,window=_blank]",maven:"https:\u002F\u002Fmaven.apache.org\u002F[Maven,window=_blank]",scons:"https:\u002F\u002Fscons.org\u002F[Scons,window=_blank]",cmake:"https:\u002F\u002Fcmake.org\u002F[CMake,window=_blank]",meson:"https:\u002F\u002Fmesonbuild.com\u002F[Meson,window=_blank]",gradle:"https:\u002F\u002Fgradle.org\u002F[Gradle,window=_blank]",autotools:"https:\u002F\u002Fwww.gnu.org\u002Fsoftware\u002Fautomake\u002Fmanual\u002Fhtml_node\u002FAutotools-Introduction.html[Autotools,window=_blank]",gnome:"https:\u002F\u002Fwww.gnome.org\u002F[Gnome,window=_blank]",ninja:"https:\u002F\u002Fninja-build.org\u002F[Ninja,window=_blank]",python:"https:\u002F\u002Fpython.org\u002F[Python,window=_blank]",catch:"https:\u002F\u002Fgithub.com\u002Fphilsquared\u002FCatch[Catch,window=_blank]",doctest:"https:\u002F\u002Fgithub.com\u002Fonqtam\u002Fdoctest[doctest,window=_blank]",xunit:"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FXUnit[xUnit,window=_blank]",bdd:"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FBehavior-driven_development[BDD,window=_blank]",uuid:"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FUniversally_unique_identifier[UUID,window=_blank]",mt19937:"https:\u002F\u002Fwww.cplusplus.com\u002Freference\u002Frandom\u002Fmt19937[mt19937,window=_blank]",benchmarkresults:"https:\u002F\u002Fgithub.com\u002Fonqtam\u002Fdoctest\u002Fblob\u002Fmaster\u002Fdoc\u002Fmarkdown\u002Fbenchmarks.md[performance results]",authorcount:0,title:f,summary:g,html:"\u003Cdiv id=\"toc\" class=\"toc\"\u003E\n\u003Cdiv id=\"toctitle\"\u003ETable of Contents\u003C\u002Fdiv\u003E\n\u003Cul class=\"sectlevel1\"\u003E\n\u003Cli\u003E\u003Ca href=\"#_choosing_build_system_meson\"\u003EChoosing Build System (Meson)\u003C\u002Fa\u003E\n\u003Cul class=\"sectlevel2\"\u003E\n\u003Cli\u003E\u003Ca href=\"#_cmake_vs_meson\"\u003ECMake vs Meson\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_other_build_systems_comparisons\"\u003EOther build systems comparisons\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_unit_testing_framework\"\u003EUnit Testing Framework\u003C\u002Fa\u003E\n\u003Cul class=\"sectlevel2\"\u003E\n\u003Cli\u003E\u003Ca href=\"#_doctest_a_catch_alternative\"\u003Edoctest: A Catch alternative\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_example\"\u003EExample\u003C\u002Fa\u003E\n\u003Cul class=\"sectlevel2\"\u003E\n\u003Cli\u003E\u003Ca href=\"#_project_output_artifacts\"\u003EProject output artifacts\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_project_structure_fork_project\"\u003EProject structure (Fork project)\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv id=\"preamble\"\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EI&#8217;m starting a new project in C++, but I&#8217;ve run into a pair of questions before start:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"olist arabic\"\u003E\n\u003Col class=\"arabic\"\u003E\n\u003Cli\u003E\n\u003Cp\u003EWhich build system should I use?\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EWhich unit testing framework?\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_choosing_build_system_meson\"\u003EChoosing Build System (\u003Ca href=\"https:\u002F\u002Fmesonbuild.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMeson\u003C\u002Fa\u003E)\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EI have used before \u003Ca href=\"https:\u002F\u002Fwww.gnu.org\u002Fsoftware\u002Fmake\u002Fmanual\u002Fmake.html\" target=\"_blank\" rel=\"noopener\"\u003EMake\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fmaven.apache.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMaven\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fscons.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EScons\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fgradle.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EGradle\u003C\u002Fa\u003E and \u003Ca href=\"https:\u002F\u002Fwww.gnu.org\u002Fsoftware\u002Fautomake\u002Fmanual\u002Fhtml_node\u002FAutotools-Introduction.html\" target=\"_blank\" rel=\"noopener\"\u003EAutotools\u003C\u002Fa\u003E, but I have some reasons to try find something else:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fwww.gnu.org\u002Fsoftware\u002Fautomake\u002Fmanual\u002Fhtml_node\u002FAutotools-Introduction.html\" target=\"_blank\" rel=\"noopener\"\u003EAutotools\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EIt is not easy to configure and maintain. There are several configuration files and several configuration steps.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fgradle.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EGradle\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EC feature is still incubating. Not very fast. You can check a similar example project at link:\u002Fposts\u002Fgradle-cpp\u002F[Build C project with Gradle].\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fwww.gnu.org\u002Fsoftware\u002Fmake\u002Fmanual\u002Fmake.html\" target=\"_blank\" rel=\"noopener\"\u003EMake\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EI don&#8217;t love the syntax. Files tends to get messy as project grows.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fscons.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EScons\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EIt is just slower and not as easy to understand than \u003Ca href=\"https:\u002F\u002Fmesonbuild.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMeson\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fmaven.apache.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMaven\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EIt is slow and you might end up \"\u003Cem\u003EJavatizing\u003C\u002Fem\u003E\" your C++ project structure.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"admonitionblock note\"\u003E\n\u003Ctable\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"icon\"\u003E\n\u003Cdiv class=\"title\"\u003ENote\u003C\u002Fdiv\u003E\n\u003C\u002Ftd\u003E\n\u003Ctd class=\"content\"\u003E\nI&#8217;ve listed just things I don&#8217;t like, those projects have other great features.\n\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftable\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_cmake_vs_meson\"\u003E\u003Ca href=\"https:\u002F\u002Fcmake.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003ECMake\u003C\u002Fa\u003E vs \u003Ca href=\"https:\u002F\u002Fmesonbuild.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMeson\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EAfter discarding previous ones, I&#8217;m considering \u003Ca href=\"https:\u002F\u002Fmesonbuild.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMeson\u003C\u002Fa\u003E or \u003Ca href=\"https:\u002F\u002Fcmake.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003ECMake\u003C\u002Fa\u003E. Both are fast build systems:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EAlthough \u003Ca href=\"https:\u002F\u002Fmesonbuild.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMeson\u003C\u002Fa\u003E is written in \u003Ca href=\"https:\u002F\u002Fpython.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EPython\u003C\u002Fa\u003E, it generates a \u003Ca href=\"https:\u002F\u002Fninja-build.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003ENinja\u003C\u002Fa\u003E build project. First time you configure the project you have to run \u003Ca href=\"https:\u002F\u002Fmesonbuild.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMeson\u003C\u002Fa\u003E, but for building or testing you are actually running \u003Ca href=\"https:\u002F\u002Fninja-build.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003ENinja\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcmake.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003ECMake\u003C\u002Fa\u003E is also able to generate \u003Ca href=\"https:\u002F\u002Fninja-build.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003ENinja\u003C\u002Fa\u003E files among other formats, \u003Ca href=\"https:\u002F\u002Fcmake.org\u002Fcmake\u002Fhelp\u002Flatest\u002Fmanual\u002Fcmake-generators.7.html\"\u003Echeck CMake generators documentation for more information\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fcmake.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003ECMake\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EIt has a big advantage over \u003Ca href=\"https:\u002F\u002Fmesonbuild.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMeson\u003C\u002Fa\u003E, it is mature and widely used in many projects, which means there are many examples and it will fulfill your C++ project building needs.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fmesonbuild.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMeson\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EIt is a young project compared with \u003Ca href=\"https:\u002F\u002Fcmake.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003ECMake\u003C\u002Fa\u003E, but it is growing quite fast and it has been adopted in other big projects like \u003Ca href=\"\"\u003EGnome\u003C\u002Fa\u003E, they have an initiative to \u003Ca href=\"https:\u002F\u002Fwiki.gnome.org\u002FInitiatives\u002FGnomeGoals\u002FMesonPorting\"\u003Eport from Autotools to Meson\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003E\u003Cstrong\u003EFinally I&#8217;ve chosen\u003C\u002Fstrong\u003E \u003Ca href=\"https:\u002F\u002Fmesonbuild.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMeson\u003C\u002Fa\u003E because syntax is really clear to me, when I read \u003Ccode\u003Emeson.build\u003C\u002Fcode\u003E file I can quickly understand what is happening during build process.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003ESteps to compile and test a project\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-bash\" data-lang=\"bash\"\u003E$ meson build .  \u003Cb class=\"conum\"\u003E(1)\u003C\u002Fb\u003E\n$ \u003Cspan class=\"hljs-built_in\"\u003Ecd\u003C\u002Fspan\u003E build\n$ ninja build    \u003Cb class=\"conum\"\u003E(2)\u003C\u002Fb\u003E\n$ ninja \u003Cspan class=\"hljs-built_in\"\u003Etest\u003C\u002Fspan\u003E     \u003Cb class=\"conum\"\u003E(3)\u003C\u002Fb\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"colist arabic\"\u003E\n\u003Col\u003E\n\u003Cli\u003E\n\u003Cp\u003EFirst time you configure the project\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EEach time you build it\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EEach time you run tests\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_other_build_systems_comparisons\"\u003EOther build systems comparisons\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EI&#8217;ve found two interesting comparisons about available C++ build systems, they might be a little be biased because those comparisons come from \u003Ca href=\"https:\u002F\u002Fmesonbuild.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMeson\u003C\u002Fa\u003E and \u003Ca href=\"https:\u002F\u002Fscons.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003EScons\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"ulist\"\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fbitbucket.org\u002Fscons\u002Fscons\u002Fwiki\u002FSconsVsOtherBuildTools\"\u003EC++ build systems comparison from Scons\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fmesonbuild.com\u002FSimple-comparison.html\"\u003EC++ build systems comparison from Meson\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_unit_testing_framework\"\u003EUnit Testing Framework\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EI have used some \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FXUnit\" target=\"_blank\" rel=\"noopener\"\u003ExUnit\u003C\u002Fa\u003E based libraries like \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Funittest-cpp\u002Funittest-cpp\"\u003EUnitTest++\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fcpputest.github.io\u002F\"\u003ECppUTest\u003C\u002Fa\u003E or \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fgoogle\u002Fgoogletest\"\u003EGoogle Test\u003C\u002Fa\u003E which match perfectly with \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fgoogle\u002Fgoogletest\u002Ftree\u002Fmaster\u002Fgooglemock\"\u003EGoogle Mock\u003C\u002Fa\u003E. If you want a safe bet that fulfills almost of your testing needs I highly recommend \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fgoogle\u002Fgoogletest\"\u003EGoogle Test\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EBut time ago I found a testing framework with some interesting features, \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fphilsquared\u002FCatch\" target=\"_blank\" rel=\"noopener\"\u003ECatch\u003C\u002Fa\u003E:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"ulist\"\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EIt is just a header file with no external dependencies, so very easy to start (wget + include downloaded file).\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EYou can use normal unit test style or \u003Ca href=\"\"\u003EBDD\u003C\u002Fa\u003E-style\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EIf you want to know more about \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fphilsquared\u002FCatch\" target=\"_blank\" rel=\"noopener\"\u003ECatch\u003C\u002Fa\u003E, I recommend you to give it a try, it is a matter of 2 minutes to have a \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fphilsquared\u002FCatch\u002Fblob\u002Fmaster\u002Fdocs\u002Ftutorial.md#writing-tests\"\u003Esimple example up and running\u003C\u002Fa\u003E. You can also read some interesting articles like \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fphilsquared\u002FCatch\u002Fblob\u002Fmaster\u002Fdocs\u002Fwhy-catch.md\"\u003EWhy do we need yet another C test framework?] or https:\u002F\u002Fblog.coldflake.com\u002Fposts\u002FTesting-C-with-a-new-Catch\u002F[Testing C++ With A New Catch\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_doctest_a_catch_alternative\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fonqtam\u002Fdoctest\" target=\"_blank\" rel=\"noopener\"\u003Edoctest\u003C\u002Fa\u003E: A \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fphilsquared\u002FCatch\" target=\"_blank\" rel=\"noopener\"\u003ECatch\u003C\u002Fa\u003E alternative\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EThere is another testing framework named \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fonqtam\u002Fdoctest\" target=\"_blank\" rel=\"noopener\"\u003Edoctest\u003C\u002Fa\u003E, with same benefits as \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fphilsquared\u002FCatch\" target=\"_blank\" rel=\"noopener\"\u003ECatch\u003C\u002Fa\u003E, but it promises to be faster and lighter (\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fonqtam\u002Fdoctest\u002Fblob\u002Fmaster\u002Fdoc\u002Fmarkdown\u002Fbenchmarks.md\"\u003Eperformance results\u003C\u002Fa\u003E) than \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fphilsquared\u002FCatch\" target=\"_blank\" rel=\"noopener\"\u003ECatch\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fonqtam\u002Fdoctest\" target=\"_blank\" rel=\"noopener\"\u003Edoctest\u003C\u002Fa\u003E is modeled after \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fphilsquared\u002FCatch\" target=\"_blank\" rel=\"noopener\"\u003ECatch\u003C\u002Fa\u003E and some parts of the code have been taken directly, but there are \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fonqtam\u002Fdoctest\u002Fblob\u002Fmaster\u002Fdoc\u002Fmarkdown\u002Ffaq.md#how-is-doctest-different-from-catch\"\u003Edifferences\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EIt hasn&#8217;t been easy to decide, both are really similar, following you can see differences:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003Ediff between doctest and catch branches\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-diff\" data-lang=\"diff\"\u003E\u003Cspan class=\"hljs-meta\"\u003E@@ -1,12 +1,12 @@\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-deletion\"\u003E-#define CATCH_CONFIG_MAIN \u002F\u002F It tells Catch to provide a main() - only do this in one cpp file\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-addition\"\u003E+#define DOCTEST_CONFIG_IMPLEMENT_WITH_MAIN\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-deletion\"\u003E-#include \"catch.hpp\"\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-addition\"\u003E+#include \"doctest.h\"\u003C\u002Fspan\u003E\n#include \"Uuid.h\"\n#include &lt;string&gt;\n\nconstexpr int MAX_ITERS = 100;\n\n\u003Cspan class=\"hljs-deletion\"\u003E-TEST_CASE(\"Uuid\", \"[uuid]\")\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-addition\"\u003E+TEST_CASE(\"Uuid\")\u003C\u002Fspan\u003E\n{\nfor (int i = 0; i &lt; MAX_ITERS; i++)\n{\n@@ -26,7 +26,7 @@ TEST_CASE(\"Uuid\", \"[uuid]\")\n\n\u002F\u002F BDD style\n\n\u003Cspan class=\"hljs-deletion\"\u003E-SCENARIO(\"UUID creation\", \"[Uuid]\")\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-addition\"\u003E+SCENARIO(\"UUID creation\")\u003C\u002Fspan\u003E\n{\n\nGIVEN(\"A random UUID \")\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EI&#8217;ve finally chosen \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fonqtam\u002Fdoctest\" target=\"_blank\" rel=\"noopener\"\u003Edoctest\u003C\u002Fa\u003E because it promises to be faster: \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fonqtam\u002Fdoctest\u002Fblob\u002Fmaster\u002Fdoc\u002Fmarkdown\u002Fbenchmarks.md\"\u003Eperformance results\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"admonitionblock note\"\u003E\n\u003Ctable\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"icon\"\u003E\n\u003Cdiv class=\"title\"\u003ENote\u003C\u002Fdiv\u003E\n\u003C\u002Ftd\u003E\n\u003Ctd class=\"content\"\u003E\nI&#8217;ve created project using both frameworks you can find them in corresponding branches: \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\u002Ftree\u002Fdoctest\"\u003Edoctest branch\u003C\u002Fa\u003E or \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\u002Ftree\u002Fcatch\"\u003Ecatch branch\u003C\u002Fa\u003E.\n\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftable\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_example\"\u003EExample\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EI&#8217;ve created an example to illustrate this article: \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\" class=\"bare\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EIt is a basic implementation of UUID pseudo-random generator based on \u003Ca href=\"https:\u002F\u002Fwww.cplusplus.com\u002Freference\u002Frandom\u002Fmt19937\" target=\"_blank\" rel=\"noopener\"\u003Emt19937\u003C\u002Fa\u003E which is not cryptographically secure.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_project_output_artifacts\"\u003EProject output artifacts\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EWhen we install the project using \u003Ca href=\"https:\u002F\u002Fmesonbuild.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMeson\u003C\u002Fa\u003E (\u003Ca href=\"https:\u002F\u002Fninja-build.org\u002F\" target=\"_blank\" rel=\"noopener\"\u003ENinja\u003C\u002Fa\u003E), we will get some artifacts generated and copied in our system.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"ulist\"\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EShared library: \u003Ccode\u003Elibuuid\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EHeader library for developers who want to use the shared library: \u003Ccode\u003Einclude\u002FUuid.h\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EExecutable \u003Ccode\u003Euuidgen\u003C\u002Fcode\u003E (\u003Ca href=\"\"\u003EUUID\u003C\u002Fa\u003E generator).\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003ETest executable (not installed). It tests shared library.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EFor example, if you execute \u003Ccode\u003Eninja install\u003C\u002Fcode\u003E on Linux, you will get something like:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-bash\" data-lang=\"bash\"\u003E\u002Fusr\u002F\u003Cspan class=\"hljs-built_in\"\u003Elocal\u003C\u002Fspan\u003E\u002Flib\u002Flibuuid.so\n\u002Fusr\u002F\u003Cspan class=\"hljs-built_in\"\u003Elocal\u003C\u002Fspan\u003E\u002Finclude\u002FUuid.h\n\u002Fusr\u002F\u003Cspan class=\"hljs-built_in\"\u003Elocal\u003C\u002Fspan\u003E\u002Fbin\u002Fuuidgen\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_project_structure_fork_project\"\u003EProject structure (\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\"\u003EFork project\u003C\u002Fa\u003E)\u003C\u002Fh3\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\u002Fblob\u002Fmaster\u002Fmeson.build\"\u003Emeson.build\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003ERoot project file configuration. It defines project properties and subdirectories.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003Emeson.build\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-python\" data-lang=\"python\"\u003Eproject(\n    \u003Cspan class=\"hljs-string\"\u003E'cpp-meson-example'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-comment\"\u003E# project name\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-string\"\u003E'cpp'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-comment\"\u003E# C++ project, e.g: for C project\u003C\u002Fspan\u003E\n    version : \u003Cspan class=\"hljs-string\"\u003E'1.0.0'\u003C\u002Fspan\u003E,\n    license : \u003Cspan class=\"hljs-string\"\u003E'MIT'\u003C\u002Fspan\u003E,\n    default_options : [\u003Cspan class=\"hljs-string\"\u003E'cpp_std=c++11'\u003C\u002Fspan\u003E]) \u003Cspan class=\"hljs-comment\"\u003E# compile for C++\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-comment\"\u003E# it will be referred from subdir projects\u003C\u002Fspan\u003E\ninc = include_directories(\u003Cspan class=\"hljs-string\"\u003E'include'\u003C\u002Fspan\u003E)\n\n\u003Cspan class=\"hljs-comment\"\u003E# meson will try to find a meson.build file inside following directories\u003C\u002Fspan\u003E\nsubdir(\u003Cspan class=\"hljs-string\"\u003E'include'\u003C\u002Fspan\u003E)\nsubdir(\u003Cspan class=\"hljs-string\"\u003E'src'\u003C\u002Fspan\u003E)\nsubdir(\u003Cspan class=\"hljs-string\"\u003E'test'\u003C\u002Fspan\u003E)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\u002Fblob\u002Fmaster\u002Finclude\u002F\"\u003Einclude\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003Emeson.build\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EBuild configuration file for include directory.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003Einclude\u002Fmeson.build\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-python\" data-lang=\"python\"\u003E\u003Cspan class=\"hljs-comment\"\u003E# Select header files to be installed\u003C\u002Fspan\u003E\ninstall_headers(\u003Cspan class=\"hljs-string\"\u003E'Uuid.h'\u003C\u002Fspan\u003E)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\u002Fblob\u002Fmaster\u002Finclude\u002FUuid.h\"\u003EUuid.h\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EHeader file, it is the library interface definition which will be included from projects using that library\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003Einclude\u002FUuid.h\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-cpp\" data-lang=\"cpp\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Enamespace\u003C\u002Fspan\u003E ids {\n\n\u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EUuid\u003C\u002Fspan\u003E {\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Eprivate\u003C\u002Fspan\u003E:\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\u002Fblob\u002Fmaster\u002Fsrc\"\u003Esrc\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\u002Fblob\u002Fmaster\u002Fsrc\u002Fmeson.build\"\u003Emeson.build (src)\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EIt declares 2 output artifacts, library \u003Ccode\u003Elibuuid\u003C\u002Fcode\u003E and executable \u003Ccode\u003Euuidgen\u003C\u002Fcode\u003E. Executable depends on the libary, it will use the libary to generate \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FUniversally_unique_identifier\" target=\"_blank\" rel=\"noopener\"\u003EUUID\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003Esrc\u002Fmeson.build\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-python\" data-lang=\"python\"\u003Elibuuid = shared_library(\n    \u003Cspan class=\"hljs-string\"\u003E'uuid'\u003C\u002Fspan\u003E, \u003Cb class=\"conum\"\u003E(1)\u003C\u002Fb\u003E\n    \u003Cspan class=\"hljs-string\"\u003E'Uuid.cpp'\u003C\u002Fspan\u003E, \u003Cb class=\"conum\"\u003E(2)\u003C\u002Fb\u003E\n    include_directories : inc, \u003Cb class=\"conum\"\u003E(3)\u003C\u002Fb\u003E\n    install : true) \u003Cb class=\"conum\"\u003E(4)\u003C\u002Fb\u003E\n\nuuidgen = executable(\n    \u003Cspan class=\"hljs-string\"\u003E'uuidgen'\u003C\u002Fspan\u003E, \u003Cb class=\"conum\"\u003E(5)\u003C\u002Fb\u003E\n    \u003Cspan class=\"hljs-string\"\u003E'main.cpp'\u003C\u002Fspan\u003E, \u003Cb class=\"conum\"\u003E(6)\u003C\u002Fb\u003E\n    include_directories : inc, \u003Cb class=\"conum\"\u003E(7)\u003C\u002Fb\u003E\n    link_with : libuuid, \u003Cb class=\"conum\"\u003E(8)\u003C\u002Fb\u003E\n    install : true) \u003Cb class=\"conum\"\u003E(9)\u003C\u002Fb\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"colist arabic\"\u003E\n\u003Col\u003E\n\u003Cli\u003E\n\u003Cp\u003Elibrary name\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003Esource files to be compile\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003Epreviously declared include directories in root \u003Ccode\u003Emeson.build\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ccode\u003Elibuuid\u003C\u002Fcode\u003E will be part of project installation\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003Eexecutable name\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003Esource files to compile\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003Epreviously declared include directories in root \u003Ccode\u003Emeson.build\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003Elinking executable with shared previously declared shared library \u003Ccode\u003Elibuuid\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ccode\u003Euuidgen\u003C\u002Fcode\u003E executable be part of project installation\u003C\u002Fp\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\u002Fblob\u002Fmaster\u002Fsrc\u002Fmain.cpp\"\u003Emain.cpp\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EEntry point for main executable \u003Ccode\u003Euuidgen\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003Esrc\u002Fmain.cpp\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-cpp\" data-lang=\"cpp\"\u003E\u003Cspan class=\"hljs-meta\"\u003E#\u003Cspan class=\"hljs-meta-keyword\"\u003Einclude\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-meta-string\"\u003E\"Uuid.h\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-meta\"\u003E#\u003Cspan class=\"hljs-meta-keyword\"\u003Einclude\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-meta-string\"\u003E&lt;iostream&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Emain\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E()\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E{\n    ids::Uuid uuid;\n    \u003Cspan class=\"hljs-built_in\"\u003Estd\u003C\u002Fspan\u003E::\u003Cspan class=\"hljs-built_in\"\u003Ecout\u003C\u002Fspan\u003E &lt;&lt; uuid.to_str() &lt;&lt; \u003Cspan class=\"hljs-built_in\"\u003Estd\u003C\u002Fspan\u003E::\u003Cspan class=\"hljs-built_in\"\u003Eendl\u003C\u002Fspan\u003E;\n    \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E;\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\u002Fblob\u002Fmaster\u002Fsrc\u002FUuid.cpp\"\u003EUuid.cpp\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EImplementation of declared class in header file.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003Esrc\u002FUuid.cpp\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-cpp\" data-lang=\"cpp\"\u003E\u003Cspan class=\"hljs-meta\"\u003E#\u003Cspan class=\"hljs-meta-keyword\"\u003Einclude\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-meta-string\"\u003E\"Uuid.h\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\nUuid::Uuid()\n{ \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\u002Fblob\u002Fmaster\u002Ftest\u002F\"\u003Etest\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\u002Fblob\u002Fmaster\u002Ftest\u002Fmeson.build\"\u003Emeson.build (test)\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003EFile to configure tests build process.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003Etest\u002Fmeson.build\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-python\" data-lang=\"python\"\u003Etestexe = executable(\n    \u003Cspan class=\"hljs-string\"\u003E'testexe'\u003C\u002Fspan\u003E, \u003Cb class=\"conum\"\u003E(1)\u003C\u002Fb\u003E\n    \u003Cspan class=\"hljs-string\"\u003E'uuid_test.cpp'\u003C\u002Fspan\u003E, \u003Cb class=\"conum\"\u003E(2)\u003C\u002Fb\u003E\n    include_directories : inc, \u003Cb class=\"conum\"\u003E(3)\u003C\u002Fb\u003E\n    link_with : libuuid) \u003Cb class=\"conum\"\u003E(4)\u003C\u002Fb\u003E\n\ntest(\u003Cspan class=\"hljs-string\"\u003E'Uuid test'\u003C\u002Fspan\u003E, testexe) \u003Cb class=\"conum\"\u003E(5)\u003C\u002Fb\u003E\n\ntest(\u003Cspan class=\"hljs-string\"\u003E'Uuid test with args and env'\u003C\u002Fspan\u003E, testexe, args : [\u003Cspan class=\"hljs-string\"\u003E'arg1'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E'arg2'\u003C\u002Fspan\u003E], env : [\u003Cspan class=\"hljs-string\"\u003E'FOO=bar'\u003C\u002Fspan\u003E]) \u003Cb class=\"conum\"\u003E(6)\u003C\u002Fb\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"colist arabic\"\u003E\n\u003Col\u003E\n\u003Cli\u003E\n\u003Cp\u003Etest executable name\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003Etests source files to be compiled\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003Edeclared include directories in root \u003Ccode\u003Emeson.build\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003Elink test executable with previously declared shared library \u003Ccode\u003Elibuuid\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003Etest execution\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003Ewe can specify other test execution passing arguments or environment variables\u003C\u002Fp\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003Edoctest.h\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fonqtam\u002Fdoctest\" target=\"_blank\" rel=\"noopener\"\u003Edoctest\u003C\u002Fa\u003E library in a single header file. You can try to automate library installation as part of your build process, but I haven not figured out yet a way to do it with \u003Ca href=\"https:\u002F\u002Fmesonbuild.com\u002F\" target=\"_blank\" rel=\"noopener\"\u003EMeson\u003C\u002Fa\u003E. For now, I have installed it manually:\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003EAdd \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fonqtam\u002Fdoctest\" target=\"_blank\" rel=\"noopener\"\u003Edoctest\u003C\u002Fa\u003E to your project\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-bash\" data-lang=\"bash\"\u003E\u003Cspan class=\"hljs-built_in\"\u003Ecd\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003Etest\u003C\u002Fspan\u003E\nwget https:\u002F\u002Fraw.githubusercontent.com\u002Fonqtam\u002Fdoctest\u002Fmaster\u002Fdoctest\u002Fdoctest.h\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"dlist\"\u003E\n\u003Cdl\u003E\n\u003Cdt class=\"hdlist1\"\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp\u002Fblob\u002Fmaster\u002Ftest\u002Fuuid_test.cpp\"\u003Euuid_test.cpp\u003C\u002Fa\u003E\u003C\u002Fdt\u003E\n\u003Cdd\u003E\n\u003Cp\u003ETests implementation.\u003C\u002Fp\u003E\n\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003Etest\u002Fuuid_test.cpp\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre class=\"highlight\"\u003E\u003Ccode class=\"language-cpp\" data-lang=\"cpp\"\u003E\u003Cspan class=\"hljs-meta\"\u003E#\u003Cspan class=\"hljs-meta-keyword\"\u003Edefine\u003C\u002Fspan\u003E DOCTEST_CONFIG_IMPLEMENT_WITH_MAIN\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-meta\"\u003E#\u003Cspan class=\"hljs-meta-keyword\"\u003Einclude\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-meta-string\"\u003E\"doctest.h\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-meta\"\u003E#\u003Cspan class=\"hljs-meta-keyword\"\u003Einclude\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-meta-string\"\u003E\"Uuid.h\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-meta\"\u003E#\u003Cspan class=\"hljs-meta-keyword\"\u003Einclude\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-meta-string\"\u003E&lt;string&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-keyword\"\u003Econstexpr\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Eint\u003C\u002Fspan\u003E MAX_ITERS = \u003Cspan class=\"hljs-number\"\u003E100\u003C\u002Fspan\u003E;\n\nTEST_CASE(\u003Cspan class=\"hljs-string\"\u003E\"Uuid\"\u003C\u002Fspan\u003E)\n{\n    \u003Cspan class=\"hljs-keyword\"\u003Efor\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-keyword\"\u003Eint\u003C\u002Fspan\u003E i = \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E; i &lt; MAX_ITERS; i++)\n    {\n        ids::Uuid uuid;\n        \u003Cspan class=\"hljs-built_in\"\u003Estd\u003C\u002Fspan\u003E::\u003Cspan class=\"hljs-built_in\"\u003Estring\u003C\u002Fspan\u003E uuid_str{uuid.to_str()};\n\n        INFO(uuid_str);\n\n        \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F If assertion fails test execution is stopped\u003C\u002Fspan\u003E\n        REQUIRE(uuid_str.size() == \u003Cspan class=\"hljs-number\"\u003E36\u003C\u002Fspan\u003E);\n\n        \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F If assertion fails test execution continues\u003C\u002Fspan\u003E\n        CHECK(uuid.most &gt; \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E);\n        CHECK(uuid.least &gt; \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E);\n    }\n}\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F BDD style\u003C\u002Fspan\u003E\n\nSCENARIO(\u003Cspan class=\"hljs-string\"\u003E\"UUID creation\"\u003C\u002Fspan\u003E)\n{\n\n    GIVEN(\u003Cspan class=\"hljs-string\"\u003E\"A random UUID \"\u003C\u002Fspan\u003E)\n    {\n\n        ids::Uuid uuid;\n        \u003Cspan class=\"hljs-built_in\"\u003Estd\u003C\u002Fspan\u003E::\u003Cspan class=\"hljs-built_in\"\u003Estring\u003C\u002Fspan\u003E uuid_str{uuid.to_str()};\n\n        REQUIRE(uuid_str.size() == \u003Cspan class=\"hljs-number\"\u003E36\u003C\u002Fspan\u003E);\n\n        WHEN(\u003Cspan class=\"hljs-string\"\u003E\"get the most and least\"\u003C\u002Fspan\u003E)\n        {\n            THEN(\u003Cspan class=\"hljs-string\"\u003E\"should be more than 0\"\u003C\u002Fspan\u003E)\n            {\n                CHECK(uuid.most &gt; \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E);\n                CHECK(uuid.least &gt; \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E);\n            }\n        }\n    }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"admonitionblock tip\"\u003E\n\u003Ctable\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"icon\"\u003E\n\u003Cdiv class=\"title\"\u003ETip\u003C\u002Fdiv\u003E\n\u003C\u002Ftd\u003E\n\u003Ctd class=\"content\"\u003E\nYou can find how to build and test the example project at: \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp#how-to-build-the-example\" class=\"bare\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fuuid-cpp#how-to-build-the-example\u003C\u002Fa\u003E\n\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftable\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E",slug:"choosing-modern-cpp-stack"}}}("","html","Appendix",".","2020","Choosing a Modern C++ stack","My chosen technologies stack for C++ project. It contains an easy to run example defining main project skeleton."))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.75f4e680.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main","/client/client.75f4e680.js")}document.head.appendChild(s)</script> <script async defer> (function (i, s, o, g, r, a, m) {
		i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
			(i[r].q = i[r].q || []).push(arguments)
		}, i[r].l = 1 * new Date(); a = s.createElement(o),
			m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
		})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

		ga('create', 'UA-1328360-10', 'auto');
		ga('send', 'pageview'); </script> 