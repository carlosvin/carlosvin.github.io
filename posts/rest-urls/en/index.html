<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <meta content=sapper name=generator> <meta content=a22af7614c96254d name=yandex-verification> <link href=/icons/icon-192x192.png rel=apple-touch-icon integrity=sha384-wrGPakCw2XdE/oEQRn84jTytG8qKzGn3Eu8nUKzAHeYJ9owQpEUNewZQOj4IoHI3> <base href=/ > <link href=global.css rel=preload integrity=sha384-fiuqT5r+RVuofLff3X+ZyczUdcS2X+eYqZ9ZH11qUKkXpGM97J5Tqv94KeeeZqyo as=style> <link href=global.css rel=stylesheet integrity=sha384-fiuqT5r+RVuofLff3X+ZyczUdcS2X+eYqZ9ZH11qUKkXpGM97J5Tqv94KeeeZqyo> <link href=manifest.json rel=manifest integrity=sha384-uvbABvsfA2LgNgoldfTIad7QYRrMk+jJ53noiFxFxSEdOUxSJQBfr7R8Lud6Dyoo crossorigin=use-credentials> <link href=favicon.png rel=icon integrity=sha384-k8dlcHultdr3I+D1KxjtRCLXRS3o9oW0PMaVQGBP7STX5RLtgO2XLPbDIojwN796 type=image/png> <script> window.ga = window.ga || function () { (ga.q = ga.q || []).push(arguments) }; ga.l = +new Date;
		ga('create', 'UA-1328360-10', 'auto');
		ga('send', 'pageview'); </script> <script async src=https://www.google-analytics.com/analytics.js></script> <title>REST URLs</title><link href=/feeds/en.xml rel=alternate type=application/atom+xml title="Subscribe to Carlos says bla bla"><meta content=2015-08-16 name=date.created><meta content=2015-08-16 name=date.updated><meta content="Design REST API: URLs" name=description><link href=/posts/rest-urls/es rel=alternate hreflang=es><link href=/posts/rest-urls/en.jsonld rel=alternate type=application/ld+json> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,(function(a,b){return {html:"\u003Cdiv id=\"toc\" class=\"toc\"\u003E\n\u003Cdiv id=\"toctitle\"\u003ETable of Contents\u003C\u002Fdiv\u003E\n\u003Cul class=\"sectlevel1\"\u003E\n\u003Cli\u003E\u003Ca href=\"#_rest_basics\"\u003EREST Basics\u003C\u002Fa\u003E\n\u003Cul class=\"sectlevel2\"\u003E\n\u003Cli\u003E\u003Ca href=\"#_rest_verbs\"\u003EREST Verbs\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_accessing_to_resources\"\u003EAccessing to Resources\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_update_resources\"\u003EUpdate resources\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_delete_resources\"\u003EDelete Resources\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_create_resources\"\u003ECreate Resources\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_collections\"\u003ECollections\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_common_mistake\"\u003ECommon mistake\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv id=\"preamble\"\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EFirst time I designed a \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FRepresentational_state_transfer\" target=\"_blank\" rel=\"noopener\"\u003EREST\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FApplication_programming_interface\" target=\"_blank\" rel=\"noopener\"\u003EAPI\u003C\u002Fa\u003E I made several mistakes, of course. Following I&#8217;m going to explain common mistakes and what I&#8217;ve learned about \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FRepresentational_state_transfer\" target=\"_blank\" rel=\"noopener\"\u003EREST\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FUniform_resource_locator\" target=\"_blank\" rel=\"noopener\"\u003EURL\u003C\u002Fa\u003E with examples.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_rest_basics\"\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FRepresentational_state_transfer\" target=\"_blank\" rel=\"noopener\"\u003EREST\u003C\u002Fa\u003E Basics\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"ulist\"\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EUsing \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FUniform_resource_locator\" target=\"_blank\" rel=\"noopener\"\u003EURL\u003C\u002Fa\u003Es for get resources.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EUsing \u003Cem\u003Everbs\u003C\u002Fem\u003E for modify resources.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EThe \u003Cem\u003Everbs\u003C\u002Fem\u003E are provided by the \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FHypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\"\u003EHTTP\u003C\u002Fa\u003E protocol.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EThe \u003Cem\u003Everbs\u003C\u002Fem\u003E have a direct equivalency with \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FCRUD\" target=\"_blank\" rel=\"noopener\"\u003ECRUD\u003C\u002Fa\u003E\u003Csup class=\"footnote\"\u003E[\u003Ca id=\"_footnoteref_1\" class=\"footnote\" href=\"#_footnotedef_1\" title=\"View footnote.\"\u003E1\u003C\u002Fa\u003E]\u003C\u002Fsup\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003ETo access to an existent resource we need an identifier.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_rest_verbs\"\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FRepresentational_state_transfer\" target=\"_blank\" rel=\"noopener\"\u003EREST\u003C\u002Fa\u003E Verbs\u003C\u002Fh3\u003E\n\u003Cdiv class=\"hdlist\"\u003E\n\u003Ctable\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"hdlist1\"\u003E\nPOST\n\u003C\u002Ftd\u003E\n\u003Ctd class=\"hdlist2\"\u003E\n\u003Cp\u003E\u003Cstrong\u003ECreate\u003C\u002Fstrong\u003E new resources.\u003C\u002Fp\u003E\n\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"hdlist1\"\u003E\nGET\n\u003C\u002Ftd\u003E\n\u003Ctd class=\"hdlist2\"\u003E\n\u003Cp\u003E\u003Cstrong\u003ERead\u003C\u002Fstrong\u003E already existing resources.\u003C\u002Fp\u003E\n\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"hdlist1\"\u003E\nPUT\n\u003C\u002Ftd\u003E\n\u003Ctd class=\"hdlist2\"\u003E\n\u003Cp\u003E\u003Cstrong\u003EUpdate\u003C\u002Fstrong\u003E already existing resources.\u003C\u002Fp\u003E\n\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"hdlist1\"\u003E\nDELETE\n\u003C\u002Ftd\u003E\n\u003Ctd class=\"hdlist2\"\u003E\n\u003Cp\u003E\u003Cstrong\u003EDelete\u003C\u002Fstrong\u003E already existing resources.\u003C\u002Fp\u003E\n\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftable\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EIt is clearer in the following table\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Ctable class=\"tableblock frame-all grid-all stretch\"\u003E\n\u003Ccolgroup\u003E\n\u003Ccol style=\"width: 33.3333%;\"\u003E\n\u003Ccol style=\"width: 33.3333%;\"\u003E\n\u003Ccol style=\"width: 33.3334%;\"\u003E\n\u003C\u002Fcolgroup\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth class=\"tableblock halign-left valign-top\"\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FRepresentational_state_transfer\" target=\"_blank\" rel=\"noopener\"\u003EREST\u003C\u002Fa\u003E Verb\u003C\u002Fth\u003E\n\u003Cth class=\"tableblock halign-left valign-top\"\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FCRUD\" target=\"_blank\" rel=\"noopener\"\u003ECRUD\u003C\u002Fa\u003E Action\u003C\u002Fth\u003E\n\u003Cth class=\"tableblock halign-left valign-top\"\u003EResource must exist\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003EPOST\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003ECreate\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003ENo\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003EGET\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003ERead\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003EYes\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003EPUT\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003EUpdate\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003EYes\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003EDELETE\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003EDelete\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003EYes\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_accessing_to_resources\"\u003EAccessing to Resources\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EA resource is \u003Cem\u003Ewhat we want to get\u003C\u002Fem\u003E. For example, a car.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ETo be able to get a car, that information is not enough, you can&#8217;t go to your car dealer and ask for whatever car, you have to specify which one you want:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003E\u003Cem\u003EGood morning. I&#8217;d like to have a Fiat Bravo 1.9 Emotion 120CV\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EIn this manner the sheller knows which one is.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003E\"Fiat Bravo 1.9 Emotion 120CV\" is the \u003Cstrong\u003Eidentifier\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ETransferring the example to \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FRepresentational_state_transfer\" target=\"_blank\" rel=\"noopener\"\u003EREST\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FApplication_programming_interface\" target=\"_blank\" rel=\"noopener\"\u003EAPI\u003C\u002Fa\u003Es:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"literalblock\"\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre\u003EGET   https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Ffiat-bravo-19-emotion-120cv\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ENow our \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FApplication_programming_interface\" target=\"_blank\" rel=\"noopener\"\u003EAPI\u003C\u002Fa\u003E can supply the car info.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EThis is a very simple example, but actually when we access to a specific resource, we have to use something to identify it, a common and recommendable practice is use \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FUniversally_unique_identifier\" target=\"_blank\" rel=\"noopener\"\u003EUUID\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"literalblock\"\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre\u003EGET  https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EBut our \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FApplication_programming_interface\" target=\"_blank\" rel=\"noopener\"\u003EAPI\u003C\u002Fa\u003E, like a shop, it hasn&#8217;t to be so strict. We can ask for cars with several features:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003E\u003Cem\u003EGood morning, I want a Fiat Bravo\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EThen, the dealer kindly will show you all Fiat Bravo he has available. Let&#8217;s see how \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FApplication_programming_interface\" target=\"_blank\" rel=\"noopener\"\u003EAPI\u003C\u002Fa\u003E says that.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"literalblock\"\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre\u003EGET  https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002F?brand=fiat&amp;model=bravo\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FApplication_programming_interface\" target=\"_blank\" rel=\"noopener\"\u003EAPI\u003C\u002Fa\u003E will return all cars with Fiat brand and Bravo model.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EBrand and model are so called \u003Cstrong\u003Equery parameters\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EAs you might already notice, to get resource information, we have always used \u003Cstrong\u003EGET\u003C\u002Fstrong\u003E \u003Cem\u003Everb\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_update_resources\"\u003EUpdate resources\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EThe \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FApplication_programming_interface\" target=\"_blank\" rel=\"noopener\"\u003EAPI\u003C\u002Fa\u003E should also support updating resources. Like reading resources, to update a resource we have to specify which resource we want to update, so we again need an \u003Cem\u003Eidentifier\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EBefore, we wanted to get information (read) and we used \u003Cstrong\u003EGET\u003C\u002Fstrong\u003E \u003Cem\u003Everb\u003C\u002Fem\u003E. Now the only difference is the verb.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EWe want to \u003Cstrong\u003Eupdate\u003C\u002Fstrong\u003E so we use the equivalency \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FHypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\"\u003EHTTP\u003C\u002Fa\u003E verb: \u003Cstrong\u003EPUT\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"literalblock\"\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre\u003EPUT   https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EActually something else is missing, we have to say what thing of the car we want to change, for example, let&#8217;s imagine we want to change the engine power and set it to 100CV.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EWe have to send the new engine power to following \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FUniform_resource_locator\" target=\"_blank\" rel=\"noopener\"\u003EURL\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\" class=\"bare\"\u003Ehttps:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\u003C\u002Fa\u003E through \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FHypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\"\u003EHTTP\u003C\u002Fa\u003E using \u003Cstrong\u003EPUT\u003C\u002Fstrong\u003E verb.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FHypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\"\u003EHTTP\u003C\u002Fa\u003E protocol allows sending data within PUT message, we have to choose a sending format.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EWe can use \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FJSON\" target=\"_blank\" rel=\"noopener\"\u003EJSON\u003C\u002Fa\u003E or \u003Ca href=\"\"\u003EXML\u003C\u002Fa\u003E or whatever, we only have to ensure that sent format is expected in server side.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"admonitionblock note\"\u003E\n\u003Ctable\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"icon\"\u003E\n\u003Cdiv class=\"title\"\u003ENote\u003C\u002Fdiv\u003E\n\u003C\u002Ftd\u003E\n\u003Ctd class=\"content\"\u003E\nDesigning a \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FRepresentational_state_transfer\" target=\"_blank\" rel=\"noopener\"\u003EREST\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FApplication_programming_interface\" target=\"_blank\" rel=\"noopener\"\u003EAPI\u003C\u002Fa\u003E requires to select a data format.\n\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftable\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FJSON\" target=\"_blank\" rel=\"noopener\"\u003EJSON\u003C\u002Fa\u003E example\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-json\" data-lang=\"json\"\u003E{ enginePower: \u003Cspan class=\"hljs-number\"\u003E100\u003C\u002Fspan\u003E }\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_delete_resources\"\u003EDelete Resources\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ELet&#8217;s imagine that now we are the car dealer and we don&#8217;t want to shell the Fiat Bravo Emotion 1.9CV anymore (the cce05bee-386b-11e5-a151-feff819cdc9f). We&#8217;ll keep the \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FUniform_resource_locator\" target=\"_blank\" rel=\"noopener\"\u003EURL\u003C\u002Fa\u003E that identifies the resource, but we change the verb: we don&#8217;t want to read (GET), we don&#8217;t want to update (PUT), we want to \u003Cstrong\u003Eto delete (DELETE)\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"literalblock\"\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre\u003EDELETE   https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EWe don&#8217;t have to supply any additional info, only de verb (DELETE) and the resource identifier.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_create_resources\"\u003ECreate Resources\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EAnd the last verb is \u003Cstrong\u003Eto create (POST)\u003C\u002Fstrong\u003E. In this case we don&#8217;t have to identify the resource, because it still doesn&#8217;t exist.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"literalblock\"\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre\u003EPOST   https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002F\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EBut we have to send the data to create the resource.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EFollowing with the example, let&#8217;s create a new car, so we include the necessary data within POST \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FHypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\"\u003EHTTP\u003C\u002Fa\u003E message, it is something similar what we did at section \u003Ca href=\"#_update_resources\"\u003EUpdate resources\u003C\u002Fa\u003E, but we are going to send \u003Cstrong\u003Eall required data\u003C\u002Fstrong\u003E, not only the engine power.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FJSON\" target=\"_blank\" rel=\"noopener\"\u003EJSON\u003C\u002Fa\u003E example\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-json\" data-lang=\"json\"\u003E{\n\u003Cspan class=\"hljs-attr\"\u003E\"brand\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"Fiat\"\u003C\u002Fspan\u003E,\n\u003Cspan class=\"hljs-attr\"\u003E\"model\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"Bravo\"\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-string\"\u003E\"year\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2010\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-string\"\u003E\"doors\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E,\n\u003Cspan class=\"hljs-attr\"\u003E\"enginePower\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E120\u003C\u002Fspan\u003E,\n\u003Cspan class=\"hljs-attr\"\u003E\"version\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"Emotion\"\u003C\u002Fspan\u003E,\n\u003Cspan class=\"hljs-attr\"\u003E\"clima\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E,\n\u003Cspan class=\"hljs-attr\"\u003E\"ac\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E,\n\u003Cspan class=\"hljs-attr\"\u003E\"fuel\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"Diesel\"\u003C\u002Fspan\u003E\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EWe can delegate on the system to assign a new \u003Cstrong\u003Eidentifier\u003C\u002Fstrong\u003E, or simply send it within the message:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-json\" data-lang=\"json\"\u003E{\n  \u003Cspan class=\"hljs-attr\"\u003E\"identifier\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"cce05bee-386b-11e5-a151-feff819cdc9f\"\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-string\"\u003E\"brand\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"Fiat\"\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003E\"model\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"Bravo\"\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-string\"\u003E\"year\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E2010\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-string\"\u003E\"doors\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E5\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003E\"enginePower\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E120\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003E\"version\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"Emotion\"\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003E\"clima\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003E\"ac\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003E\"fuel\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"Diesel\"\u003C\u002Fspan\u003E\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect2\"\u003E\n\u003Ch3 id=\"_collections\"\u003ECollections\u003C\u002Fh3\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EAll actions we have already explained were actually applied over a cars collection.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EBut, what happen if a resource has a nested collection?\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EContinuing with cars example, a car can use a set of engine oils. So the \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FApplication_programming_interface\" target=\"_blank\" rel=\"noopener\"\u003EAPI\u003C\u002Fa\u003E must allow update, delete or create elements in the set.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"admonitionblock note\"\u003E\n\u003Ctable\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"icon\"\u003E\n\u003Cdiv class=\"title\"\u003ENote\u003C\u002Fdiv\u003E\n\u003C\u002Ftd\u003E\n\u003Ctd class=\"content\"\u003E\nFor the example we will assume that \u003Cem\u003Ethe oil identifier\u003C\u002Fem\u003E is the attribute \u003Cem\u003Etype\u003C\u002Fem\u003E.\n\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftable\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect3\"\u003E\n\u003Ch4 id=\"_add_an_element_to_collection\"\u003EAdd an element to collection\u003C\u002Fh4\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EWhen we add a car to cars collection, what we do is create a new car, so it is the case of \u003Ca href=\"#_create_resources\"\u003ECreate Resources\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ETo add a new engine oil to the car cce05bee-386b-11e5-a151-feff819cdc9f, that already exists:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003ERequest\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-http\" data-lang=\"http\"\u003E\u003Cspan class=\"hljs-attribute\"\u003EPOST   https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\u002Foils\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003EResponse\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-json\" data-lang=\"json\"\u003E{\n  \u003Cspan class=\"hljs-attr\"\u003E\"type\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"5W30\"\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003E\"otherInfo\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"This is the best oil for this car\"\u003C\u002Fspan\u003E\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EIf we want to add another one:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003ERequest\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-http\" data-lang=\"http\"\u003E\u003Cspan class=\"hljs-attribute\"\u003EPOST   https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\u002Foils\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003EResponse\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-json\" data-lang=\"json\"\u003E{\n  \u003Cspan class=\"hljs-attr\"\u003E\"type\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"10W30\"\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003E\"otherInfo\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"This is very good for cold weather\"\u003C\u002Fspan\u003E\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect3\"\u003E\n\u003Ch4 id=\"_update_a_collection_item\"\u003EUpdate a collection item\u003C\u002Fh4\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EIf we want to update the info of oil \u003Cem\u003E5W30\u003C\u002Fem\u003E of car \u003Cem\u003Ecce05bee-386b-11e5-a151-feff819cdc9f\u003C\u002Fem\u003E:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003ERequest\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-http\" data-lang=\"http\"\u003E\u003Cspan class=\"hljs-attribute\"\u003EPUT   https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\u002Foils\u002F5W30\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003EResponse\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-json\" data-lang=\"json\"\u003E{\n  \u003Cspan class=\"hljs-attr\"\u003E\"type\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"5W30\"\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003E\"otherInfo\"\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"This is no longer the best oil for this car\"\u003C\u002Fspan\u003E\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect3\"\u003E\n\u003Ch4 id=\"_delete_a_collection_item\"\u003EDelete a collection item\u003C\u002Fh4\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ETo delete an oil \u003Cem\u003E10W30\u003C\u002Fem\u003E from car \u003Cem\u003Ecce05bee-386b-11e5-a151-feff819cdc9f\u003C\u002Fem\u003E:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003ERequest\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-http\" data-lang=\"http\"\u003E\u003Cspan class=\"hljs-attribute\"\u003EDELETE   https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\u002Foils\u002F10W30\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect3\"\u003E\n\u003Ch4 id=\"_read_a_collection_item\"\u003ERead a collection item\u003C\u002Fh4\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003ETo get the oil info \u003Cem\u003E10W30\u003C\u002Fem\u003E of the car \u003Cem\u003Ecce05bee-386b-11e5-a151-feff819cdc9f\u003C\u002Fem\u003E:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003ERequest\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-http\" data-lang=\"http\"\u003E\u003Cspan class=\"hljs-attribute\"\u003EGET   https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\u002Foils\u002F10W30\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect3\"\u003E\n\u003Ch4 id=\"_list_collection_items\"\u003EList collection items\u003C\u002Fh4\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EAs we have seen at \u003Ca href=\"#_read_a_collection_item\"\u003ERead a collection item\u003C\u002Fa\u003E, we can get the info of every collection element, but we also can get multiple collection elements, sorted, paged and apply typical collection actions.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EWe can get all supported oils for a car \u003Cem\u003Ecce05bee-386b-11e5-a151-feff819cdc9f\u003C\u002Fem\u003E, it is as simple as:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003ERequest\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-http\" data-lang=\"http\"\u003E\u003Cspan class=\"hljs-attribute\"\u003EGET   https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\u002Foils\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EWe can also get sorted items:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003ERequest\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-http\" data-lang=\"http\"\u003E\u003Cspan class=\"hljs-attribute\"\u003EGET   https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\u002Foils\u002F?sort_by=type&amp;order=asc\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EWe can ask \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FApplication_programming_interface\" target=\"_blank\" rel=\"noopener\"\u003EAPI\u003C\u002Fa\u003E to return the first 10 oils for car \u003Cem\u003Ecce05bee-386b-11e5-a151-feff819cdc9f\u003C\u002Fem\u003E:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003ERequest\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-http\" data-lang=\"http\"\u003E\u003Cspan class=\"hljs-attribute\"\u003EGET   https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\u002Foils\u002F?number_of_elements=10\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FApplication_programming_interface\" target=\"_blank\" rel=\"noopener\"\u003EAPI\u003C\u002Fa\u003E can support also pagination:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003ERequest\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-http\" data-lang=\"http\"\u003E\u003Cspan class=\"hljs-attribute\"\u003EGET   https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\u002Foils\u002F?page=3&amp;number_of_elements=2\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EAbove request is telling \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FApplication_programming_interface\" target=\"_blank\" rel=\"noopener\"\u003EAPI\u003C\u002Fa\u003E that returns the page 3 of all oils of car \u003Cem\u003Ecce05bee-386b-11e5-a151-feff819cdc9f\u003C\u002Fem\u003E and it has to shown 2 oils per page. If we want to go to next page:\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003ERequest\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-http\" data-lang=\"http\"\u003E\u003Cspan class=\"hljs-attribute\"\u003EGET   https:\u002F\u002Fcardealer.com\u002Fapi\u002Fcars\u002Fcce05bee-386b-11e5-a151-feff819cdc9f\u002Foils\u002F?page=4&amp;number_of_elements=2\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EAll those features are supported by \u003Cstrong\u003Equery parameters\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_common_mistake\"\u003ECommon mistake\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EFirst time I tried to design a \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FApplication_programming_interface\" target=\"_blank\" rel=\"noopener\"\u003EAPI\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FRepresentational_state_transfer\" target=\"_blank\" rel=\"noopener\"\u003EREST\u003C\u002Fa\u003E I designed an \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FApplication_programming_interface\" target=\"_blank\" rel=\"noopener\"\u003EAPI\u003C\u002Fa\u003E, but \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FRepresentational_state_transfer\" target=\"_blank\" rel=\"noopener\"\u003EREST\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003EMy main mistake was the \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FUniform_resource_locator\" target=\"_blank\" rel=\"noopener\"\u003EURL\u003C\u002Fa\u003Es design, I added my own \u003Cem\u003Everbs\u003C\u002Fem\u003E skipping \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FHypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\"\u003EHTTP\u003C\u002Fa\u003E \u003Cem\u003Everbs\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003EWrong\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-http\" data-lang=\"http\"\u003E\u003Cspan class=\"hljs-attribute\"\u003EPOST    https:\u002F\u002Fexample.com\u002Fapi\u002Fcars\u002Fford-focus\u002Fdelete-oil\u002F5W30\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003EThe correct way\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cpre tabindex=\"0\" class=\"highlight\"\u003E\u003Ccode class=\"language-http\" data-lang=\"http\"\u003E\u003Cspan class=\"hljs-attribute\"\u003EDELETE  https:\u002F\u002Fexample.com\u002Fapi\u002Fcars\u002Fford-focus\u002Foils\u002F5W30\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv id=\"footnotes\"\u003E\n\u003Chr\u003E\n\u003Cdiv class=\"footnote\" id=\"_footnotedef_1\"\u003E\n\u003Ca href=\"#_footnoteref_1\"\u003E1\u003C\u002Fa\u003E. Create, Read, Update, Delete\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E",post:{title:"REST URLs",lang:"en",summary:"Design REST API: URLs",slug:"rest-urls",keywords:["REST","API","Web Services"],filename:"rest-urls.en.adoc",modified:a,created:a,author:"Carlos Martin Sanchez",previewimage:"icons\u002Ficon-192x192.png",otherLangs:["es"],path:b,url:"https:\u002F\u002Fcarlosvin.github.io\u002Fposts\u002Frest-urls\u002Fen"},postPath:b}}(1439726400000,"\u002Fposts\u002Frest-urls\u002Fen"))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.e893ff6a.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main","/client/client.e893ff6a.js")}document.head.appendChild(s)</script> <link href=client/client-518dbade.css rel=stylesheet><link href=client/Details-78b1caad.css rel=stylesheet><link href=client/[...slug]-b7ff5a61.css rel=stylesheet> <link href=/client/client-518dbade.css rel=preload as=style><link href=/client/Details-78b1caad.css rel=preload as=style><link href=/client/[...slug]-b7ff5a61.css rel=preload as=style></head> <body> <div id=sapper> <nav class=svelte-1hjvhrx><ul class=svelte-1hjvhrx><li class=svelte-1y8uoef><a href=/ rel=prefetch class=svelte-1y8uoef><img alt="Carlos says bla bla logo" class="svelte-1hjvhrx logo" src=/favicon.png></a></ul> <ul class="svelte-1hjvhrx closed"><li class=svelte-1y8uoef><a href=/ rel=prefetch class=svelte-1y8uoef><span class="svelte-1hjvhrx siteName">Carlos says bla bla</span></a></li> <li class=svelte-1y8uoef><a href=/categories rel=prefetch class=svelte-1y8uoef>Categories</a></li> <li class=svelte-1y8uoef><a href=/about rel=prefetch class=svelte-1y8uoef>About</a></ul> <div class="h svelte-1w8skyw"><a href=/feeds rel=noopener target=_blank aria-label="Subscribe to Carlos says bla bla" class="icon svelte-1lu397 rss" title="Subscribe to Carlos says bla bla"></a> <a href=https://github.com/carlosvin rel=noopener target=_blank aria-label="Find me at github" class="icon svelte-1lu397 github" title="Find me at github"></a> <a href=https://twitter.com/carlosvin rel=noopener target=_blank aria-label="Find me at twitter" class="icon svelte-1lu397 twitter" title="Find me at twitter"></a> <a href=https://stackoverflow.com/story/carlosvin rel=noopener target=_blank aria-label="Find me at stackoverflow" class="icon svelte-1lu397 stackoverflow" title="Find me at stackoverflow"></a></div> <button class=svelte-1hjvhrx type=button>≡</button></nav> <main class=svelte-bvcji9> <header class=svelte-5fppzy><h1 class=svelte-5fppzy>REST URLs <span class="svelte-5fppzy share"><a href="https://twitter.com/intent/tweet?url=https://carlosvin.github.io/posts/rest-urls/en&text=REST URLs:&amp;nbsp;Design REST API: URLs&hashtags=REST,API,Web Services" rel=noopener target=_blank aria-label='Share "REST URLs"' class="icon svelte-1lu397 twitter" title='Share "REST URLs"'></a></span></h1> <p class="svelte-5fppzy summary">Design REST API: URLs</p> <div class="subtitle svelte-16mbbpz"><span class=date>16/08/2015</span> <span class="summary langs">Available in <span class="lang svelte-k3ijyt"><a href=/posts/rest-urls/es rel=alternate hreflang=es>es</a> </span></span> <span class="svelte-9pgfi9 tags"><a href=/categories/rest class=svelte-1ci4az4 title=REST><span class="hover svelte-askwsu">REST</span></a><a href=/categories/api class=svelte-1ci4az4 title=API><span class="hover svelte-askwsu">API</span></a><a href=/categories/web-services class=svelte-1ci4az4 title="Web Services"><span class="hover svelte-askwsu">Web Services</span></a></span></div></header> <div class="content svelte-101opq9"><div class=toc id=toc> <div id=toctitle>Table of Contents</div> <ul class=sectlevel1> <li><a href=#_rest_basics>REST Basics</a> <ul class=sectlevel2> <li><a href=#_rest_verbs>REST Verbs</a></li> <li><a href=#_accessing_to_resources>Accessing to Resources</a></li> <li><a href=#_update_resources>Update resources</a></li> <li><a href=#_delete_resources>Delete Resources</a></li> <li><a href=#_create_resources>Create Resources</a></li> <li><a href=#_collections>Collections</a></li> </ul> </li> <li><a href=#_common_mistake>Common mistake</a></li> </ul> </div> <div id=preamble> <div class=sectionbody> <div class=paragraph> <p>First time I designed a <a href=https://en.wikipedia.org/wiki/Representational_state_transfer rel=noopener target=_blank>REST</a> <a href=https://en.wikipedia.org/wiki/Application_programming_interface rel=noopener target=_blank>API</a> I made several mistakes, of course. Following I’m going to explain common mistakes and what I’ve learned about <a href=https://en.wikipedia.org/wiki/Representational_state_transfer rel=noopener target=_blank>REST</a> <a href=https://en.wikipedia.org/wiki/Uniform_resource_locator rel=noopener target=_blank>URL</a> with examples.</p> </div> </div> </div> <div class=sect1> <h2 id=_rest_basics><a href=https://en.wikipedia.org/wiki/Representational_state_transfer rel=noopener target=_blank>REST</a> Basics</h2> <div class=sectionbody> <div class=ulist> <ul> <li> <p>Using <a href=https://en.wikipedia.org/wiki/Uniform_resource_locator rel=noopener target=_blank>URL</a>s for get resources.</p> </li> <li> <p>Using <em>verbs</em> for modify resources.</p> </li> <li> <p>The <em>verbs</em> are provided by the <a href=https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol rel=noopener target=_blank>HTTP</a> protocol.</p> </li> <li> <p>The <em>verbs</em> have a direct equivalency with <a href=https://en.wikipedia.org/wiki/CRUD rel=noopener target=_blank>CRUD</a><sup class=footnote>[<a href=#_footnotedef_1 class=footnote title="View footnote." id=_footnoteref_1>1</a>]</sup>.</p> </li> <li> <p>To access to an existent resource we need an identifier.</p> </li> </ul> </div> <div class=sect2> <h3 id=_rest_verbs><a href=https://en.wikipedia.org/wiki/Representational_state_transfer rel=noopener target=_blank>REST</a> Verbs</h3> <div class=hdlist> <table> <tr> <td class=hdlist1> POST </td> <td class=hdlist2> <p><strong>Create</strong> new resources.</p> </td> </tr> <tr> <td class=hdlist1> GET </td> <td class=hdlist2> <p><strong>Read</strong> already existing resources.</p> </td> </tr> <tr> <td class=hdlist1> PUT </td> <td class=hdlist2> <p><strong>Update</strong> already existing resources.</p> </td> </tr> <tr> <td class=hdlist1> DELETE </td> <td class=hdlist2> <p><strong>Delete</strong> already existing resources.</p> </td> </tr> </table> </div> <div class=paragraph> <p>It is clearer in the following table</p> </div> <table class="tableblock frame-all grid-all stretch"> <colgroup> <col style=width:33.3333%> <col style=width:33.3333%> <col style=width:33.3334%> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top"><a href=https://en.wikipedia.org/wiki/Representational_state_transfer rel=noopener target=_blank>REST</a> Verb</th> <th class="tableblock halign-left valign-top"><a href=https://en.wikipedia.org/wiki/CRUD rel=noopener target=_blank>CRUD</a> Action</th> <th class="tableblock halign-left valign-top">Resource must exist</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>POST</td> <td class="tableblock halign-left valign-top"><p class=tableblock>Create</td> <td class="tableblock halign-left valign-top"><p class=tableblock>No</td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>GET</td> <td class="tableblock halign-left valign-top"><p class=tableblock>Read</td> <td class="tableblock halign-left valign-top"><p class=tableblock>Yes</td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>PUT</td> <td class="tableblock halign-left valign-top"><p class=tableblock>Update</td> <td class="tableblock halign-left valign-top"><p class=tableblock>Yes</td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class=tableblock>DELETE</td> <td class="tableblock halign-left valign-top"><p class=tableblock>Delete</td> <td class="tableblock halign-left valign-top"><p class=tableblock>Yes</td> </tr> </tbody> </table> </div> <div class=sect2> <h3 id=_accessing_to_resources>Accessing to Resources</h3> <div class=paragraph> <p>A resource is <em>what we want to get</em>. For example, a car.</p> </div> <div class=paragraph> <p>To be able to get a car, that information is not enough, you can’t go to your car dealer and ask for whatever car, you have to specify which one you want:</p> </div> <div class=paragraph> <p><em>Good morning. I’d like to have a Fiat Bravo 1.9 Emotion 120CV</em>.</p> </div> <div class=paragraph> <p>In this manner the sheller knows which one is.</p> </div> <div class=paragraph> <p>"Fiat Bravo 1.9 Emotion 120CV" is the <strong>identifier</strong>.</p> </div> <div class=paragraph> <p>Transferring the example to <a href=https://en.wikipedia.org/wiki/Representational_state_transfer rel=noopener target=_blank>REST</a> <a href=https://en.wikipedia.org/wiki/Application_programming_interface rel=noopener target=_blank>API</a>s:</p> </div> <div class=literalblock> <div class=content> <pre>GET   https://cardealer.com/api/cars/fiat-bravo-19-emotion-120cv</pre> </div> </div> <div class=paragraph> <p>Now our <a href=https://en.wikipedia.org/wiki/Application_programming_interface rel=noopener target=_blank>API</a> can supply the car info.</p> </div> <div class=paragraph> <p>This is a very simple example, but actually when we access to a specific resource, we have to use something to identify it, a common and recommendable practice is use <a href=https://en.wikipedia.org/wiki/Universally_unique_identifier rel=noopener target=_blank>UUID</a>.</p> </div> <div class=literalblock> <div class=content> <pre>GET  https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f</pre> </div> </div> <div class=paragraph> <p>But our <a href=https://en.wikipedia.org/wiki/Application_programming_interface rel=noopener target=_blank>API</a>, like a shop, it hasn’t to be so strict. We can ask for cars with several features:</p> </div> <div class=paragraph> <p><em>Good morning, I want a Fiat Bravo</em>.</p> </div> <div class=paragraph> <p>Then, the dealer kindly will show you all Fiat Bravo he has available. Let’s see how <a href=https://en.wikipedia.org/wiki/Application_programming_interface rel=noopener target=_blank>API</a> says that.</p> </div> <div class=literalblock> <div class=content> <pre>GET  https://cardealer.com/api/cars/?brand=fiat&model=bravo</pre> </div> </div> <div class=paragraph> <p><a href=https://en.wikipedia.org/wiki/Application_programming_interface rel=noopener target=_blank>API</a> will return all cars with Fiat brand and Bravo model.</p> </div> <div class=paragraph> <p>Brand and model are so called <strong>query parameters</strong>.</p> </div> <div class=paragraph> <p>As you might already notice, to get resource information, we have always used <strong>GET</strong> <em>verb</em></p> </div> </div> <div class=sect2> <h3 id=_update_resources>Update resources</h3> <div class=paragraph> <p>The <a href=https://en.wikipedia.org/wiki/Application_programming_interface rel=noopener target=_blank>API</a> should also support updating resources. Like reading resources, to update a resource we have to specify which resource we want to update, so we again need an <em>identifier</em>.</p> </div> <div class=paragraph> <p>Before, we wanted to get information (read) and we used <strong>GET</strong> <em>verb</em>. Now the only difference is the verb.</p> </div> <div class=paragraph> <p>We want to <strong>update</strong> so we use the equivalency <a href=https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol rel=noopener target=_blank>HTTP</a> verb: <strong>PUT</strong>.</p> </div> <div class=literalblock> <div class=content> <pre>PUT   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f</pre> </div> </div> <div class=paragraph> <p>Actually something else is missing, we have to say what thing of the car we want to change, for example, let’s imagine we want to change the engine power and set it to 100CV.</p> </div> <div class=paragraph> <p>We have to send the new engine power to following <a href=https://en.wikipedia.org/wiki/Uniform_resource_locator rel=noopener target=_blank>URL</a> <a href=https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f class=bare>https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f</a> through <a href=https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol rel=noopener target=_blank>HTTP</a> using <strong>PUT</strong> verb.</p> </div> <div class=paragraph> <p><a href=https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol rel=noopener target=_blank>HTTP</a> protocol allows sending data within PUT message, we have to choose a sending format.</p> </div> <div class=paragraph> <p>We can use <a href=https://en.wikipedia.org/wiki/JSON rel=noopener target=_blank>JSON</a> or <a href="">XML</a> or whatever, we only have to ensure that sent format is expected in server side.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class=icon> <div class=title>Note</div> </td> <td class=content> Designing a <a href=https://en.wikipedia.org/wiki/Representational_state_transfer rel=noopener target=_blank>REST</a> <a href=https://en.wikipedia.org/wiki/Application_programming_interface rel=noopener target=_blank>API</a> requires to select a data format. </td> </tr> </table> </div> <div class=listingblock> <div class=title><a href=https://en.wikipedia.org/wiki/JSON rel=noopener target=_blank>JSON</a> example</div> <div class=content> <pre class=highlight tabindex=0><code class=language-json data-lang=json>{ enginePower: <span class=hljs-number>100</span> }</code></pre> </div> </div> </div> <div class=sect2> <h3 id=_delete_resources>Delete Resources</h3> <div class=paragraph> <p>Let’s imagine that now we are the car dealer and we don’t want to shell the Fiat Bravo Emotion 1.9CV anymore (the cce05bee-386b-11e5-a151-feff819cdc9f). We’ll keep the <a href=https://en.wikipedia.org/wiki/Uniform_resource_locator rel=noopener target=_blank>URL</a> that identifies the resource, but we change the verb: we don’t want to read (GET), we don’t want to update (PUT), we want to <strong>to delete (DELETE)</strong>.</p> </div> <div class=literalblock> <div class=content> <pre>DELETE   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f</pre> </div> </div> <div class=paragraph> <p>We don’t have to supply any additional info, only de verb (DELETE) and the resource identifier.</p> </div> </div> <div class=sect2> <h3 id=_create_resources>Create Resources</h3> <div class=paragraph> <p>And the last verb is <strong>to create (POST)</strong>. In this case we don’t have to identify the resource, because it still doesn’t exist.</p> </div> <div class=literalblock> <div class=content> <pre>POST   https://cardealer.com/api/cars/</pre> </div> </div> <div class=paragraph> <p>But we have to send the data to create the resource.</p> </div> <div class=paragraph> <p>Following with the example, let’s create a new car, so we include the necessary data within POST <a href=https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol rel=noopener target=_blank>HTTP</a> message, it is something similar what we did at section <a href=#_update_resources>Update resources</a>, but we are going to send <strong>all required data</strong>, not only the engine power.</p> </div> <div class=listingblock> <div class=title><a href=https://en.wikipedia.org/wiki/JSON rel=noopener target=_blank>JSON</a> example</div> <div class=content> <pre class=highlight tabindex=0><code class=language-json data-lang=json>{
<span class=hljs-attr>"brand"</span>: <span class=hljs-string>"Fiat"</span>,
<span class=hljs-attr>"model"</span>: <span class=hljs-string>"Bravo"</span>
<span class=hljs-string>"year"</span>: <span class=hljs-number>2010</span>
<span class=hljs-string>"doors"</span>: <span class=hljs-number>5</span>,
<span class=hljs-attr>"enginePower"</span>: <span class=hljs-number>120</span>,
<span class=hljs-attr>"version"</span>: <span class=hljs-string>"Emotion"</span>,
<span class=hljs-attr>"clima"</span>: <span class=hljs-literal>true</span>,
<span class=hljs-attr>"ac"</span>: <span class=hljs-literal>false</span>,
<span class=hljs-attr>"fuel"</span>: <span class=hljs-string>"Diesel"</span>
}</code></pre> </div> </div> <div class=paragraph> <p>We can delegate on the system to assign a new <strong>identifier</strong>, or simply send it within the message:</p> </div> <div class=listingblock> <div class=content> <pre class=highlight tabindex=0><code class=language-json data-lang=json>{
  <span class=hljs-attr>"identifier"</span>: <span class=hljs-string>"cce05bee-386b-11e5-a151-feff819cdc9f"</span>
  <span class=hljs-string>"brand"</span>: <span class=hljs-string>"Fiat"</span>,
  <span class=hljs-attr>"model"</span>: <span class=hljs-string>"Bravo"</span>
  <span class=hljs-string>"year"</span>: <span class=hljs-number>2010</span>
  <span class=hljs-string>"doors"</span>: <span class=hljs-number>5</span>,
  <span class=hljs-attr>"enginePower"</span>: <span class=hljs-number>120</span>,
  <span class=hljs-attr>"version"</span>: <span class=hljs-string>"Emotion"</span>,
  <span class=hljs-attr>"clima"</span>: <span class=hljs-literal>true</span>,
  <span class=hljs-attr>"ac"</span>: <span class=hljs-literal>false</span>,
  <span class=hljs-attr>"fuel"</span>: <span class=hljs-string>"Diesel"</span>
}</code></pre> </div> </div> </div> <div class=sect2> <h3 id=_collections>Collections</h3> <div class=paragraph> <p>All actions we have already explained were actually applied over a cars collection.</p> </div> <div class=paragraph> <p>But, what happen if a resource has a nested collection?</p> </div> <div class=paragraph> <p>Continuing with cars example, a car can use a set of engine oils. So the <a href=https://en.wikipedia.org/wiki/Application_programming_interface rel=noopener target=_blank>API</a> must allow update, delete or create elements in the set.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class=icon> <div class=title>Note</div> </td> <td class=content> For the example we will assume that <em>the oil identifier</em> is the attribute <em>type</em>. </td> </tr> </table> </div> <div class=sect3> <h4 id=_add_an_element_to_collection>Add an element to collection</h4> <div class=paragraph> <p>When we add a car to cars collection, what we do is create a new car, so it is the case of <a href=#_create_resources>Create Resources</a>.</p> </div> <div class=paragraph> <p>To add a new engine oil to the car cce05bee-386b-11e5-a151-feff819cdc9f, that already exists:</p> </div> <div class=listingblock> <div class=title>Request</div> <div class=content> <pre class=highlight tabindex=0><code class=language-http data-lang=http><span class=hljs-attribute>POST   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/</span></code></pre> </div> </div> <div class=listingblock> <div class=title>Response</div> <div class=content> <pre class=highlight tabindex=0><code class=language-json data-lang=json>{
  <span class=hljs-attr>"type"</span>: <span class=hljs-string>"5W30"</span>,
  <span class=hljs-attr>"otherInfo"</span>: <span class=hljs-string>"This is the best oil for this car"</span>
}</code></pre> </div> </div> <div class=paragraph> <p>If we want to add another one:</p> </div> <div class=listingblock> <div class=title>Request</div> <div class=content> <pre class=highlight tabindex=0><code class=language-http data-lang=http><span class=hljs-attribute>POST   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/</span></code></pre> </div> </div> <div class=listingblock> <div class=title>Response</div> <div class=content> <pre class=highlight tabindex=0><code class=language-json data-lang=json>{
  <span class=hljs-attr>"type"</span>: <span class=hljs-string>"10W30"</span>,
  <span class=hljs-attr>"otherInfo"</span>: <span class=hljs-string>"This is very good for cold weather"</span>
}</code></pre> </div> </div> </div> <div class=sect3> <h4 id=_update_a_collection_item>Update a collection item</h4> <div class=paragraph> <p>If we want to update the info of oil <em>5W30</em> of car <em>cce05bee-386b-11e5-a151-feff819cdc9f</em>:</p> </div> <div class=listingblock> <div class=title>Request</div> <div class=content> <pre class=highlight tabindex=0><code class=language-http data-lang=http><span class=hljs-attribute>PUT   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/5W30/</span></code></pre> </div> </div> <div class=listingblock> <div class=title>Response</div> <div class=content> <pre class=highlight tabindex=0><code class=language-json data-lang=json>{
  <span class=hljs-attr>"type"</span>: <span class=hljs-string>"5W30"</span>,
  <span class=hljs-attr>"otherInfo"</span>: <span class=hljs-string>"This is no longer the best oil for this car"</span>
}</code></pre> </div> </div> </div> <div class=sect3> <h4 id=_delete_a_collection_item>Delete a collection item</h4> <div class=paragraph> <p>To delete an oil <em>10W30</em> from car <em>cce05bee-386b-11e5-a151-feff819cdc9f</em>:</p> </div> <div class=listingblock> <div class=title>Request</div> <div class=content> <pre class=highlight tabindex=0><code class=language-http data-lang=http><span class=hljs-attribute>DELETE   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/10W30</span></code></pre> </div> </div> </div> <div class=sect3> <h4 id=_read_a_collection_item>Read a collection item</h4> <div class=paragraph> <p>To get the oil info <em>10W30</em> of the car <em>cce05bee-386b-11e5-a151-feff819cdc9f</em>:</p> </div> <div class=listingblock> <div class=title>Request</div> <div class=content> <pre class=highlight tabindex=0><code class=language-http data-lang=http><span class=hljs-attribute>GET   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/10W30</span></code></pre> </div> </div> </div> <div class=sect3> <h4 id=_list_collection_items>List collection items</h4> <div class=paragraph> <p>As we have seen at <a href=#_read_a_collection_item>Read a collection item</a>, we can get the info of every collection element, but we also can get multiple collection elements, sorted, paged and apply typical collection actions.</p> </div> <div class=paragraph> <p>We can get all supported oils for a car <em>cce05bee-386b-11e5-a151-feff819cdc9f</em>, it is as simple as:</p> </div> <div class=listingblock> <div class=title>Request</div> <div class=content> <pre class=highlight tabindex=0><code class=language-http data-lang=http><span class=hljs-attribute>GET   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/</span></code></pre> </div> </div> <div class=paragraph> <p>We can also get sorted items:</p> </div> <div class=listingblock> <div class=title>Request</div> <div class=content> <pre class=highlight tabindex=0><code class=language-http data-lang=http><span class=hljs-attribute>GET   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/?sort_by=type&order=asc</span></code></pre> </div> </div> <div class=paragraph> <p>We can ask <a href=https://en.wikipedia.org/wiki/Application_programming_interface rel=noopener target=_blank>API</a> to return the first 10 oils for car <em>cce05bee-386b-11e5-a151-feff819cdc9f</em>:</p> </div> <div class=listingblock> <div class=title>Request</div> <div class=content> <pre class=highlight tabindex=0><code class=language-http data-lang=http><span class=hljs-attribute>GET   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/?number_of_elements=10</span></code></pre> </div> </div> <div class=paragraph> <p><a href=https://en.wikipedia.org/wiki/Application_programming_interface rel=noopener target=_blank>API</a> can support also pagination:</p> </div> <div class=listingblock> <div class=title>Request</div> <div class=content> <pre class=highlight tabindex=0><code class=language-http data-lang=http><span class=hljs-attribute>GET   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/?page=3&number_of_elements=2</span></code></pre> </div> </div> <div class=paragraph> <p>Above request is telling <a href=https://en.wikipedia.org/wiki/Application_programming_interface rel=noopener target=_blank>API</a> that returns the page 3 of all oils of car <em>cce05bee-386b-11e5-a151-feff819cdc9f</em> and it has to shown 2 oils per page. If we want to go to next page:</p> </div> <div class=listingblock> <div class=title>Request</div> <div class=content> <pre class=highlight tabindex=0><code class=language-http data-lang=http><span class=hljs-attribute>GET   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/?page=4&number_of_elements=2</span></code></pre> </div> </div> <div class=paragraph> <p>All those features are supported by <strong>query parameters</strong>.</p> </div> </div> </div> </div> </div> <div class=sect1> <h2 id=_common_mistake>Common mistake</h2> <div class=sectionbody> <div class=paragraph> <p>First time I tried to design a <a href=https://en.wikipedia.org/wiki/Application_programming_interface rel=noopener target=_blank>API</a> <a href=https://en.wikipedia.org/wiki/Representational_state_transfer rel=noopener target=_blank>REST</a> I designed an <a href=https://en.wikipedia.org/wiki/Application_programming_interface rel=noopener target=_blank>API</a>, but <a href=https://en.wikipedia.org/wiki/Representational_state_transfer rel=noopener target=_blank>REST</a>.</p> </div> <div class=paragraph> <p>My main mistake was the <a href=https://en.wikipedia.org/wiki/Uniform_resource_locator rel=noopener target=_blank>URL</a>s design, I added my own <em>verbs</em> skipping <a href=https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol rel=noopener target=_blank>HTTP</a> <em>verbs</em>.</p> </div> <div class=listingblock> <div class=title>Wrong</div> <div class=content> <pre class=highlight tabindex=0><code class=language-http data-lang=http><span class=hljs-attribute>POST    https://example.com/api/cars/ford-focus/delete-oil/5W30</span></code></pre> </div> </div> <div class=listingblock> <div class=title>The correct way</div> <div class=content> <pre class=highlight tabindex=0><code class=language-http data-lang=http><span class=hljs-attribute>DELETE  https://example.com/api/cars/ford-focus/oils/5W30</span></code></pre> </div> </div> </div> </div> <div id=footnotes> <hr> <div class=footnote id=_footnotedef_1> <a href=#_footnoteref_1>1</a>. Create, Read, Update, Delete </div> </div></div></main> </div> 