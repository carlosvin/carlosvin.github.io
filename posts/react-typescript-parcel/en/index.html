<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <meta content=sapper name=generator> <meta content=a22af7614c96254d name=yandex-verification> <link href=/icons/icon-192x192.png rel=apple-touch-icon> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <link href=client/main.2705625807.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>Create SPA: React + Typescript + Parcel</title><link href=/rss rel=alternate type=application/rss+xml title="Subscribe to Carlos says bla bla"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"Webpage","@id":"https://google.com/article"},"headline":"Create SPA: React + Typescript + Parcel","alternativeHeadline":"Example project how to create a Single Page Application with React, Typescript and Parcel.","description":"Example project how to create a Single Page Application with React, Typescript and Parcel.","image":"icons/icon-192x192.png","datePublished":"2019-01-01 13:30:02","dateModified":"2019-07-10 13:30:02","keywords":["React","Typescript","Parcel","SPA"],"author":{"@type":"Person","name":"Carlos Martin Sanchez"},"publisher":"Carlos Martin Sanchez"}</script><meta content=2019-01-01 name=date scheme=YYYY-MM-DD><meta content="Example project how to create a Single Page Application with React, Typescript and Parcel." name=description><link href=/posts/react-typescript-parcel/es rel=alternate hreflang=es><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css rel=preload as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css rel=stylesheet></noscript><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <nav class=svelte-1hjvhrx><ul class=svelte-1hjvhrx><li class=svelte-1y8uoef><a href=/ class=svelte-1y8uoef><img alt="Carlos says bla bla" class="svelte-1hjvhrx logo" src=/favicon.png></a></ul> <ul class="svelte-1hjvhrx closed"><li class=svelte-1y8uoef><a href=/ class=svelte-1y8uoef><span class="svelte-1hjvhrx siteName">Carlos says bla bla</span></a></li> <li class=svelte-1y8uoef><a href=/categories class=svelte-1y8uoef>Categories</a></li> <li class=svelte-1y8uoef><a href=/about class=svelte-1y8uoef>About</a></ul> <div class="h svelte-1w8skyw"><a href=/rss class="icon svelte-1lu397 rss" title="Subscribe to Carlos says bla bla" rel=noopener target=_blank></a> <a href=https://github.com/carlosvin class="icon svelte-1lu397 github" title="Find me at github" rel=noopener target=_blank></a> <a href=https://twitter.com/carlosvin class="icon svelte-1lu397 twitter" title="Find me at twitter" rel=noopener target=_blank></a> <a href=https://stackoverflow.com/story/carlosvin class="icon svelte-1lu397 stackoverflow" title="Find me at stackoverflow" rel=noopener target=_blank></a></div> <button class=svelte-1hjvhrx>≡</button></nav> <main class=svelte-bvcji9> <header class=svelte-5fppzy><h1 class=svelte-5fppzy>Create SPA: React + Typescript + Parcel <span class="svelte-5fppzy share"><a href="https://twitter.com/intent/tweet?url=https://carlosvin.github.io/posts/react-typescript-parcel/en&text=Create SPA: React + Typescript + Parcel: Example project how to create a Single Page Application with React, Typescript and Parcel.&hashtags=React,Typescript,Parcel,SPA" class="icon svelte-1lu397 twitter" title='Share "Create SPA: React + Typescript + Parcel"' rel=noopener target=_blank></a></span></h1> <p class="svelte-5fppzy summary">Example project how to create a Single Page Application with React, Typescript and Parcel.</p> <div class="subtitle svelte-16mbbpz"><span class=date>01/01/2019</span> <span class="summary langs">Available in <span class="lang svelte-k3ijyt"><a href=/posts/react-typescript-parcel/es rel=prefetch>es</a> </span></span> <span class="svelte-9pgfi9 tags"><a href=/categories/react class=svelte-1ci4az4 title=React><span class="hover svelte-4jhu6r">React</span></a><a href=/categories/typescript class=svelte-1ci4az4 title=Typescript><span class="hover svelte-4jhu6r">Typescript</span></a><a href=/categories/parcel class=svelte-1ci4az4 title=Parcel><span class="hover svelte-4jhu6r">Parcel</span></a><a href=/categories/spa class=svelte-1ci4az4 title=SPA><span class="hover svelte-4jhu6r">SPA</span></a></span></div></header> <div class="content svelte-14sitvc"><div class=toc id=toc> <div id=toctitle>Table of Contents</div> <ul class=sectlevel1> <li><a href=#_read_this_before_parcel_is_not_as_mature_as_webpack>Read this before: Parcel is not as mature as Webpack</a></li> <li><a href=#_quick_start>Quick start</a> <ul class=sectlevel2> <li><a href=#_development_server>Development server</a></li> <li><a href=#_build_production_bundle>Build production bundle</a></li> </ul> </li> <li><a href=#_step_by_step_project_creation>Step by step project creation</a> <ul class=sectlevel2> <li><a href=#_add_required_dependencies>Add required dependencies</a></li> <li><a href=#_create_application_source_code>Create application source code</a></li> <li><a href=#_add_commands_build_the_project>Add commands build the project</a></li> <li><a href=#_configure_typescript_optional>Configure Typescript (optional)</a></li> </ul> </li> <li><a href=#_full_source_code>Full source code</a></li> </ul> </div> <div id=preamble> <div class=sectionbody> <div class=paragraph> <p>I was about to start yet another personal project, it consists of a SPA (Single Page Application) for a travel journal.</p> </div> <div class=paragraph> <p>Some time ago I tried <a href=https://parceljs.org rel=noopener target=_blank>Parcel</a>, I really loved how simple it was to create a simple project from scratch, using <a href=https://www.typescriptlang.org/ rel=noopener target=_blank>Typescript</a> + <a href=https://reactjs.org rel=noopener target=_blank>React</a> stack. I’ve decided to create this template or base project, so next time I want to create a new SPA with my favorite frontend stack, I will only have to:</p> </div> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-bash data-lang=bash>git <span class=hljs-built_in>clone</span> https://github.com/carlosvin/react-typescript-parcel-template.git</code></pre> </div> </div> </div> </div> <div class=sect1> <h2 id=_read_this_before_parcel_is_not_as_mature_as_webpack>Read this before: Parcel is not as mature as Webpack</h2> <div class=sectionbody> <div class=paragraph> <p>If you want to create a production ready React application, use <a href=https://webpack.js.org/ rel=noopener target=_blank>Webpack</a> or better <a href=https://facebook.github.io/create-react-app/ rel=noopener target=_blank>create-react-app</a> which bring everything you need to develop a <a href=https://developers.google.com/web/progressive-web-apps/ >PWA</a> with React and Typescript. Following you can find an example of an app I am developing using <a href=https://facebook.github.io/create-react-app/ rel=noopener target=_blank>create-react-app</a>: <a href=https://github.com/carlosvin/budget-tracker class=bare>https://github.com/carlosvin/budget-tracker</a>.</p> </div> <div class=paragraph> <p>Parcel is a package bundler under development, not as mature as webpack. There are no go errors for me, at least in regards to Typescript support, see this <a href=https://github.com/parcel-bundler/parcel/issues/1378>issue in github #1378</a>.</p> </div> <div class=paragraph> <p>I still think it is a promising project, bringing more simplicity and speed to JS bundlers world, I will give it a try again for serious projects when Parcel 2 is ready, check <a href=https://github.com/parcel-bundler/parcel/projects/5>Parcel 2 development status</a>.</p> </div> </div> </div> <div class=sect1> <h2 id=_quick_start>Quick start</h2> <div class=sectionbody> <div class=sect2> <h3 id=_development_server>Development server</h3> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-bash data-lang=bash>git <span class=hljs-built_in>clone</span> https://github.com/carlosvin/react-typescript-parcel-template.git
<span class=hljs-built_in>cd</span> react-typescript-parcel-template
yarn install
yarn start</code></pre> </div> </div> <div class=paragraph> <p>Last <code>yarn start</code> command will:</p> </div> <div class=ulist> <ul> <li> <p>start a development server at <a href=http://localhost:1234 class=bare>http://localhost:1234</a> with <a href=https://en.parceljs.org/hmr.html>hot module replacement</a></p> </li> <li> <p>build automatically development javascript files with source maps</p> </li> </ul> </div> <div class="admonitionblock tip"> <table> <tr> <td class=icon> <div class=title>Tip</div> </td> <td class=content> Each time you save a file, you will see automatically the result at <code><a href=http://localhost:1234 class=bare>http://localhost:1234</a></code> without refreshing the page </td> </tr> </table> </div> </div> <div class=sect2> <h3 id=_build_production_bundle>Build production bundle</h3> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-bash data-lang=bash>yarn build</code></pre> </div> </div> <div class=paragraph> <p><a href=https://en.parceljs.org/production.html#optimisations>Parcel’s default optimizations</a> will be applied to generated files.</p> </div> <div class=paragraph> <p>Files are saved at <code>dist</code> folder. Inside <code>dist</code> folder there is also a file with information about bundle content sizes: <code>dist/report.html</code>.</p> </div> </div> </div> </div> <div class=sect1> <h2 id=_step_by_step_project_creation>Step by step project creation</h2> <div class=sectionbody> <div class=paragraph> <p>In this section I will describe how I created this project.</p> </div> <div class=paragraph> <p>Firstly, create <code>package.json</code> with <a href=https://yarnpkg.com/lang/en/docs/cli/init/ >yarn init</a> command.</p> </div> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-bash data-lang=bash>yarn init</code></pre> </div> </div> <div class=sect2> <h3 id=_add_required_dependencies>Add required dependencies</h3> <div class=paragraph> <p>Add <a href=https://reactjs.org rel=noopener target=_blank>React</a> dependencies.</p> </div> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-bash data-lang=bash>yarn add @types/react @types/react-dom react react-dom</code></pre> </div> </div> <div class=paragraph> <p>Previous command modifies <code>package.json</code> file adding <code>dependencies</code> section and will also install React packages in <code>node_modules</code> folder.</p> </div> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-json data-lang=json>{
  <span class=hljs-attr>"name"</span>: <span class=hljs-string>"project_name"</span>,
  <span class=hljs-attr>"version"</span>: <span class=hljs-string>"1.0.0"</span>,
  <span class=hljs-attr>"main"</span>: <span class=hljs-string>"index.js"</span>,
  <span class=hljs-attr>"license"</span>: <span class=hljs-string>"MIT"</span>,
  <span class=hljs-attr>"dependencies"</span>: {
    <span class=hljs-attr>"@types/react"</span>: <span class=hljs-string>"^16.7.18"</span>,
    <span class=hljs-attr>"@types/react-dom"</span>: <span class=hljs-string>"^16.0.11"</span>,
    <span class=hljs-attr>"react"</span>: <span class=hljs-string>"^16.7.0"</span>,
    <span class=hljs-attr>"react-dom"</span>: <span class=hljs-string>"^16.7.0"</span>
  }
}</code></pre> </div> </div> <div class=paragraph> <p>Add <a href=https://www.typescriptlang.org/ rel=noopener target=_blank>Typescript</a> compiler as development dependency.</p> </div> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-bash data-lang=bash>yarn add --dev typescript</code></pre> </div> </div> <div class=paragraph> <p>We also need <a href=https://parceljs.org/ >Parcel bundler</a>.</p> </div> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-bash data-lang=bash>yarn add --dev parcel-bundler</code></pre> </div> </div> <div class=paragraph> <p>I’ve added a non-required dependency, it is a plugin to generate a report of generated bundle contents (the parcel version of <a href=https://github.com/webpack-contrib/webpack-bundle-analyzer>webpack-bundle-analyzer</a>.</p> </div> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-bash data-lang=bash>yarn add --dev parcel-plugin-bundle-visualiser</code></pre> </div> </div> </div> <div class=sect2> <h3 id=_create_application_source_code>Create application source code</h3> <div class=paragraph> <p>First we create the React application in <code>src/index.tsx</code> file.</p> </div> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-jsx data-lang=jsx><span class=hljs-keyword>import</span> * <span class=hljs-keyword>as</span> React <span class=hljs-keyword>from</span> <span class=hljs-string>"react"</span>;
<span class=hljs-keyword>import</span> * <span class=hljs-keyword>as</span> ReactDOM <span class=hljs-keyword>from</span> <span class=hljs-string>"react-dom"</span>;

<span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>App</span> <span class=hljs-keyword>extends</span> <span class=hljs-title>React</span>.<span class=hljs-title>PureComponent</span> </span>{
    render() {
        <span class=hljs-keyword>return</span> <span class=xml><span class=hljs-tag>&lt;<span class=hljs-name>h1</span>></span>Hello world!<span class=hljs-tag>&lt;/<span class=hljs-name>h1</span>></span></span>;
    }
}

ReactDOM.render(
    <span class=xml><span class=hljs-tag>&lt;<span class=hljs-name>App</span> /></span></span>,
    <span class=hljs-built_in>document</span>.getElementById(<span class=hljs-string>"app"</span>)
);</code></pre> </div> </div> <div class=paragraph> <p>Parcel can take <code>index.html</code> file as entry file and it figures out how to build the application, so let’s create <code>src/index.html</code> as follows:</p> </div> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-html data-lang=html><span class=hljs-tag>&lt;<span class=hljs-name>html</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>body</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>id</span>=<span class=hljs-string>"app"</span>></span><span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>script</span> <span class=hljs-attr>src</span>=<span class=hljs-string>"./index.tsx"</span>></span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>body</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>html</span>></span></code></pre> </div> </div> <div class=paragraph> <p>We need <code>div</code> tag for React to inject the DOM elements. The <code>script</code> declaration is used by Parcel to find entry point to build.</p> </div> </div> <div class=sect2> <h3 id=_add_commands_build_the_project>Add commands build the project</h3> <div class=paragraph> <p>I’ve added the commands:</p> </div> <div class=ulist> <ul> <li> <p><code>build</code>: Check <em>"Build production bundle"</em> section.</p> </li> <li> <p><code>start</code>: Check <em>"Development server"</em> section.</p> </li> </ul> </div> <div class=listingblock> <div class=content> <pre class=highlight><code class=language-json data-lang=json>    <span class=hljs-string>"scripts"</span>: {
        <span class=hljs-attr>"start"</span>: <span class=hljs-string>"parcel src/index.html"</span>,
        <span class=hljs-attr>"build"</span>: <span class=hljs-string>"parcel build src/index.html"</span>
    }</code></pre> </div> </div> <div class=paragraph> <p>Then to it is really easy to:</p> </div> <div class=ulist> <ul> <li> <p>run development server: <code>yarn start</code></p> </li> <li> <p>generate a production bundle: <code>yarn build</code></p> </li> </ul> </div> <div class=paragraph> <p>There is another approach described in <a href=https://en.parceljs.org/getting_started.html>Parcel documentation</a> that consists of installing Parcel globally.</p> </div> <div class=paragraph> <p>I’ve opted for more isolated approach that affects only project you are working on, you just install Parcel as <code>devDependency</code>. There is a tiny drawback, you can’t just run <code>parcel index.html</code>, because it is not installed in your system, but in <code>node_modules</code>.</p> </div> <div class=paragraph> <p>There is a simple way to run any binary installed in <code>node_modules</code>, you can just run <code>npx parcel index.html</code>.</p> </div> <div class=paragraph> <p>I like more to define build steps in <code>package.json</code> file, so you can have well defined commands more suited to build your project. You can also use these commands as documentation how to build your project.</p> </div> </div> <div class=sect2> <h3 id=_configure_typescript_optional>Configure Typescript (optional)</h3> <div class=listingblock> <div class=title>Create a <code>tsconfig.json</code> file</div> <div class=content> <pre class=highlight><code class=language-json data-lang=json>{
    <span class=hljs-attr>"compilerOptions"</span>: {
        <span class=hljs-attr>"outDir"</span>: <span class=hljs-string>"./dist/"</span>,
        <span class=hljs-attr>"sourceMap"</span>: <span class=hljs-literal>true</span>,
        <span class=hljs-attr>"noImplicitAny"</span>: <span class=hljs-literal>true</span>,
        <span class=hljs-attr>"module"</span>: <span class=hljs-string>"commonjs"</span>,
        <span class=hljs-attr>"target"</span>: <span class=hljs-string>"es5"</span>,
        <span class=hljs-attr>"jsx"</span>: <span class=hljs-string>"react"</span>
    }
}</code></pre> </div> </div> <div class=paragraph> <p>With this configuration, Typescript compiler will:</p> </div> <div class=ulist> <ul> <li> <p>Generate files in <code>dist</code> folder.</p> </li> <li> <p>Generate <a href=https://developer.mozilla.org/en-US/docs/Tools/Debugger/How_to/Use_a_source_map>source maps</a>.</p> </li> <li> <p>Will not allow to declare <code>any</code> type, for example following declaration is not allowed: <code>const elements: any;</code></p> </li> <li> <p>Generated module code will be <a href=https://requirejs.org/docs/commonjs.html>CommonJs</a>.</p> </li> <li> <p>Generated code will be <a href=https://es.wikipedia.org/wiki/ECMAScript>ECMAScript</a> 5 compliant.</p> </li> <li> <p>Support <a href=https://www.typescriptlang.org/docs/handbook/jsx.html>JSX</a> in <code>.tsx</code> files.</p> </li> </ul> </div> </div> </div> </div> <div class=sect1> <h2 id=_full_source_code>Full source code</h2> <div class=sectionbody> <div class=paragraph> <p>You can find full example at: <a href=https://github.com/carlosvin/react-typescript-parcel-template class=bare>https://github.com/carlosvin/react-typescript-parcel-template</a>.</p> </div> <div class=paragraph> <p>Or you can directly download the source code:</p> </div> <div class=ulist> <ul> <li> <p><a href=https://github.com/carlosvin/react-typescript-parcel-template/archive/1.0.zip>zip</a></p> </li> <li> <p><a href=https://github.com/carlosvin/react-typescript-parcel-template/archive/1.0.tar.gz>tar.gz</a></p> </li> </ul> </div> </div> </div></div></main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.3b4c5ee2.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main","/client/client.3b4c5ee2.js")}document.head.appendChild(s)</script> <script async defer> (function (i, s, o, g, r, a, m) {
		i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
			(i[r].q = i[r].q || []).push(arguments)
		}, i[r].l = 1 * new Date(); a = s.createElement(o),
			m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
		})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

		ga('create', 'UA-1328360-10', 'auto');
		ga('send', 'pageview'); </script> 