{"sectids":"","toc-placement":"auto","notitle":"","stylesheet":"","webfonts":"","prewrap":"","attribute-undefined":"drop-line","attribute-missing":"skip","iconfont-remote":"","caution-caption":"Caution","important-caption":"Important","note-caption":"Note","tip-caption":"Tip","warning-caption":"Warning","example-caption":"Example","figure-caption":"Figure","table-caption":"Table","toc-title":"Table of Contents","section-refsig":"Section","part-refsig":"Part","chapter-refsig":"Chapter","appendix-refsig":"Appendix","appendix-caption":"Appendix","untitled-label":"Untitled","version-label":"Version","last-update-label":"Last updated","docfile":"normalize-text-py.es.adoc","docdir":"","docfilesuffix":".adoc","docname":"normalize-text-py.es","embedded":"","asciidoctor":"","asciidoctor-version":"2.0.10","safe-mode-name":"secure","safe-mode-secure":"","safe-mode-level":20,"max-include-depth":64,"user-home":".","backend":"html5","max-attribute-value-size":4096,"linkcss":"","doctype":"article","htmlsyntax":"html","backend-html5-doctype-article":"","doctype-article":"","backend-html5":"","outfilesuffix":".html","filetype":"html","filetype-html":"","basebackend-html-doctype-article":"","basebackend-html":"","basebackend":"html","stylesdir":".","iconsdir":"./images/icons","localdate":"2020-04-19","localyear":"2020","localtime":"01:37:29 +0200","localdatetime":"2020-04-19 01:37:29 +0200","docdate":"2020-04-19","docyear":"2020","doctime":"00:56:12 +0200","docdatetime":"2020-04-19 00:56:12 +0200","doctitle":"Normalizar texto en Python","date":"2012/10/02 18:00:00","keywords":["Python","Tips and Tricks"],"description":"Evitar problemas con textos que contienen caractéres no ASCII","lang":"es","ascii":"https://es.wikipedia.org/wiki/ASCII[ASCII,window=_blank]","unicode":"https://es.wikipedia.org/wiki/Unicode[Unicode,window=_blank]","python":"https://www.python.org[Python,window=_blank]","normalforms":"https://en.wikipedia.org/wiki/Unicode_equivalence#Normal_forms[Tipos de formas normales,window=_blank]","authorcount":0,"title":"Normalizar texto en Python","summary":"Evitar problemas con textos que contienen caractéres no ASCII","html":"<div class=\"paragraph\">\n<p>En muchos idiomas, como es el caso del español, hay caracteres que no tienen representación <a href=\"https://es.wikipedia.org/wiki/ASCII\" target=\"_blank\" rel=\"noopener\">ASCII</a>, como por ejemplo la <strong>á</strong>, que sí que tiene representación en <a href=\"https://es.wikipedia.org/wiki/Unicode\" target=\"_blank\" rel=\"noopener\">Unicode</a>.</p>\n</div>\n<div class=\"paragraph\">\n<p>Para evitar problemas o por simplificar, se ha dado una equivalencia entre los caracteres <a href=\"https://es.wikipedia.org/wiki/Unicode\" target=\"_blank\" rel=\"noopener\">Unicode</a> y los <a href=\"https://es.wikipedia.org/wiki/ASCII\" target=\"_blank\" rel=\"noopener\">ASCII</a>. A continuación os pondré un trozo de código en <a href=\"https://www.python.org\" target=\"_blank\" rel=\"noopener\">Python</a> que hace esta conversión.</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-python\" data-lang=\"python\">&lt;span <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span>=\"<span class=\"hljs-title\">hljs</span>-<span class=\"hljs-title\">comment</span>\"&gt;# -*- <span class=\"hljs-title\">coding</span>:</span> utf<span class=\"hljs-number\">-8</span> -*-&lt;/span&gt;\n&lt;span <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span>=\"<span class=\"hljs-title\">hljs</span>-<span class=\"hljs-title\">keyword</span>\"&gt;<span class=\"hljs-title\">from</span>&lt;/<span class=\"hljs-title\">span</span>&gt; <span class=\"hljs-title\">unicodedata</span> &lt;<span class=\"hljs-title\">span</span> <span class=\"hljs-title\">class</span>=\"<span class=\"hljs-title\">hljs</span>-<span class=\"hljs-title\">keyword</span>\"&gt;<span class=\"hljs-title\">import</span>&lt;/<span class=\"hljs-title\">span</span>&gt; <span class=\"hljs-title\">normalize</span>\n\n&lt;<span class=\"hljs-title\">span</span> <span class=\"hljs-title\">class</span>=\"<span class=\"hljs-title\">hljs</span>-<span class=\"hljs-title\">function</span>\"&gt;&lt;<span class=\"hljs-title\">span</span> <span class=\"hljs-title\">class</span>=\"<span class=\"hljs-title\">hljs</span>-<span class=\"hljs-title\">keyword</span>\"&gt;<span class=\"hljs-title\">def</span>&lt;/<span class=\"hljs-title\">span</span>&gt; &lt;<span class=\"hljs-title\">span</span> <span class=\"hljs-title\">class</span>=\"<span class=\"hljs-title\">hljs</span>-<span class=\"hljs-title\">title</span>\"&gt;<span class=\"hljs-title\">normalize_text</span>&lt;/<span class=\"hljs-title\">span</span>&gt; &lt;<span class=\"hljs-title\">span</span> <span class=\"hljs-title\">class</span>=\"<span class=\"hljs-title\">hljs</span>-<span class=\"hljs-title\">params</span>\"&gt;<span class=\"hljs-params\">( text )</span>&lt;/<span class=\"hljs-title\">span</span>&gt;:</span>&lt;/span&gt;\n  &lt;span <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span>=\"<span class=\"hljs-title\">hljs</span>-<span class=\"hljs-title\">keyword</span>\"&gt;<span class=\"hljs-title\">return</span>&lt;/<span class=\"hljs-title\">span</span>&gt; <span class=\"hljs-title\">normalize</span><span class=\"hljs-params\">(&lt;span class=<span class=\"hljs-string\">\"hljs-string\"</span>&gt;<span class=\"hljs-string\">'NFKD'</span>&lt;/span&gt;, text)</span> &lt;<span class=\"hljs-title\">b</span> <span class=\"hljs-title\">class</span>=\"<span class=\"hljs-title\">conum</span>\"&gt;<span class=\"hljs-params\">(<span class=\"hljs-number\">1</span>)</span>&lt;/<span class=\"hljs-title\">b</span>&gt;\n    .<span class=\"hljs-title\">encode</span><span class=\"hljs-params\">(&lt;span class=<span class=\"hljs-string\">\"hljs-string\"</span>&gt;<span class=\"hljs-string\">'ASCII'</span>&lt;/span&gt;, &lt;span class=<span class=\"hljs-string\">\"hljs-string\"</span>&gt;<span class=\"hljs-string\">'ignore'</span>&lt;/span&gt;)</span> &lt;<span class=\"hljs-title\">b</span> <span class=\"hljs-title\">class</span>=\"<span class=\"hljs-title\">conum</span>\"&gt;<span class=\"hljs-params\">(<span class=\"hljs-number\">2</span>)</span>&lt;/<span class=\"hljs-title\">b</span>&gt;</span></code></pre>\n</div>\n</div>\n<div class=\"colist arabic\">\n<ol>\n<li>\n<p>Especificamos la forma normal que aplicamos en la normalización. En este caso <code>NFKD</code>. Más información sobre <a href=\"https://en.wikipedia.org/wiki/Unicode_equivalence#Normal_forms\" target=\"_blank\" rel=\"noopener\">Tipos de formas normales</a>.</p>\n</li>\n<li>\n<p>Confertimos el resultado de la normalización a <a href=\"https://es.wikipedia.org/wiki/ASCII\" target=\"_blank\" rel=\"noopener\">ASCII</a>. En caso de que un carácter sea erróneo simplemente será ignorado.</p>\n</li>\n</ol>\n</div>\n<div class=\"listingblock\">\n<div class=\"title\">Ejecutando la función</div>\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-python\" data-lang=\"python\">&lt;span <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span>=\"<span class=\"hljs-title\">hljs</span>-<span class=\"hljs-title\">meta</span>\"&gt;&amp;<span class=\"hljs-title\">gt</span>;&amp;<span class=\"hljs-title\">gt</span>;&amp;<span class=\"hljs-title\">gt</span>; &lt;/<span class=\"hljs-title\">span</span>&gt;<span class=\"hljs-title\">normalize_text</span> <span class=\"hljs-params\">( &lt;span class=<span class=\"hljs-string\">\"hljs-string\"</span>&gt;<span class=\"hljs-string\">'aáaá eéeé iíií oóoó ñnñn AÀAÀ'</span>&lt;/span&gt; )</span>\n&lt;<span class=\"hljs-title\">span</span> <span class=\"hljs-title\">class</span>=\"<span class=\"hljs-title\">hljs</span>-<span class=\"hljs-title\">string</span>\"&gt;<span class=\"hljs-title\">b</span>'<span class=\"hljs-title\">aaaa</span> <span class=\"hljs-title\">eeee</span> <span class=\"hljs-title\">iiii</span> <span class=\"hljs-title\">oooo</span> <span class=\"hljs-title\">nnnn</span> <span class=\"hljs-title\">AAAA</span>'&lt;/<span class=\"hljs-title\">span</span>&gt;</span></code></pre>\n</div>\n</div>","slug":"normalize-text-py"}