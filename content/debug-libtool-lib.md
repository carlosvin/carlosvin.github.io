---
title: "Debugging library generated with libtool"
date: 2013-02-01T15:30:00
keywords: ["C++", "Autotools", "GNU", "Tips and Tricks"]
description: "How to debug a library generated with libtool"
lang: "en"
---

When debugging an executable that uses a library generated with [libtool](https://www.gnu.org/software/libtool/libtool.html)[^1], you might encounter the following error:

```bash
$ gdb ./tests-mylib
"tests-mylib": not in executable format: File format not recognized
```

- `libmylib.so`: is a dynamic library generated with libtool.
- `tests-mylib`: is an executable that uses the mylib library.

For those thinking I forgot to add the `-g` compilation option, this error occurs even when using `-g`.

The error is due to the fact that we are trying to execute a script generated by libtool, which is a wrapper over the actual program to facilitate its execution[^2].

## To debug our test program `tests-mylib`

```bash
libtool --mode=execute gdb tests-mylib
```

[^1]: Tool that belongs to the [Autotools](https://en.wikipedia.org/wiki/GNU_Build_System) used to create portable software libraries.
[^2]: More information in [libtool documentation](https://www.gnu.org/software/libtool/manual/libtool.html#Debugging-executables).
