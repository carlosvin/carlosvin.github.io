import{S as t,i as e,s,m as a,g as n,t as r,k as l,d as o,I as i,y as c,z as h,A as m,C as u,e as f,a as d,b as $,f as p,J as g,n as y,u as v,p as w,x,v as j,q as k,r as E,w as z,K as b,L as A}from"./client.d4adae69.js";import{p as D,u as M}from"./url.1a9e4502.js";import{D as S}from"./Details.7bce460e.js";import{g as T}from"./dates.deba47a4.js";function L(t,e=" "){return[...t.map(t=>`#${t}`)].join(e)}function H(t){let e;const s=new i({props:{href:`https://twitter.com/intent/tweet?url=${t[2]}&text=${t[0]}: ${t[1]}&hashtags=${t[3].join(",")}`,title:`Share "${t[0]}"`,icon:"twitter"}});return{c(){c(s.$$.fragment)},l(t){h(s.$$.fragment,t)},m(t,a){m(s,t,a),e=!0},p(t,e){const a={};15&e&&(a.href=`https://twitter.com/intent/tweet?url=${t[2]}&text=${t[0]}: ${t[1]}&hashtags=${t[3].join(",")}`),1&e&&(a.title=`Share "${t[0]}"`),s.$set(a)},i(t){e||(r(s.$$.fragment,t),e=!0)},o(t){l(s.$$.fragment,t),e=!1},d(t){u(s,t)}}}function Y(t){let e,s;return{c(){e=f("button"),this.h()},l(t){e=d(t,"BUTTON",{title:!0,class:!0}),$(e).forEach(o),this.h()},h(){p(e,"title",t[0]),p(e,"class","svelte-1aekmf3")},m(a,r,l){n(a,e,r),l&&s(),s=g(e,"click",t[5])},p(t,s){1&s&&p(e,"title",t[0])},i:y,o:y,d(t){t&&o(e),s()}}}function q(t){let e,s,i,c;const h=[Y,H],m=[];return e=function(t,e){return t[4]?0:1}(t),s=m[e]=h[e](t),{c(){s.c(),i=a()},l(t){s.l(t),i=a()},m(t,s){m[e].m(t,s),n(t,i,s),c=!0},p(t,[e]){s.p(t,e)},i(t){c||(r(s),c=!0)},o(t){l(s),c=!1},d(t){m[e].d(t),t&&o(i)}}}function I(t,e,s){let{title:a}=e,{text:n}=e,{url:r}=e,{keywords:l=[]}=e;const o="undefined"!=typeof navigator&&navigator.share;return t.$set=(t=>{"title"in t&&s(0,a=t.title),"text"in t&&s(1,n=t.text),"url"in t&&s(2,r=t.url),"keywords"in t&&s(3,l=t.keywords)}),[a,n,r,l,o,async function(){try{await navigator.share({title:a,text:n+L(l),url:r})}catch(t){console.error("Sharing",t)}}]}class N extends t{constructor(t){super(),e(this,t,I,q,s,{title:0,text:1,url:2,keywords:3})}}const{document:K}=A;function P(t){let e,s,a,i,g,y,b,A,D,L,H,Y,q,I,P,R,U,B,C,J=t[0].title+"",O=t[0].summary+"";K.title=e=t[0].title;const V=new N({props:{title:t[0].title,keywords:t[0].keywords,text:t[0].summary,url:M(t[0].slug,t[0].lang)}}),F=new S({props:{post:t[0]}});return{c(){s=f("meta"),i=f("meta"),y=f("link"),b=v(),A=f("header"),D=f("h1"),L=w(J),H=v(),Y=f("span"),c(V.$$.fragment),q=v(),c(F.$$.fragment),I=v(),P=f("p"),R=w(O),U=v(),B=f("div"),this.h()},l(t){const e=x('[data-svelte="svelte-sbarz4"]',K.head);s=d(e,"META",{name:!0,content:!0,scheme:!0}),i=d(e,"META",{name:!0,content:!0}),y=d(e,"LINK",{rel:!0,href:!0,as:!0,onload:!0}),e.forEach(o),b=j(t),A=d(t,"HEADER",{class:!0});var a=$(A);D=d(a,"H1",{class:!0});var n=$(D);L=k(n,J),H=j(n),Y=d(n,"SPAN",{class:!0});var r=$(Y);h(V.$$.fragment,r),r.forEach(o),n.forEach(o),q=j(a),h(F.$$.fragment,a),I=j(a),P=d(a,"P",{class:!0});var l=$(P);R=k(l,O),l.forEach(o),a.forEach(o),U=j(t),B=d(t,"DIV",{class:!0}),$(B).forEach(o),this.h()},h(){p(s,"name","date"),p(s,"content",a=T(t[0].date)),p(s,"scheme","YYYY-MM-DD"),p(i,"name","description"),p(i,"content",g=t[0].summary),p(y,"rel","preload"),p(y,"href","https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/vs.min.css"),p(y,"as","style"),p(y,"onload","this.onload=null;this.rel='stylesheet'"),p(Y,"class","share svelte-118zn7v"),p(D,"class","svelte-118zn7v"),p(P,"class","summary svelte-118zn7v"),p(A,"class","svelte-118zn7v"),p(B,"class","content svelte-118zn7v")},m(e,a){E(K.head,s),E(K.head,i),E(K.head,y),n(e,b,a),n(e,A,a),E(A,D),E(D,L),E(D,H),E(D,Y),m(V,Y,null),E(A,q),m(F,A,null),E(A,I),E(A,P),E(P,R),n(e,U,a),n(e,B,a),B.innerHTML=t[1],C=!0},p(t,[n]){(!C||1&n)&&e!==(e=t[0].title)&&(K.title=e),(!C||1&n&&a!==(a=T(t[0].date)))&&p(s,"content",a),(!C||1&n&&g!==(g=t[0].summary))&&p(i,"content",g),(!C||1&n)&&J!==(J=t[0].title+"")&&z(L,J);const r={};1&n&&(r.title=t[0].title),1&n&&(r.keywords=t[0].keywords),1&n&&(r.text=t[0].summary),1&n&&(r.url=M(t[0].slug,t[0].lang)),V.$set(r);const l={};1&n&&(l.post=t[0]),F.$set(l),(!C||1&n)&&O!==(O=t[0].summary+"")&&z(R,O),(!C||2&n)&&(B.innerHTML=t[1])},i(t){C||(r(V.$$.fragment,t),r(F.$$.fragment,t),C=!0)},o(t){l(V.$$.fragment,t),l(F.$$.fragment,t),C=!1},d(t){o(s),o(i),o(y),t&&o(b),t&&o(A),u(V),u(F),t&&o(U),t&&o(B)}}}async function R({params:t,query:e}){const[s,a]=t.slug,n=await this.fetch(D(s,a)+".json"),r=await n.json(),{entry:l,html:o}=r;if(200===n.status){if(a)return{post:l,html:o};this.redirect(302,D(s,l.lang))}else this.error(n.status,r.message)}function U(t,e,s){b(async()=>{[...document.querySelectorAll('a[href^="#"]')].map(t=>t.href=document.location+new URL(t.href).hash)});let{post:a}=e,{html:n}=e;return t.$set=(t=>{"post"in t&&s(0,a=t.post),"html"in t&&s(1,n=t.html)}),[a,n]}export default class extends t{constructor(t){super(),e(this,t,U,P,s,{post:0,html:1})}}export{R as preload};
