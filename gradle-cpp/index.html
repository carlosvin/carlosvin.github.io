<!DOCTYPE html>
<html lang="en">

<head>
  
  
  
  <title>Build C++ project with Gradle</title>

  
  
  
  <meta name="description" content="How to build a C++ project using Gradle">


  <!-- Meta tags and OpenGraph metadata for SEO, social sharing, and browser configuration -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Carlos Martin Sanchez">
  
  <link rel="alternate" type="application/rss+xml" title="RSS"
    href="https://carlosvin.github.io/rss.xml">
  

  




<meta property="og:title" content="Build C++ project with Gradle">
<meta property="og:description" content="How to build a C++ project using Gradle">




<link rel="canonical" href="https:&#x2F;&#x2F;carlosvin.github.io&#x2F;gradle-cpp&#x2F;">
<meta property="og:url" content="https:&#x2F;&#x2F;carlosvin.github.io&#x2F;gradle-cpp&#x2F;">


<meta property="og:type" content="article">


<meta property="og:site_name" content="My software engineering journey">


<meta property="og:locale" content="en_US">



<meta property="article:published_time" content="2014-09-27T00:00:00Z">






<meta property="og:image" content="&#x2F;img&#x2F;android-chrome-192x192.png">



<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Build C++ project with Gradle">
<meta name="twitter:description" content="How to build a C++ project using Gradle">

<meta name="twitter:image" content="&#x2F;img&#x2F;android-chrome-192x192.png">


  






<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "@id": "https:&#x2F;&#x2F;carlosvin.github.io/#website",
      "url": "https:&#x2F;&#x2F;carlosvin.github.io",
      "name": "My software engineering journey",
      "description": "Documenting a personal journey through software engineering, AI, and programming. This blog features deep dives, practical guides, and recent learnings for both seasoned and aspiring developers.",
      "publisher": {
        "@id": "https:&#x2F;&#x2F;carlosvin.github.io/#person"
      },
      "potentialAction": [
        {
          "@type": "SearchAction",
          "target": {
            "@type": "EntryPoint",
            "urlTemplate": "https:&#x2F;&#x2F;carlosvin.github.io/search?q={search_term_string}"
          },
          "query-input": "required name=search_term_string"
        }
      ]
    },
    {
      "@type": "Person",
      "@id": "https:&#x2F;&#x2F;carlosvin.github.io/#person",
      "name": "Carlos Martin Sanchez",
      "url": "https:&#x2F;&#x2F;carlosvin.github.io",
      "sameAs": [
        
      ]
    },
    
    {
      "@type": "BlogPosting",
      "@id": "https:&#x2F;&#x2F;carlosvin.github.io&#x2F;gradle-cpp&#x2F;/#article",
      "isPartOf": {
        "@id": "https:&#x2F;&#x2F;carlosvin.github.io/#website"
      },
      "author": {
        "@id": "https:&#x2F;&#x2F;carlosvin.github.io/#person"
      },
      "headline": "Build C++ project with Gradle",
      "description": "How to build a C++ project using Gradle",
      "datePublished": "2014-09-27T00:00:00Z",
      "dateModified": "2014-09-27T00:00:00Z",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https:&#x2F;&#x2F;carlosvin.github.io&#x2F;gradle-cpp&#x2F;"
      },
      "url": "https:&#x2F;&#x2F;carlosvin.github.io&#x2F;gradle-cpp&#x2F;",
      "image": "&#x2F;img&#x2F;android-chrome-192x192.png",
      "publisher": {
        "@id": "https:&#x2F;&#x2F;carlosvin.github.io/#person"
      },
      "articleSection": "Blog",
      "inLanguage": "en",
      "wordCount": 1252,
      "copyrightYear": 2014,
      "copyrightHolder": {
        "@id": "https:&#x2F;&#x2F;carlosvin.github.io/#person"
      }
    },
    {
      "@type": "WebPage",
      "@id": "https:&#x2F;&#x2F;carlosvin.github.io&#x2F;gradle-cpp&#x2F;",
      "url": "https:&#x2F;&#x2F;carlosvin.github.io&#x2F;gradle-cpp&#x2F;",
      "name": "Build C++ project with Gradle",
      "isPartOf": {
        "@id": "https:&#x2F;&#x2F;carlosvin.github.io/#website"
      },
      "about": {
        "@id": "https:&#x2F;&#x2F;carlosvin.github.io&#x2F;gradle-cpp&#x2F;/#article"
      },
      "description": "How to build a C++ project using Gradle",
      "breadcrumb": {
        "@id": "https:&#x2F;&#x2F;carlosvin.github.io&#x2F;gradle-cpp&#x2F;/#breadcrumb"
      },
      "inLanguage": "en",
      "potentialAction": [
        {
          "@type": "ReadAction",
          "target": ["https:&#x2F;&#x2F;carlosvin.github.io&#x2F;gradle-cpp&#x2F;"]
        }
      ]
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https:&#x2F;&#x2F;carlosvin.github.io&#x2F;gradle-cpp&#x2F;/#breadcrumb",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https:&#x2F;&#x2F;carlosvin.github.io"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Build C++ project with Gradle",
          "item": "https:&#x2F;&#x2F;carlosvin.github.io&#x2F;gradle-cpp&#x2F;"
        }
        ]
    }
    
  ]
}
</script>

  <!-- Links to files -->
  <link rel="stylesheet" href="https://carlosvin.github.io/css/base.css" rel=preconnect>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.lime.min.css" rel=preconnect>

  <!-- Favicons -->
  <link rel="icon" href="https://carlosvin.github.io/img/favicon.ico" sizes="any">
  <link rel="icon" href="https://carlosvin.github.io/img/favicon-32x32.png" sizes="32x32" type="image/png">
  <link rel="icon" href="https://carlosvin.github.io/img/android-chrome-192x192.png" sizes="192x192" type="image/png">
  <link rel="apple-touch-icon" href="https://carlosvin.github.io/img/apple-touch-icon.png">

  <link rel="manifest" href="https://carlosvin.github.io/manifest.json"> <!-- Scripts -->
  <script type="speculationrules">
    {
    "prerender": [
        {
        "where": {
            "selector_matches": "a"
        }
        }
    ]
    }
  </script>
  <script type="text/javascript">
    (function (c, l, a, r, i, t, y) {
      c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) };
      t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
      y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
    })(window, document, "clarity", "script", "58k0hy1db4");
  </script>
  <script defer src="https://cloud.umami.is/script.js" data-website-id="b33a381d-0843-4a11-b306-74c285c39206"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/elasticlunr/0.9.6/elasticlunr.min.js"
    integrity="sha512-0QarUp4p9r5IqUgSRyP89BHga45OpEd7VR8lbRkJkf48p/EhcU742fWUpKpoDyu9N6XYAEq/vz6m6z1OolnsDw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" defer async></script>
  <script defer data-domain="carlosvin.github.io" src="https://plausible.io/js/script.js"></script>
</head>

<body class="container">
  <header>
    <nav>
  <ul>
    <li>
      <a href="https://carlosvin.github.io">
        <img src="https://carlosvin.github.io/img/android-chrome-192x192.png" alt="My software engineering journey logo"
          style="height:2rem;vertical-align:middle;border-radius:8px;">
      </a>
    </li>
    <li>
      <a href="https://carlosvin.github.io">My software engineering journey</a>
    </li>
  </ul>
  <ul>
    
    <li>
      <a href="https://carlosvin.github.io/about">About</a>
    </li>
    
    <li>
      <input id="search" type="search" placeholder="Search the posts" aria-label="Search">
    </li>
  </ul>
</nav>
    <div class="search-container">
      <div class="search-results">
        <div class="search-results__items"></div>
      </div>
    </div>
  </header>

  <main>
    
<article class="post">
  <header>
    <hgroup>
      <h1 class="post-title">Build C++ project with Gradle</h1>
      <p class="post-meta">
        
        <time datetime=" 2014-09-27">
          September 27, 2014
        </time>
        
      </p>
    </hgroup>
  </header>

  

  <section class="post-content">
    <h2 id="introduction">Introduction</h2>
<p>I am more and more worried about building, dependency management and distribution of my projects. I'd like to find a tool that unifies those processes with independence of the language. I know several tools which almost fit to what I'm looking for, like <a href="https://www.scons.org">SCons</a>, <a href="https://www.gnu.org/software/automake/manual/html_node/Autotools-Introduction.html#Autotools-Introduction">Autotools</a>, <a href="https://ant.apache.org">Ant</a>, <a href="https://maven.apache.org">Maven</a> and lately <a href="https://www.gradle.org">Gradle</a>.</p>
<p>I've made several projects with Gradle, but always they were <a href="https://www.java.com">Java</a> and <a href="https://developer.android.com/studio/build">Android</a> projects. <del>In Java projects I've found a Maven replacement, because it is faster, easier and less verbose</del>. <strong>Update 2020</strong>: With the experience, now if I have to pick a build system for a Java project I'd pick Maven, especially for a professional project, but it is not the topic of this post.</p>
<p>About Android projects I suffered the early adoption of <a href="https://developer.android.com/sdk/installing/studio-build.html">Android Studio + Gradle</a>, although currently I think they are more mature and they work fine.</p>
<p>First of all, I have to say: building C/C++/Objective-C projects with Gradle is in <a href="https://docs.gradle.org/current/userguide/feature_lifecycle.html#sec:incubating_state">incubation</a> phase, although now we can perform advanced tasks like:</p>
<ul>
<li>Generation several artifacts within same project (libraries and executables).</li>
<li>Dependency management between artifacts (no versions).</li>
<li>Different "flavors" of the same software, e.g: we can generate a "Community" release and other one with more enabled features called "Enterprise".</li>
<li>It allows multi-platform binary generation.</li>
</ul>
<p>As I said, this plugin is still having limitations although they are working on it: <a href="https://blog.gradle.org/state-and-future-of-the-gradle-software-model#a-way-forward">Gradle C++ roadmap</a>. <del>If they achieve it I'll leave Autotools (I'm going to regret saying that)</del>. <strong>Update 2020</strong>: Actually few years later I am not using Autotools, neither Gradle, but I am using <a href="https://mesonbuild.com/">Meson</a> and considering <a href="https://docs.bazel.build/versions/master/tutorial/cpp.html">Bazel</a>.</p>
<h2 id="case-study">Case study</h2>
<p>I've extracted all the case study from <a href="https://docs.gradle.org/current/userguide/native_software.html">Gradle user guide for native software</a>. I've adapted the project to be multi-platform with 2 versions "Community" and "Enterprise".</p>
<p>The application consists of an executable and a dynamic library. The executable will use the library.</p>
<p>Gradle also is able to generate a distributable version and a debug version.</p>
<p>You can fork the code on <a href="https://github.com/carlosvin/cpp_gradle">GitHub</a>.</p>
<h3 id="project-structure">Project Structure</h3>
<p>We can create whichever directory structure, but it is easier using the proposed by Gradle, if not we'll have to specify where the code is located.</p>
<p>This is the project structure:</p>
<ul>
<li>gradle-cpp: Root directory.
<ul>
<li>build.gradle: File where is configured Gradle project, it is the equivalent to: build.xml for Ant, <a href="https://www.gnu.org/software/make/manual/html_node/Makefiles.html">Makefile</a> for C/C++ or pom.xml for Maven.</li>
<li>src: Folder where the source code is located.
<ul>
<li>hello: This folder contains the module hello. This module will generate hello library.
<ul>
<li>cpp: This folder contains C++ source files.
<ul>
<li>Hello.cpp:  File with the implementation of Hello class.</li>
</ul>
</li>
<li>headers: Folder with header files.
<ul>
<li>Hello.h: Class Hello declaration.</li>
<li>Msg.h: File with constants declarations.  </li>
</ul>
</li>
</ul>
</li>
<li>main: This folder contains the module which produces the executable that uses hello library.
<ul>
<li>cpp: This folder contains C++ source files.
<ul>
<li>main.cpp: Source code of main function.  </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>build: Folder created automatically by Gradle where it leaves all execution results like unit tests reports, compiled files, package distributions, etc.</li>
</ul>
</li>
</ul>
<h3 id="c-application">C++ Application</h3>
<p>It consists of an executable that uses the functionality implemented at <code>hello</code> library.</p>
<h4 id="main-cpp">main.cpp</h4>
<pre data-lang="cpp" style="background-color:#2b303b;color:#c0c5ce;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#b48ead;">#include </span><span>&quot;</span><span style="color:#a3be8c;">Hello.h</span><span>&quot;
</span><span style="color:#b48ead;">int </span><span style="color:#8fa1b3;">main</span><span>(</span><span style="color:#b48ead;">int </span><span style="color:#bf616a;">argc</span><span>, </span><span style="color:#b48ead;">char </span><span>** </span><span style="color:#bf616a;">argv</span><span>)
</span><span>{
</span><span>    Hello </span><span style="color:#bf616a;">hello </span><span>(&quot;</span><span style="color:#a3be8c;">Pepito</span><span>&quot;);
</span><span>    hello.</span><span style="color:#bf616a;">sayHello</span><span>(</span><span style="color:#d08770;">10</span><span>);
</span><span>    </span><span style="color:#b48ead;">return </span><span style="color:#d08770;">0</span><span>;
</span><span>}
</span></code></pre>
<p><code>hello</code> library allows greet <code>n</code><sup class="footnote-reference"><a href="#n">1</a></sup> times to someone who is passed as argument to constructor class.</p>
<div class="footnote-definition" id="n"><sup class="footnote-definition-label">1</sup>
<p>'n' Positive integer</p>
</div>
<h4 id="hello-h">Hello.h</h4>
<pre data-lang="cpp" style="background-color:#2b303b;color:#c0c5ce;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#b48ead;">class </span><span style="color:#ebcb8b;">Hello
</span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">private</span><span style="color:#eff1f5;">:
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">const char </span><span>*</span><span style="color:#eff1f5;"> who;
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">public</span><span style="color:#eff1f5;">:
</span><span style="color:#eff1f5;">        </span><span style="color:#8fa1b3;">Hello</span><span style="color:#eff1f5;">(</span><span style="color:#b48ead;">const char </span><span>* </span><span style="color:#bf616a;">who</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">void </span><span style="color:#8fa1b3;">sayHello</span><span style="color:#eff1f5;">(</span><span style="color:#b48ead;">unsigned </span><span style="color:#bf616a;">n </span><span>= </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">}</span><span>;
</span></code></pre>
<h3 id="building-with-gradle">Building with Gradle</h3>
<h4 id="base-case">Base case</h4>
<p>The only we need to build the application with Gradle is: having Gradle<sup class="footnote-reference"><a href="#wrapper">2</a></sup> and the file <code>build.gradle</code>.</p>
<div class="footnote-definition" id="wrapper"><sup class="footnote-definition-label">2</sup>
<p>Actually Gradle is not required if we use the "wrapper", but we aren't going to explain it here, <a href="https://docs.gradle.org/current/userguide/gradle_wrapper.html">here you can get more info about Gradle Wrapper</a>.</p>
</div>
<h4 id="build-gradle-base-case">build.gradle (Base Case)</h4>
<pre data-lang="groovy" style="background-color:#2b303b;color:#c0c5ce;" class="language-groovy "><code class="language-groovy" data-lang="groovy"><span>apply </span><span style="color:#d08770;">plugin</span><span>: &#39;</span><span style="color:#a3be8c;">cpp</span><span>&#39;
</span><span>
</span><span>model {
</span><span>  components {
</span><span>    hello(</span><span style="color:#b48ead;">NativeLibrarySpec</span><span>) {}
</span><span>    main(</span><span style="color:#b48ead;">NativeExecutableSpec</span><span>) {
</span><span>      binaries.all {
</span><span>        lib </span><span style="color:#d08770;">library</span><span>: &quot;</span><span style="color:#a3be8c;">hello</span><span>&quot;
</span><span>      }
</span><span>    }
</span><span>  }
</span><span>}
</span></code></pre>
<p>With this simple file, we'll be able to compile and install the application in Debug mode for the platform where we are executing Gradle (in my case X64).</p>
<p>If we execute <code>gradle task</code> from the root of the project, we'll get all the tasks we can do with Gradle.</p>
<p>In our case, we just want our compiled application ready to run, so we have to execute: <code>gradle installMainExecutable</code>.</p>
<p>Once execution has finished, we can run the program calling to <code>build/install/mainExecutable/main</code><sup class="footnote-reference"><a href="#bat">3</a></sup>.</p>
<div class="footnote-definition" id="bat"><sup class="footnote-definition-label">3</sup>
<p>.bat in Windows. Without extension in Linux.</p>
</div>
<h4 id="output">Output</h4>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">$</span><span> build/install/mainExecutable/main
</span><span style="color:#bf616a;">1.</span><span>  Hello Mr. Pepito (Community)
</span><span style="color:#bf616a;">2.</span><span>  Hello Mr. Pepito (Community)
</span><span style="color:#bf616a;">3.</span><span>  Hello Mr. Pepito (Community)
</span><span style="color:#bf616a;">4.</span><span>  Hello Mr. Pepito (Community)
</span><span style="color:#bf616a;">5.</span><span>  Hello Mr. Pepito (Community)
</span><span style="color:#bf616a;">6.</span><span>  Hello Mr. Pepito (Community)
</span><span style="color:#bf616a;">7.</span><span>  Hello Mr. Pepito (Community)
</span><span style="color:#bf616a;">8.</span><span>  Hello Mr. Pepito (Community)
</span><span style="color:#bf616a;">9.</span><span>  Hello Mr. Pepito (Community)
</span><span style="color:#bf616a;">10.</span><span> Hello Mr. Pepito (Community)
</span></code></pre>
<h4 id="different-flavors">Different "Flavors"</h4>
<p>With a few lines more we can generate different versions of same application. In our example we are going to build "Community" and "Enterprise" flavors.</p>
<h4 id="build-gradle-flavors">build.gradle (Flavors)</h4>
<pre data-lang="groovy" style="background-color:#2b303b;color:#c0c5ce;" class="language-groovy "><code class="language-groovy" data-lang="groovy"><span>apply </span><span style="color:#d08770;">plugin</span><span>: &#39;</span><span style="color:#a3be8c;">cpp</span><span>&#39;
</span><span>
</span><span>model {
</span><span>  flavors {
</span><span>      community
</span><span>      enterprise
</span><span>  }
</span><span>
</span><span>  components {
</span><span>    hello(</span><span style="color:#b48ead;">NativeLibrarySpec</span><span>) {
</span><span>      binaries.all {
</span><span>        </span><span style="color:#b48ead;">if</span><span> (flavor == flavors.enterprise) {
</span><span>          cppCompiler.define &quot;</span><span style="color:#a3be8c;">ENTERPRISE</span><span>&quot;
</span><span>        }
</span><span>      }
</span><span>    }
</span><span>    main(</span><span style="color:#b48ead;">NativeExecutableSpec</span><span>) {
</span><span>      binaries.all {
</span><span>        lib </span><span style="color:#d08770;">library</span><span>: &quot;</span><span style="color:#a3be8c;">hello</span><span>&quot;
</span><span>        }
</span><span>    }
</span><span>  }
</span><span>}
</span></code></pre>
<p>We also have to prepare our application to use compilation parameters.</p>
<h4 id="msg-h">Msg.h</h4>
<pre data-lang="cpp" style="background-color:#2b303b;color:#c0c5ce;" class="language-cpp "><code class="language-cpp" data-lang="cpp"><span style="color:#b48ead;">#ifdef</span><span> ENTERPRISE
</span><span style="color:#b48ead;">static const char </span><span>* EDITION = &quot;</span><span style="color:#a3be8c;">Enterprise</span><span>&quot;;
</span><span>
</span><span style="color:#b48ead;">#else
</span><span style="color:#b48ead;">static const char </span><span>* EDITION = &quot;</span><span style="color:#a3be8c;">Community</span><span>&quot;;
</span><span>
</span><span style="color:#b48ead;">#endif
</span></code></pre>
<p>In this way it selects a string depending on used flavor.</p>
<p>If we execute <code>gradle clean task</code> in the root folder, we'll get more available tasks. Before, we had <code>installMainExecutable</code> which has been replaced by <code>installCommunityMainExecutable</code> and <code>installEnterpriseMainExecutable</code>.</p>
<p>If we execute both tasks, we'll get the application installed in both flavors:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span>$</span><span style="color:#bf616a;">gradle</span><span> installEnterpriseMainExecutable installCommunityMainExecutable
</span><span>
</span><span style="color:#bf616a;">:compileEnterpriseHelloSharedLibraryHelloCpp
</span><span style="color:#bf616a;">:linkEnterpriseHelloSharedLibrary
</span><span style="color:#bf616a;">:enterpriseHelloSharedLibrary
</span><span style="color:#bf616a;">:compileEnterpriseMainExecutableMainCpp
</span><span style="color:#bf616a;">:linkEnterpriseMainExecutable
</span><span style="color:#bf616a;">:enterpriseMainExecutable
</span><span style="color:#bf616a;">:installEnterpriseMainExecutable
</span><span style="color:#bf616a;">:compileCommunityHelloSharedLibraryHelloCpp
</span><span style="color:#bf616a;">:linkCommunityHelloSharedLibrary
</span><span style="color:#bf616a;">:communityHelloSharedLibrary
</span><span style="color:#bf616a;">:compileCommunityMainExecutableMainCpp
</span><span style="color:#bf616a;">:linkCommunityMainExecutable
</span><span style="color:#bf616a;">:communityMainExecutable
</span><span style="color:#bf616a;">:installCommunityMainExecutable
</span><span>
</span><span style="color:#bf616a;">BUILD</span><span> SUCCESSFUL
</span><span style="color:#bf616a;">Total</span><span> time: 9.414 secs
</span></code></pre>
<p>Now we can run the application in both flavors:</p>
<h5 id="community">Community</h5>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">$</span><span> build/install/mainExecutable/community/main
</span><span style="color:#bf616a;">1.</span><span>      Hello Mr. Pepito        (Community)
</span><span style="color:#bf616a;">2.</span><span>      Hello Mr. Pepito        (Community)
</span><span style="color:#bf616a;">3.</span><span>      Hello Mr. Pepito        (Community)
</span><span style="color:#bf616a;">4.</span><span>      Hello Mr. Pepito        (Community)
</span><span style="color:#bf616a;">5.</span><span>      Hello Mr. Pepito        (Community)
</span><span style="color:#bf616a;">6.</span><span>      Hello Mr. Pepito        (Community)
</span><span style="color:#bf616a;">7.</span><span>      Hello Mr. Pepito        (Community)
</span><span style="color:#bf616a;">8.</span><span>      Hello Mr. Pepito        (Community)
</span><span style="color:#bf616a;">9.</span><span>      Hello Mr. Pepito        (Community)
</span><span style="color:#bf616a;">10.</span><span>     Hello Mr. Pepito        (Community)
</span></code></pre>
<h5 id="enterprise">Enterprise</h5>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">$</span><span> build/install/mainExecutable/enterprise/main
</span><span style="color:#bf616a;">1.</span><span>      Hello Mr. Pepito        (Enterprise)
</span><span style="color:#bf616a;">2.</span><span>      Hello Mr. Pepito        (Enterprise)
</span><span style="color:#bf616a;">3.</span><span>      Hello Mr. Pepito        (Enterprise)
</span><span style="color:#bf616a;">4.</span><span>      Hello Mr. Pepito        (Enterprise)
</span><span style="color:#bf616a;">5.</span><span>      Hello Mr. Pepito        (Enterprise)
</span><span style="color:#bf616a;">6.</span><span>      Hello Mr. Pepito        (Enterprise)
</span><span style="color:#bf616a;">7.</span><span>      Hello Mr. Pepito        (Enterprise)
</span><span style="color:#bf616a;">8.</span><span>      Hello Mr. Pepito        (Enterprise)
</span><span style="color:#bf616a;">9.</span><span>      Hello Mr. Pepito        (Enterprise)
</span><span style="color:#bf616a;">10.</span><span>     Hello Mr. Pepito        (Enterprise)
</span></code></pre>
<h4 id="release-or-debug">Release or Debug</h4>
<p>By default Gradle compiles in Debug mode, but we can add the Release mode which enables several optimizations and remove debug flags<sup class="footnote-reference"><a href="#optimizations">4</a></sup>.</p>
<div class="footnote-definition" id="optimizations"><sup class="footnote-definition-label">4</sup>
<p>We can also specify/modify which optimizations to apply.</p>
</div>
<h4 id="build-gradle-release-debug">build.gradle (Release/Debug)</h4>
<pre data-lang="groovy" style="background-color:#2b303b;color:#c0c5ce;" class="language-groovy "><code class="language-groovy" data-lang="groovy"><span>apply </span><span style="color:#d08770;">plugin</span><span>: &#39;</span><span style="color:#a3be8c;">cpp</span><span>&#39;
</span><span>model {
</span><span>    buildTypes {
</span><span>        debug
</span><span>        release
</span><span>    }
</span><span style="color:#65737e;">// ... the rest of file below doesn&#39;t change
</span><span>}
</span></code></pre>
<p>If we execute <code>gradle clean task</code> we will get more tasks, they have been split, for example <code>installCommunityMainExecutable</code> has been split in <code>installDebugCommunityMainExecutable</code> and <code>installReleaseCommunityMainExecutable</code>.</p>
<h4 id="multi-platform">Multi-platform</h4>
<p>Also we can use cross-compiling features provided by compilers and generate native components for other platforms. To do so we just have to add the supported platforms.</p>
<p>This only works if we have installed the <a href="https://en.wikipedia.org/wiki/Toolchain">Toolchain</a> for the target platform.</p>
<h4 id="build-gradle">build.gradle</h4>
<pre data-lang="groovy" style="background-color:#2b303b;color:#c0c5ce;" class="language-groovy "><code class="language-groovy" data-lang="groovy"><span>apply </span><span style="color:#d08770;">plugin</span><span>: &#39;</span><span style="color:#a3be8c;">cpp</span><span>&#39;
</span><span>
</span><span>model {
</span><span>  buildTypes {
</span><span>    debug
</span><span>    release
</span><span>  }
</span><span>
</span><span>  platforms {
</span><span>    x86 {
</span><span>      architecture &quot;</span><span style="color:#a3be8c;">x86</span><span>&quot;
</span><span>    }
</span><span>    x64 {
</span><span>      architecture &quot;</span><span style="color:#a3be8c;">x86_64</span><span>&quot;
</span><span>    }
</span><span>    itanium {
</span><span>      architecture &quot;</span><span style="color:#a3be8c;">ia-64</span><span>&quot;
</span><span>    }
</span><span>  }
</span><span>
</span><span>  flavors {
</span><span>    community
</span><span>    enterprise
</span><span>  }
</span><span>
</span><span>  components {
</span><span>    hello(</span><span style="color:#b48ead;">NativeLibrarySpec</span><span>) {
</span><span>      binaries.all {
</span><span>        </span><span style="color:#b48ead;">if</span><span> (flavor == flavors.enterprise) {
</span><span>          cppCompiler.define &quot;</span><span style="color:#a3be8c;">ENTERPRISE</span><span>&quot;
</span><span>        }
</span><span>      }
</span><span>    }
</span><span>    main(</span><span style="color:#b48ead;">NativeExecutableSpec</span><span>) {
</span><span>      binaries.all {
</span><span>        lib </span><span style="color:#d08770;">library</span><span>: &quot;</span><span style="color:#a3be8c;">hello</span><span>&quot;
</span><span>      }
</span><span>    }
</span><span>  }
</span><span>}
</span></code></pre>
<p>When execute <code>gradle clean task</code> we get the different build options we have.</p>
<blockquote>
<p><strong>Note:</strong> In this example, we can build different versions of the application in different flavors for different platforms in Debug or Release mode.</p>
</blockquote>
<h3 id="try-it-yourself">Try it yourself</h3>
<p>You can find the project at <a href="https://github.com/carlosvin/cpp_gradle">https://github.com/carlosvin/cpp_gradle</a>.</p>
<p>Requirements:</p>
<ul>
<li>Java 6 or higher.</li>
<li>An installed compiler (e.g <a href="https://gcc.gnu.org/">GCC</a>)</li>
</ul>
<p>You just have to follow next steps:</p>
<ol>
<li><code>git clone git@github.com:carlosvin/cpp_gradle.git</code></li>
<li><code>cd cpp_gradle</code></li>
<li><code>./gradlew task</code> or <code>./gradlew.bat task</code> if you are in Windows. In this way you'll see available tasks for this project. The first execution will take more time, because it downloads Gradle runtime.</li>
<li>If you are in a 64 bits platform, you can use this command to install the application: <code>./gradlew installX64ReleaseEnterpriseMainExecutable</code>.</li>
<li>Run the application you just built: <code>build/install/mainExecutable/x64ReleaseEnterprise/main</code>.</li>
</ol>
<h2 id="conclusions">Conclusions</h2>
<p>With a small configuration file, we can achieve many different build combinations.</p>
<p>Gradle for C++ has a promising future, and I hope it will follow the successful path of Java and Android support.</p>
<p>It is well supported by continuous integration systems and offers many plugins and features.</p>
<p>However, Gradle for C++ is still under development, so we need to be cautious:</p>
<ul>
<li>Do not use it in production environments.</li>
<li>Many things may change or be removed in future versions.</li>
</ul>
<p>The full example is available at <a href="https://github.com/carlosvin/cpp_gradle">https://github.com/carlosvin/cpp_gradle</a>. I encourage you to try it yourself.</p>
<blockquote>
<p><strong>Note:</strong> If you find any issues in this example, please leave a comment, open an issue, or submit a fix at <a href="https://github.com/carlosvin/cpp_gradle">https://github.com/carlosvin/cpp_gradle</a>.</p>
</blockquote>
<p>For more information, see <a href="https://docs.gradle.org/current/userguide/native_software.html">Getting Started with Gradle Native</a>.</p>

  </section>

  <footer>
    <script src="https://utteranc.es/client.js" repo="carlosvin/carlosvin.github.io" issue-term="title"
      theme="github-light" crossorigin="anonymous" async defer>
      </script>
  </footer>
</article>

    <script src="https://carlosvin.github.io/js/search.js"></script>
  </main>

  <footer>
    <nav>
      <small>&copy; 2025 Carlos Martin Sanchez | Powered by <a
          href="https://www.getzola.org/">Zola</a>
      </small>
      <span style="display: flex; gap: 1rem; align-items: flex-end;">
  <a href="https://github.com/carlosvin" target="_blank" rel="noopener">
    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" alt="GitHub" width="32"
      height="32" />
  </a>
  <a href="https://linkedin.com/in/carlosvin" target="_blank" rel="noopener">
    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/linkedin/linkedin-original.svg" alt="LinkedIn"
      width="32" height="32" />
  </a>
  <a href="https://carlosvin.github.io/atom.xml">
    <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/rss.svg" alt="RSS" width="32" height="32">
  </a>
</span>
    </nav>
  </footer>

  <script src="https://carlosvin.github.io/js/search.js"></script>
</body>

</html>