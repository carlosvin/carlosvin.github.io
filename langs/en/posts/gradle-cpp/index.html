<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Build C++ project with Gradle</title><!-- HTML_TAG_START -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-1328360-10', 'auto');
	</script>
	<!-- HTML_TAG_END --><meta name="date.created" content="2014-09-27T00:00:00.000Z" data-svelte="svelte-1lps7vh"><meta name="date.updated" content="2014-09-27T00:00:00.000Z" data-svelte="svelte-1lps7vh"><meta name="description" content="How to build a C++ project using Gradle" data-svelte="svelte-1lps7vh"><link rel="alternate" hreflang="es" href="/langs/es/posts/gradle-cpp" data-svelte="svelte-1lps7vh"><link rel="alternate" href="/langs/en/posts/gradle-cpp.ld.json" type="application/ld+json" data-svelte="svelte-1lps7vh">

		

		<link rel="modulepreload" href="/_app/start-31f49d9d.js">
		<link rel="modulepreload" href="/_app/chunks/vendor-aa34231d.js">
		<link rel="modulepreload" href="/_app/chunks/singletons-12a22614.js">
		<link rel="modulepreload" href="/_app/pages/__layout.svelte-79988baf.js">
		<link rel="modulepreload" href="/_app/chunks/lang-cab22388.js">
		<link rel="modulepreload" href="/_app/chunks/conf-318ca8e3.js">
		<link rel="modulepreload" href="/_app/chunks/Social-3a966442.js">
		<link rel="modulepreload" href="/_app/chunks/IconLink-efcd0a43.js">
		<link rel="modulepreload" href="/_app/pages/langs/[lang]/posts/[slug].svelte-a29f0a3a.js">
		<link rel="modulepreload" href="/_app/chunks/url-28a36952.js">
		<link rel="modulepreload" href="/_app/chunks/Details-901e127c.js">
		<link rel="stylesheet" href="/_app/assets/start-61d1577b.css">
		<link rel="stylesheet" href="/_app/assets/pages/__layout.svelte-2fff0493.css">
		<link rel="stylesheet" href="/_app/assets/Social-7f1225f5.css">
		<link rel="stylesheet" href="/_app/assets/IconLink-678181d0.css">
		<link rel="stylesheet" href="/_app/assets/pages/langs/[lang]/posts/[slug].svelte-ae23d8c4.css">
		<link rel="stylesheet" href="/_app/assets/Details-dd2367f4.css">

		<script type="module">
			import { start } from "/_app/start-31f49d9d.js";
			start({
				target: document.querySelector("#svelte"),
				paths: {"base":"","assets":""},
				session: {},
				host: location.host,
				route: true,
				spa: false,
				trailing_slash: "never",
				hydrate: {
					status: 200,
					error: null,
					nodes: [
						import("/_app/pages/__layout.svelte-79988baf.js"),
						import("/_app/pages/langs/[lang]/posts/[slug].svelte-a29f0a3a.js")
					],
					page: {
						host: location.host, // TODO this is redundant
						path: "/langs/en/posts/gradle-cpp",
						query: new URLSearchParams(""),
						params: {"lang":"en","slug":"gradle-cpp"}
					}
				}
			});
		</script>
	</head>
	<body>
		<div id="svelte">






<nav class="svelte-17lil9l"><ul class="svelte-17lil9l"><li class="svelte-1nihsj5"><a href="/langs/en" rel="prefetch" class="svelte-1nihsj5"><img class="logo svelte-17lil9l" src="/favicon.png" alt="Carlos Say&#39;s Bla Bla logo"></a>
</li></ul>
	<ul class="closed svelte-17lil9l"><li class="svelte-1nihsj5"><a href="/langs/en" rel="prefetch" class="svelte-1nihsj5"><span class="siteName">Carlos Say&#39;s Bla Bla</span></a>
</li>
<li class="svelte-1nihsj5"><a href="/langs/en/categories" rel="prefetch" class="svelte-1nihsj5">Categories</a>
</li>
<li class="svelte-1nihsj5"><a href="/langs/en/about" rel="prefetch" class="svelte-1nihsj5">About</a>
</li></ul>
	<div class="h svelte-geb0ta"><a href="/langs/en/feed.xml" target="_blank" class="icon rss svelte-blgowr" title="Subscribe to Carlos Say&#39;s Bla Bla" rel="noopener" aria-label="Subscribe to Carlos Say&#39;s Bla Bla">
</a>
	<a href="https://github.com/carlosvin" target="_blank" class="icon github svelte-blgowr" title="Find me at github" rel="noopener" aria-label="Find me at github">
</a>
	<a href="https://twitter.com/carlosvin" target="_blank" class="icon twitter svelte-blgowr" title="Find me at twitter" rel="noopener" aria-label="Find me at twitter">
</a>
	<a href="https://stackoverflow.com/story/carlosvin" target="_blank" class="icon stackoverflow svelte-blgowr" title="Find me at stackoverflow" rel="noopener" aria-label="Find me at stackoverflow">
</a>
</div>
	<button type="button" class="svelte-17lil9l">≡</button>
</nav>

<main class="svelte-1m42syy">

<header class="svelte-1ikjkmw"><h1 class="svelte-1ikjkmw">Build C++ project with Gradle
<span class="share svelte-1ikjkmw"><a href="https://twitter.com/intent/tweet?url=/langs/en/posts/gradle-cpp&amp;text=Build C++ project with Gradle:&amp;nbsp;How to build a C++ project using Gradle&amp;hashtags=Gradle,C++,Build Software,Build System,Dependency Management" target="_blank" class="icon twitter svelte-blgowr" title="Share &quot;Build C++ project with Gradle&quot;" rel="noopener" aria-label="Share &quot;Build C++ project with Gradle&quot;">
</a></span></h1>
	<p class="summary svelte-1ikjkmw">How to build a C++ project using Gradle</p>
	<div class="subtitle svelte-1s3ascd"><span class="date">27/09/2014</span>
	<span class="tags svelte-ym0wdt"><a href="/langs/en/categories/gradle" title="Gradle" class="svelte-dagte2"><span class="hover svelte-1kmrl92">Gradle
</span>
</a><a href="/langs/en/categories/c" title="C++" class="svelte-dagte2"><span class="hover svelte-1kmrl92">C++
</span>
</a><a href="/langs/en/categories/build-software" title="Build Software" class="svelte-dagte2"><span class="hover svelte-1kmrl92">Build Software
</span>
</a><a href="/langs/en/categories/build-system" title="Build System" class="svelte-dagte2"><span class="hover svelte-1kmrl92">Build System
</span>
</a><a href="/langs/en/categories/dependency-management" title="Dependency Management" class="svelte-dagte2"><span class="hover svelte-1kmrl92">Dependency Management
</span>
</a></span>
</div></header>

<div class="postContent"><!-- HTML_TAG_START --><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_case_study">Case study</a>
<ul class="sectlevel2">
<li><a href="#_project_structure">Project Structure</a></li>
<li><a href="#_c_application">C++ Application</a></li>
<li><a href="#_building_with_gradle">Building with Gradle</a></li>
<li><a href="#_try_it_yourself">Try it yourself</a></li>
</ul>
</li>
<li><a href="#_conclusions">Conclusions</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I am more and more worried about building, dependency management and distribution of my projects. I&#8217;d like to find a tool that unifies those processes with independence of the language. I know several tools which almost fit to what I&#8217;m looking for, like <a href="https://www.scons.org" target="_blank" rel="noopener">SCons</a>, <a href="https://www.gnu.org/software/automake/manual/html_node/Autotools-Introduction.html#Autotools-Introduction" target="_blank" rel="noopener">Autotools</a>, <a href="https://ant.apache.org" target="_blank" rel="noopener">Ant</a>, <a href="https://maven.apache.org" target="_blank" rel="noopener">Maven</a> and lately <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a>.</p>
</div>
<div class="paragraph">
<p>I&#8217;ve made several projects with <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a>, but always they were <a href="https://www.java.com" target="_blank" rel="noopener">Java</a> and <a href="https://developer.android.com/studio/build" target="_blank" rel="noopener">Android</a> projects. <span class="line-through">In <a href="https://www.java.com" target="_blank" rel="noopener">Java</a> projects I&#8217;ve found a <a href="https://maven.apache.org" target="_blank" rel="noopener">Maven</a> replacement, because it is faster, easier and less verbose</span>. <strong>Update 2020</strong>: With the experience, now if I have to pick a build system for a <a href="https://www.java.com" target="_blank" rel="noopener">Java</a> project I&#8217;d pick <a href="https://maven.apache.org" target="_blank" rel="noopener">Maven</a>, especially for a professional project, but it is not the topic of this post.</p>
</div>
<div class="paragraph">
<p>About <a href="https://developer.android.com/studio/build" target="_blank" rel="noopener">Android</a> projects I suffered the early adoption of <a href="https://developer.android.com/sdk/installing/studio-build.html" target="_blank" rel="noopener">Android Studio + Gradle</a>, although currently I think the are more mature and they work fine.</p>
</div>
<div class="paragraph">
<p>First of all, I have to say: building C/C++/Objective-C projects with <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> is in <a href="https://docs.gradle.org/current/userguide/feature_lifecycle.html#sec:incubating_state" target="_blank" rel="noopener">incubation</a> phase, although now we can perform advanced tasks like:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Generation several artifacts within same project (libraries and executables).</p>
</li>
<li>
<p>Dependency management between artifacts (no versions).</p>
</li>
<li>
<p>Different "flavors" of the same software, e.g: we can generate a "Community" release and other one with more enabled features called "Enterprise".</p>
</li>
<li>
<p>It allows multi-platform binary generation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As I said, this plugin is still having limitations although they are working on it: <a href="https://blog.gradle.org/state-and-future-of-the-gradle-software-model#a-way-forward">Gradle C++ roadmap</a>. <span class="line-through">If they achieve it I&#8217;ll leave <a href="https://www.gnu.org/software/automake/manual/html_node/Autotools-Introduction.html#Autotools-Introduction" target="_blank" rel="noopener">Autotools</a> (I&#8217;m going to regret saying that)</span>. <strong>Update 2020</strong>: Actually few years later I am not using <a href="https://www.gnu.org/software/automake/manual/html_node/Autotools-Introduction.html#Autotools-Introduction" target="_blank" rel="noopener">Autotools</a>, neither <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a>, but I am using <a href="https://mesonbuild.com/">Meson</a> and considering <a href="https://docs.bazel.build/versions/master/tutorial/cpp.html">Bazel</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_case_study">Case study</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I&#8217;ve extracted all the case study from <a href="https://docs.gradle.org/current/userguide/native_software.html">Gradle user guide for native software</a>. I&#8217;ve adapted the project to be multi-platform with 2 versions "Community" and "Enterprise".</p>
</div>
<div class="paragraph">
<p>The application consists of an executable and a dynamic library. The executable will use the library.</p>
</div>
<div class="paragraph">
<p><a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> also is able to generate a distributable version and a debug version.</p>
</div>
<div class="paragraph">
<p>You can fork the code on <a href="https://github.com/carlosvin/cpp_gradle" class="bare">https://github.com/carlosvin/cpp_gradle</a>.</p>
</div>
<div class="sect2">
<h3 id="_project_structure">Project Structure</h3>
<div class="paragraph">
<p>We can create whichever directory structure, but it is easier using the proposed by <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a>, if not we&#8217;ll have to specify where the code is located.</p>
</div>
<div class="paragraph">
<p>This is the project structure:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">gradle-cpp</dt>
<dd>
<p>Root directory.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">build.gradle</dt>
<dd>
<p>File where is configured <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> project, it is the equivalent to: build.xml for <a href="https://ant.apache.org" target="_blank" rel="noopener">Ant</a>, <a href="">Makefile</a> for C/C++ or pom.xml for <a href="https://maven.apache.org" target="_blank" rel="noopener">Maven</a>.</p>
</dd>
<dt class="hdlist1">src</dt>
<dd>
<p>Folder where the source code is located.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">hello</dt>
<dd>
<p>This folder contains the module hello. This module will generate hello library.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">cpp</dt>
<dd>
<p>This folder contains C++ source files.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Hello.cpp</dt>
<dd>
<p> File with the implementation of Hello class.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">headers</dt>
<dd>
<p>Folder with header files.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Hello.h</dt>
<dd>
<p>Class Hello declaration.</p>
</dd>
<dt class="hdlist1">Msg.h</dt>
<dd>
<p>File with constants declarations.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">main</dt>
<dd>
<p>This folder contains the module which produces the executable that uses hello library.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">cpp</dt>
<dd>
<p>This folder contains C++ source files.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">main.cpp</dt>
<dd>
<p>Source code of main function.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">build</dt>
<dd>
<p>Folder created automatically by <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> where it leaves all execution results like unit tests reports, compiled files, package distributions, etc.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_c_application">C++ Application</h3>
<div class="paragraph">
<p>It consists of an executable that uses the functionality implemented at <code>hello</code> library.</p>
</div>
<div class="listingblock">
<div class="title">main.cpp</div>
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&quot;Hello.h&quot;</span></span>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> ** argv)</span>
</span>{
    <span class="hljs-function">Hello <span class="hljs-title">hello</span> <span class="hljs-params">(<span class="hljs-string">&quot;Pepito&quot;</span>)</span></span>;
    hello.<span class="hljs-built_in">sayHello</span>(<span class="hljs-number">10</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>hello</code> library allows greet <code>n</code> <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> times to someone who is passed as argument to constructor class.</p>
</div>
<div class="listingblock">
<div class="title">Hello.h</div>
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hello</span>
{</span>
    <span class="hljs-keyword">private</span>:
        <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> * who;
    <span class="hljs-keyword">public</span>:
        <span class="hljs-built_in">Hello</span>(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> * who);
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sayHello</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> n = <span class="hljs-number">1</span>)</span></span>;
};</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_building_with_gradle">Building with <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a></h3>
<div class="sect3">
<h4 id="_base_case">Base case</h4>
<div class="paragraph">
<p>The only we need to build the application with <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> is: having <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a><sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> and the file <code>build.gradle</code>.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">apply <span class="hljs-attr">plugin:</span> <span class="hljs-string">&#x27;cpp&#x27;</span>

model {
  components {
    hello(NativeLibrarySpec) {}
    main(NativeExecutableSpec) {
      binaries.all {
        lib <span class="hljs-attr">library:</span> <span class="hljs-string">&quot;hello&quot;</span>
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With this simple file, we&#8217;ll be able to compile and install the application in Debug mode for the platform where we are executing <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> (in my case X64).</p>
</div>
<div class="paragraph">
<p>If we execute <code>gradle task</code> from the root of the project, we&#8217;ll get all the tasks we can do with <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a>.</p>
</div>
<div class="paragraph">
<p>In our case, we just want our compiled application ready to run, so we have to execute: <code>gradle installMainExecutable</code>.</p>
</div>
<div class="paragraph">
<p>Once execution has finished, we can run the program calling to `build/install/mainExecutable/main`<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup>.</p>
</div>
<div class="listingblock">
<div class="title">Output</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ build/install/mainExecutable/main
1.  Hello Mr. Pepito (Community)
2.  Hello Mr. Pepito (Community)
3.  Hello Mr. Pepito (Community)
4.  Hello Mr. Pepito (Community)
5.  Hello Mr. Pepito (Community)
6.  Hello Mr. Pepito (Community)
7.  Hello Mr. Pepito (Community)
8.  Hello Mr. Pepito (Community)
9.  Hello Mr. Pepito (Community)
10. Hello Mr. Pepito (Community)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_different_flavors">Different "Flavors"</h4>
<div class="paragraph">
<p>With a few lines more we can generate different versions of same application. In our example we are going to build "Community" and "Enterprise" flavors.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">apply <span class="hljs-attr">plugin:</span> <span class="hljs-string">&#x27;cpp&#x27;</span>

model {
  flavors {
      community
      enterprise
  }

  components {
    hello(NativeLibrarySpec) {
      binaries.all {
        <span class="hljs-keyword">if</span> (flavor == flavors.enterprise) {
          cppCompiler.define <span class="hljs-string">&quot;ENTERPRISE&quot;</span>
        }
      }
    }
    main(NativeExecutableSpec) {
      binaries.all {
        lib <span class="hljs-attr">library:</span> <span class="hljs-string">&quot;hello&quot;</span>
        }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We also have to prepare our application to use compilation parameters.</p>
</div>
<div class="listingblock">
<div class="title">Msg.h</div>
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> ENTERPRISE</span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> * EDITION = <span class="hljs-string">&quot;Enterprise&quot;</span>;

<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> * EDITION = <span class="hljs-string">&quot;Community&quot;</span>;

<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this way it selects a string depending on used flavor.</p>
</div>
<div class="paragraph">
<p>If we execute <code>gradle clean task</code> in the root folder, we&#8217;ll get more available tasks. Before, we had <code>installMainExecutable</code> which has been replaced by <code>installCommunityMainExecutable</code> and <code>installEnterpriseMainExecutable</code>.</p>
</div>
<div class="paragraph">
<p>If we execute both tasks, we&#8217;ll get the application installed in both flavors:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"><span class="hljs-variable">$gradle</span> installEnterpriseMainExecutable installCommunityMainExecutable

:compileEnterpriseHelloSharedLibraryHelloCpp
:linkEnterpriseHelloSharedLibrary
:enterpriseHelloSharedLibrary
:compileEnterpriseMainExecutableMainCpp
:linkEnterpriseMainExecutable
:enterpriseMainExecutable
:installEnterpriseMainExecutable
:compileCommunityHelloSharedLibraryHelloCpp
:linkCommunityHelloSharedLibrary
:communityHelloSharedLibrary
:compileCommunityMainExecutableMainCpp
:linkCommunityMainExecutable
:communityMainExecutable
:installCommunityMainExecutable

BUILD SUCCESSFUL
Total time: 9.414 secs</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we can run the application in both flavors:</p>
</div>
<div class="listingblock">
<div class="title">Community</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ build/install/mainExecutable/community/main
1.      Hello Mr. Pepito        (Community)
2.      Hello Mr. Pepito        (Community)
3.      Hello Mr. Pepito        (Community)
4.      Hello Mr. Pepito        (Community)
5.      Hello Mr. Pepito        (Community)
6.      Hello Mr. Pepito        (Community)
7.      Hello Mr. Pepito        (Community)
8.      Hello Mr. Pepito        (Community)
9.      Hello Mr. Pepito        (Community)
10.     Hello Mr. Pepito        (Community)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Enterprise</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ build/install/mainExecutable/enterprise/main
1.      Hello Mr. Pepito        (Enterprise)
2.      Hello Mr. Pepito        (Enterprise)
3.      Hello Mr. Pepito        (Enterprise)
4.      Hello Mr. Pepito        (Enterprise)
5.      Hello Mr. Pepito        (Enterprise)
6.      Hello Mr. Pepito        (Enterprise)
7.      Hello Mr. Pepito        (Enterprise)
8.      Hello Mr. Pepito        (Enterprise)
9.      Hello Mr. Pepito        (Enterprise)
10.     Hello Mr. Pepito        (Enterprise)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_release_or_debug">Release or Debug</h4>
<div class="paragraph">
<p>By default <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> compiles in Debug mode, but we can add the Release mode which enables several optimizations and remove debug flags<sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup>.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">apply <span class="hljs-attr">plugin:</span> <span class="hljs-string">&#x27;cpp&#x27;</span>
model {
    buildTypes {
        debug
        release
    }
<span class="hljs-comment">// ... the rest of file below doesn&#x27;t change</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If we execute <code>gradle clean task</code> we will get more tasks, they have been split, for example <code>installCommunityMainExecutable</code> has been split in <code>installDebugCommunityMainExecutable</code> and <code>installReleaseCommunityMainExecutable</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_multi_platform">Multi-platform</h4>
<div class="paragraph">
<p>Also we can use cross-compiling features provided by compilers and generate native components for other platforms. To do so we just have to add the supported platforms.</p>
</div>
<div class="paragraph">
<p>This only works if we have installed the <a href="https://en.wikipedia.org/wiki/Toolchain" target="_blank" rel="noopener">Toolchain</a> for the target platform.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">apply <span class="hljs-attr">plugin:</span> <span class="hljs-string">&#x27;cpp&#x27;</span>

model {
  buildTypes {
    debug
    release
  }

  platforms {
    x86 {
      architecture <span class="hljs-string">&quot;x86&quot;</span>
    }
    x64 {
      architecture <span class="hljs-string">&quot;x86_64&quot;</span>
    }
    itanium {
      architecture <span class="hljs-string">&quot;ia-64&quot;</span>
    }
  }

  flavors {
    community
    enterprise
  }

  components {
    hello(NativeLibrarySpec) {
      binaries.all {
        <span class="hljs-keyword">if</span> (flavor == flavors.enterprise) {
          cppCompiler.define <span class="hljs-string">&quot;ENTERPRISE&quot;</span>
        }
      }
    }
    main(NativeExecutableSpec) {
      binaries.all {
        lib <span class="hljs-attr">library:</span> <span class="hljs-string">&quot;hello&quot;</span>
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When execute <code>gradle clean task</code> we get the different build options we have.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In this example, we can build different versions of the application in different flavors for different platforms in Debug or Release mode.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_try_it_yourself">Try it yourself</h3>
<div class="paragraph">
<p>You can find the project at <a href="https://github.com/carlosvin/cpp_gradle" class="bare">https://github.com/carlosvin/cpp_gradle</a>.</p>
</div>
<div class="paragraph">
<p>Requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.java.com" target="_blank" rel="noopener">Java</a> 6 or higher.</p>
</li>
<li>
<p>An installed compiler (e.g <a href="">GCC</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You just have to follow next steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>git clone <a href="mailto:git@github.com">git@github.com</a>:carlosvin/cpp_gradle.git</code></p>
</li>
<li>
<p><code>cd cpp_gradle</code></p>
</li>
<li>
<p><code>./gradlew task</code> or <code>./gradlew.bat task</code> if you are in Windows. In this way you&#8217;ll see available tasks for this project. The first execution will take more time, because it downloads <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> runtime.</p>
</li>
<li>
<p>If you are in a 64 bits platform, you can use this command to install the application: <code>./gradlew installX64ReleaseEnterpriseMainExecutable</code>.</p>
</li>
<li>
<p>Run the application you just built: <code>build/install/mainExecutable/x64ReleaseEnterprise/main</code>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusions">Conclusions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With a tiny configuration file, we have many different build combinations.</p>
</div>
<div class="paragraph">
<p><a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> for C++ has a promising future, I hope it follows the steps of <a href="https://www.java.com" target="_blank" rel="noopener">Java</a> and <a href="https://developer.android.com/studio/build" target="_blank" rel="noopener">Android</a> support.</p>
</div>
<div class="paragraph">
<p>It is well supported by continuous integration systems.</p>
</div>
<div class="paragraph">
<p>It has many plugins and features.</p>
</div>
<div class="paragraph">
<p><a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> for C++ is a feature under development, we have to be careful:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Don&#8217;t use it in production environments.</p>
</li>
<li>
<p>Many things can change or disappear.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The full example is on <a href="https://github.com/carlosvin/cpp_gradle" class="bare">https://github.com/carlosvin/cpp_gradle</a>. I recommend you to <a href="#_try_it_yourself">Try it yourself</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you find any issue in this example, please write a comment, open a defect or fix it yourself at <a href="https://github.com/carlosvin/cpp_gradle" class="bare">https://github.com/carlosvin/cpp_gradle</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>More info at <a href="https://docs.gradle.org/current/userguide/native_software.html">Getting Started Gradle Native</a>.</p>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. 'n' Positive integer
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. Actually <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> is not required if we use the "wrapper", but we aren&#8217;t going to explain it here, <a href="https://docs.gradle.org/current/userguide/gradle_wrapper.html">here you can get more info about Gradle Wrapper</a>.
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. .bat in Windows. Without extension in Linux
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. We can also specify/modify which optimizations to apply.
</div>
</div><!-- HTML_TAG_END -->
	<div class="comments"><script src="https://utteranc.es/client.js" repo="carlosvin/carlosvin.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script></div>
	
	<a href="/posts/gradle-cpp/en"></a>
	
	<a href="/posts/gradle-cpp"></a>
</div>
</main>



	<script type="application/json" data-type="svelte-data" data-url="/langs/en/posts/gradle-cpp.json">{"status":200,"statusText":"","headers":{"content-type":"application/json; charset=utf-8"},"body":"{\"html\":\"\u003Cdiv id=\\\"toc\\\" class=\\\"toc\\\"\u003E\\n\u003Cdiv id=\\\"toctitle\\\"\u003ETable of Contents\u003C\u002Fdiv\u003E\\n\u003Cul class=\\\"sectlevel1\\\"\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_introduction\\\"\u003EIntroduction\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_case_study\\\"\u003ECase study\u003C\u002Fa\u003E\\n\u003Cul class=\\\"sectlevel2\\\"\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_project_structure\\\"\u003EProject Structure\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_c_application\\\"\u003EC++ Application\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_building_with_gradle\\\"\u003EBuilding with Gradle\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_try_it_yourself\\\"\u003ETry it yourself\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_conclusions\\\"\u003EConclusions\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect1\\\"\u003E\\n\u003Ch2 id=\\\"_introduction\\\"\u003EIntroduction\u003C\u002Fh2\u003E\\n\u003Cdiv class=\\\"sectionbody\\\"\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EI am more and more worried about building, dependency management and distribution of my projects. I&#8217;d like to find a tool that unifies those processes with independence of the language. I know several tools which almost fit to what I&#8217;m looking for, like \u003Ca href=\\\"https:\u002F\u002Fwww.scons.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ESCons\u003C\u002Fa\u003E, \u003Ca href=\\\"https:\u002F\u002Fwww.gnu.org\u002Fsoftware\u002Fautomake\u002Fmanual\u002Fhtml_node\u002FAutotools-Introduction.html#Autotools-Introduction\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAutotools\u003C\u002Fa\u003E, \u003Ca href=\\\"https:\u002F\u002Fant.apache.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAnt\u003C\u002Fa\u003E, \u003Ca href=\\\"https:\u002F\u002Fmaven.apache.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaven\u003C\u002Fa\u003E and lately \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EI&#8217;ve made several projects with \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E, but always they were \u003Ca href=\\\"https:\u002F\u002Fwww.java.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EJava\u003C\u002Fa\u003E and \u003Ca href=\\\"https:\u002F\u002Fdeveloper.android.com\u002Fstudio\u002Fbuild\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAndroid\u003C\u002Fa\u003E projects. \u003Cspan class=\\\"line-through\\\"\u003EIn \u003Ca href=\\\"https:\u002F\u002Fwww.java.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EJava\u003C\u002Fa\u003E projects I&#8217;ve found a \u003Ca href=\\\"https:\u002F\u002Fmaven.apache.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaven\u003C\u002Fa\u003E replacement, because it is faster, easier and less verbose\u003C\u002Fspan\u003E. \u003Cstrong\u003EUpdate 2020\u003C\u002Fstrong\u003E: With the experience, now if I have to pick a build system for a \u003Ca href=\\\"https:\u002F\u002Fwww.java.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EJava\u003C\u002Fa\u003E project I&#8217;d pick \u003Ca href=\\\"https:\u002F\u002Fmaven.apache.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaven\u003C\u002Fa\u003E, especially for a professional project, but it is not the topic of this post.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EAbout \u003Ca href=\\\"https:\u002F\u002Fdeveloper.android.com\u002Fstudio\u002Fbuild\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAndroid\u003C\u002Fa\u003E projects I suffered the early adoption of \u003Ca href=\\\"https:\u002F\u002Fdeveloper.android.com\u002Fsdk\u002Finstalling\u002Fstudio-build.html\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAndroid Studio + Gradle\u003C\u002Fa\u003E, although currently I think the are more mature and they work fine.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EFirst of all, I have to say: building C\u002FC++\u002FObjective-C projects with \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E is in \u003Ca href=\\\"https:\u002F\u002Fdocs.gradle.org\u002Fcurrent\u002Fuserguide\u002Ffeature_lifecycle.html#sec:incubating_state\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003Eincubation\u003C\u002Fa\u003E phase, although now we can perform advanced tasks like:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EGeneration several artifacts within same project (libraries and executables).\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EDependency management between artifacts (no versions).\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EDifferent \\\"flavors\\\" of the same software, e.g: we can generate a \\\"Community\\\" release and other one with more enabled features called \\\"Enterprise\\\".\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EIt allows multi-platform binary generation.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EAs I said, this plugin is still having limitations although they are working on it: \u003Ca href=\\\"https:\u002F\u002Fblog.gradle.org\u002Fstate-and-future-of-the-gradle-software-model#a-way-forward\\\"\u003EGradle C++ roadmap\u003C\u002Fa\u003E. \u003Cspan class=\\\"line-through\\\"\u003EIf they achieve it I&#8217;ll leave \u003Ca href=\\\"https:\u002F\u002Fwww.gnu.org\u002Fsoftware\u002Fautomake\u002Fmanual\u002Fhtml_node\u002FAutotools-Introduction.html#Autotools-Introduction\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAutotools\u003C\u002Fa\u003E (I&#8217;m going to regret saying that)\u003C\u002Fspan\u003E. \u003Cstrong\u003EUpdate 2020\u003C\u002Fstrong\u003E: Actually few years later I am not using \u003Ca href=\\\"https:\u002F\u002Fwww.gnu.org\u002Fsoftware\u002Fautomake\u002Fmanual\u002Fhtml_node\u002FAutotools-Introduction.html#Autotools-Introduction\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAutotools\u003C\u002Fa\u003E, neither \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E, but I am using \u003Ca href=\\\"https:\u002F\u002Fmesonbuild.com\u002F\\\"\u003EMeson\u003C\u002Fa\u003E and considering \u003Ca href=\\\"https:\u002F\u002Fdocs.bazel.build\u002Fversions\u002Fmaster\u002Ftutorial\u002Fcpp.html\\\"\u003EBazel\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect1\\\"\u003E\\n\u003Ch2 id=\\\"_case_study\\\"\u003ECase study\u003C\u002Fh2\u003E\\n\u003Cdiv class=\\\"sectionbody\\\"\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EI&#8217;ve extracted all the case study from \u003Ca href=\\\"https:\u002F\u002Fdocs.gradle.org\u002Fcurrent\u002Fuserguide\u002Fnative_software.html\\\"\u003EGradle user guide for native software\u003C\u002Fa\u003E. I&#8217;ve adapted the project to be multi-platform with 2 versions \\\"Community\\\" and \\\"Enterprise\\\".\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EThe application consists of an executable and a dynamic library. The executable will use the library.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E also is able to generate a distributable version and a debug version.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EYou can fork the code on \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\\\" class=\\\"bare\\\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_project_structure\\\"\u003EProject Structure\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EWe can create whichever directory structure, but it is easier using the proposed by \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E, if not we&#8217;ll have to specify where the code is located.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EThis is the project structure:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"dlist\\\"\u003E\\n\u003Cdl\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Egradle-cpp\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003ERoot directory.\u003C\u002Fp\u003E\\n\u003Cdiv class=\\\"dlist\\\"\u003E\\n\u003Cdl\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Ebuild.gradle\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003EFile where is configured \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E project, it is the equivalent to: build.xml for \u003Ca href=\\\"https:\u002F\u002Fant.apache.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAnt\u003C\u002Fa\u003E, \u003Ca href=\\\"\\\"\u003EMakefile\u003C\u002Fa\u003E for C\u002FC++ or pom.xml for \u003Ca href=\\\"https:\u002F\u002Fmaven.apache.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaven\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdd\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Esrc\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003EFolder where the source code is located.\u003C\u002Fp\u003E\\n\u003C\u002Fdd\u003E\\n\u003C\u002Fdl\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdd\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Ehello\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003EThis folder contains the module hello. This module will generate hello library.\u003C\u002Fp\u003E\\n\u003Cdiv class=\\\"dlist\\\"\u003E\\n\u003Cdl\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Ecpp\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003EThis folder contains C++ source files.\u003C\u002Fp\u003E\\n\u003Cdiv class=\\\"dlist\\\"\u003E\\n\u003Cdl\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003EHello.cpp\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003E File with the implementation of Hello class.\u003C\u002Fp\u003E\\n\u003C\u002Fdd\u003E\\n\u003C\u002Fdl\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdd\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Eheaders\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003EFolder with header files.\u003C\u002Fp\u003E\\n\u003Cdiv class=\\\"dlist\\\"\u003E\\n\u003Cdl\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003EHello.h\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003EClass Hello declaration.\u003C\u002Fp\u003E\\n\u003C\u002Fdd\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003EMsg.h\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003EFile with constants declarations.\u003C\u002Fp\u003E\\n\u003C\u002Fdd\u003E\\n\u003C\u002Fdl\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdd\u003E\\n\u003C\u002Fdl\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdd\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Emain\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003EThis folder contains the module which produces the executable that uses hello library.\u003C\u002Fp\u003E\\n\u003Cdiv class=\\\"dlist\\\"\u003E\\n\u003Cdl\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Ecpp\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003EThis folder contains C++ source files.\u003C\u002Fp\u003E\\n\u003Cdiv class=\\\"dlist\\\"\u003E\\n\u003Cdl\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Emain.cpp\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003ESource code of main function.\u003C\u002Fp\u003E\\n\u003C\u002Fdd\u003E\\n\u003C\u002Fdl\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdd\u003E\\n\u003C\u002Fdl\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdd\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Ebuild\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003EFolder created automatically by \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E where it leaves all execution results like unit tests reports, compiled files, package distributions, etc.\u003C\u002Fp\u003E\\n\u003C\u002Fdd\u003E\\n\u003C\u002Fdl\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_c_application\\\"\u003EC++ Application\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EIt consists of an executable that uses the functionality implemented at \u003Ccode\u003Ehello\u003C\u002Fcode\u003E library.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003Emain.cpp\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-cpp\\\" data-lang=\\\"cpp\\\"\u003E\u003Cspan class=\\\"hljs-meta\\\"\u003E#\u003Cspan class=\\\"hljs-meta-keyword\\\"\u003Einclude\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-meta-string\\\"\u003E&quot;Hello.h&quot;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-function\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title\\\"\u003Emain\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-params\\\"\u003E(\u003Cspan class=\\\"hljs-keyword\\\"\u003Eint\u003C\u002Fspan\u003E argc, \u003Cspan class=\\\"hljs-keyword\\\"\u003Echar\u003C\u002Fspan\u003E ** argv)\u003C\u002Fspan\u003E\\n\u003C\u002Fspan\u003E{\\n    \u003Cspan class=\\\"hljs-function\\\"\u003EHello \u003Cspan class=\\\"hljs-title\\\"\u003Ehello\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-params\\\"\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E&quot;Pepito&quot;\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E;\\n    hello.\u003Cspan class=\\\"hljs-built_in\\\"\u003EsayHello\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-number\\\"\u003E10\u003C\u002Fspan\u003E);\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E;\\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003E\u003Ccode\u003Ehello\u003C\u002Fcode\u003E library allows greet \u003Ccode\u003En\u003C\u002Fcode\u003E \u003Csup class=\\\"footnote\\\"\u003E[\u003Ca id=\\\"_footnoteref_1\\\" class=\\\"footnote\\\" href=\\\"#_footnotedef_1\\\" title=\\\"View footnote.\\\"\u003E1\u003C\u002Fa\u003E]\u003C\u002Fsup\u003E times to someone who is passed as argument to constructor class.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003EHello.h\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-cpp\\\" data-lang=\\\"cpp\\\"\u003E\u003Cspan class=\\\"hljs-class\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title\\\"\u003EHello\u003C\u002Fspan\u003E\\n{\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Eprivate\u003C\u002Fspan\u003E:\\n        \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Echar\u003C\u002Fspan\u003E * who;\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Epublic\u003C\u002Fspan\u003E:\\n        \u003Cspan class=\\\"hljs-built_in\\\"\u003EHello\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Echar\u003C\u002Fspan\u003E * who);\\n        \u003Cspan class=\\\"hljs-function\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title\\\"\u003EsayHello\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-params\\\"\u003E(\u003Cspan class=\\\"hljs-keyword\\\"\u003Eunsigned\u003C\u002Fspan\u003E n = \u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E;\\n};\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_building_with_gradle\\\"\u003EBuilding with \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"sect3\\\"\u003E\\n\u003Ch4 id=\\\"_base_case\\\"\u003EBase case\u003C\u002Fh4\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EThe only we need to build the application with \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E is: having \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E\u003Csup class=\\\"footnote\\\"\u003E[\u003Ca id=\\\"_footnoteref_2\\\" class=\\\"footnote\\\" href=\\\"#_footnotedef_2\\\" title=\\\"View footnote.\\\"\u003E2\u003C\u002Fa\u003E]\u003C\u002Fsup\u003E and the file \u003Ccode\u003Ebuild.gradle\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003Ebuild.gradle\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-groovy\\\" data-lang=\\\"groovy\\\"\u003Eapply \u003Cspan class=\\\"hljs-attr\\\"\u003Eplugin:\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;cpp&#x27;\u003C\u002Fspan\u003E\\n\\nmodel {\\n  components {\\n    hello(NativeLibrarySpec) {}\\n    main(NativeExecutableSpec) {\\n      binaries.all {\\n        lib \u003Cspan class=\\\"hljs-attr\\\"\u003Elibrary:\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;hello&quot;\u003C\u002Fspan\u003E\\n      }\\n    }\\n  }\\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EWith this simple file, we&#8217;ll be able to compile and install the application in Debug mode for the platform where we are executing \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E (in my case X64).\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EIf we execute \u003Ccode\u003Egradle task\u003C\u002Fcode\u003E from the root of the project, we&#8217;ll get all the tasks we can do with \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EIn our case, we just want our compiled application ready to run, so we have to execute: \u003Ccode\u003Egradle installMainExecutable\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EOnce execution has finished, we can run the program calling to `build\u002Finstall\u002FmainExecutable\u002Fmain`\u003Csup class=\\\"footnote\\\"\u003E[\u003Ca id=\\\"_footnoteref_3\\\" class=\\\"footnote\\\" href=\\\"#_footnotedef_3\\\" title=\\\"View footnote.\\\"\u003E3\u003C\u002Fa\u003E]\u003C\u002Fsup\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003EOutput\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-bash\\\" data-lang=\\\"bash\\\"\u003E$ build\u002Finstall\u002FmainExecutable\u002Fmain\\n1.  Hello Mr. Pepito (Community)\\n2.  Hello Mr. Pepito (Community)\\n3.  Hello Mr. Pepito (Community)\\n4.  Hello Mr. Pepito (Community)\\n5.  Hello Mr. Pepito (Community)\\n6.  Hello Mr. Pepito (Community)\\n7.  Hello Mr. Pepito (Community)\\n8.  Hello Mr. Pepito (Community)\\n9.  Hello Mr. Pepito (Community)\\n10. Hello Mr. Pepito (Community)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect3\\\"\u003E\\n\u003Ch4 id=\\\"_different_flavors\\\"\u003EDifferent \\\"Flavors\\\"\u003C\u002Fh4\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EWith a few lines more we can generate different versions of same application. In our example we are going to build \\\"Community\\\" and \\\"Enterprise\\\" flavors.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003Ebuild.gradle\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-groovy\\\" data-lang=\\\"groovy\\\"\u003Eapply \u003Cspan class=\\\"hljs-attr\\\"\u003Eplugin:\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;cpp&#x27;\u003C\u002Fspan\u003E\\n\\nmodel {\\n  flavors {\\n      community\\n      enterprise\\n  }\\n\\n  components {\\n    hello(NativeLibrarySpec) {\\n      binaries.all {\\n        \u003Cspan class=\\\"hljs-keyword\\\"\u003Eif\u003C\u002Fspan\u003E (flavor == flavors.enterprise) {\\n          cppCompiler.define \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;ENTERPRISE&quot;\u003C\u002Fspan\u003E\\n        }\\n      }\\n    }\\n    main(NativeExecutableSpec) {\\n      binaries.all {\\n        lib \u003Cspan class=\\\"hljs-attr\\\"\u003Elibrary:\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;hello&quot;\u003C\u002Fspan\u003E\\n        }\\n    }\\n  }\\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EWe also have to prepare our application to use compilation parameters.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003EMsg.h\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-cpp\\\" data-lang=\\\"cpp\\\"\u003E\u003Cspan class=\\\"hljs-meta\\\"\u003E#\u003Cspan class=\\\"hljs-meta-keyword\\\"\u003Eifdef\u003C\u002Fspan\u003E ENTERPRISE\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-keyword\\\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Echar\u003C\u002Fspan\u003E * EDITION = \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;Enterprise&quot;\u003C\u002Fspan\u003E;\\n\\n\u003Cspan class=\\\"hljs-meta\\\"\u003E#\u003Cspan class=\\\"hljs-meta-keyword\\\"\u003Eelse\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-keyword\\\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Echar\u003C\u002Fspan\u003E * EDITION = \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;Community&quot;\u003C\u002Fspan\u003E;\\n\\n\u003Cspan class=\\\"hljs-meta\\\"\u003E#\u003Cspan class=\\\"hljs-meta-keyword\\\"\u003Eendif\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EIn this way it selects a string depending on used flavor.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EIf we execute \u003Ccode\u003Egradle clean task\u003C\u002Fcode\u003E in the root folder, we&#8217;ll get more available tasks. Before, we had \u003Ccode\u003EinstallMainExecutable\u003C\u002Fcode\u003E which has been replaced by \u003Ccode\u003EinstallCommunityMainExecutable\u003C\u002Fcode\u003E and \u003Ccode\u003EinstallEnterpriseMainExecutable\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EIf we execute both tasks, we&#8217;ll get the application installed in both flavors:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-bash\\\" data-lang=\\\"bash\\\"\u003E\u003Cspan class=\\\"hljs-variable\\\"\u003E$gradle\u003C\u002Fspan\u003E installEnterpriseMainExecutable installCommunityMainExecutable\\n\\n:compileEnterpriseHelloSharedLibraryHelloCpp\\n:linkEnterpriseHelloSharedLibrary\\n:enterpriseHelloSharedLibrary\\n:compileEnterpriseMainExecutableMainCpp\\n:linkEnterpriseMainExecutable\\n:enterpriseMainExecutable\\n:installEnterpriseMainExecutable\\n:compileCommunityHelloSharedLibraryHelloCpp\\n:linkCommunityHelloSharedLibrary\\n:communityHelloSharedLibrary\\n:compileCommunityMainExecutableMainCpp\\n:linkCommunityMainExecutable\\n:communityMainExecutable\\n:installCommunityMainExecutable\\n\\nBUILD SUCCESSFUL\\nTotal time: 9.414 secs\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ENow we can run the application in both flavors:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003ECommunity\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-bash\\\" data-lang=\\\"bash\\\"\u003E$ build\u002Finstall\u002FmainExecutable\u002Fcommunity\u002Fmain\\n1.      Hello Mr. Pepito        (Community)\\n2.      Hello Mr. Pepito        (Community)\\n3.      Hello Mr. Pepito        (Community)\\n4.      Hello Mr. Pepito        (Community)\\n5.      Hello Mr. Pepito        (Community)\\n6.      Hello Mr. Pepito        (Community)\\n7.      Hello Mr. Pepito        (Community)\\n8.      Hello Mr. Pepito        (Community)\\n9.      Hello Mr. Pepito        (Community)\\n10.     Hello Mr. Pepito        (Community)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003EEnterprise\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-bash\\\" data-lang=\\\"bash\\\"\u003E$ build\u002Finstall\u002FmainExecutable\u002Fenterprise\u002Fmain\\n1.      Hello Mr. Pepito        (Enterprise)\\n2.      Hello Mr. Pepito        (Enterprise)\\n3.      Hello Mr. Pepito        (Enterprise)\\n4.      Hello Mr. Pepito        (Enterprise)\\n5.      Hello Mr. Pepito        (Enterprise)\\n6.      Hello Mr. Pepito        (Enterprise)\\n7.      Hello Mr. Pepito        (Enterprise)\\n8.      Hello Mr. Pepito        (Enterprise)\\n9.      Hello Mr. Pepito        (Enterprise)\\n10.     Hello Mr. Pepito        (Enterprise)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect3\\\"\u003E\\n\u003Ch4 id=\\\"_release_or_debug\\\"\u003ERelease or Debug\u003C\u002Fh4\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EBy default \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E compiles in Debug mode, but we can add the Release mode which enables several optimizations and remove debug flags\u003Csup class=\\\"footnote\\\"\u003E[\u003Ca id=\\\"_footnoteref_4\\\" class=\\\"footnote\\\" href=\\\"#_footnotedef_4\\\" title=\\\"View footnote.\\\"\u003E4\u003C\u002Fa\u003E]\u003C\u002Fsup\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003Ebuild.gradle\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-groovy\\\" data-lang=\\\"groovy\\\"\u003Eapply \u003Cspan class=\\\"hljs-attr\\\"\u003Eplugin:\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;cpp&#x27;\u003C\u002Fspan\u003E\\nmodel {\\n    buildTypes {\\n        debug\\n        release\\n    }\\n\u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002F ... the rest of file below doesn&#x27;t change\u003C\u002Fspan\u003E\\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EIf we execute \u003Ccode\u003Egradle clean task\u003C\u002Fcode\u003E we will get more tasks, they have been split, for example \u003Ccode\u003EinstallCommunityMainExecutable\u003C\u002Fcode\u003E has been split in \u003Ccode\u003EinstallDebugCommunityMainExecutable\u003C\u002Fcode\u003E and \u003Ccode\u003EinstallReleaseCommunityMainExecutable\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect3\\\"\u003E\\n\u003Ch4 id=\\\"_multi_platform\\\"\u003EMulti-platform\u003C\u002Fh4\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EAlso we can use cross-compiling features provided by compilers and generate native components for other platforms. To do so we just have to add the supported platforms.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EThis only works if we have installed the \u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FToolchain\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EToolchain\u003C\u002Fa\u003E for the target platform.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003Ebuild.gradle\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-groovy\\\" data-lang=\\\"groovy\\\"\u003Eapply \u003Cspan class=\\\"hljs-attr\\\"\u003Eplugin:\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;cpp&#x27;\u003C\u002Fspan\u003E\\n\\nmodel {\\n  buildTypes {\\n    debug\\n    release\\n  }\\n\\n  platforms {\\n    x86 {\\n      architecture \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;x86&quot;\u003C\u002Fspan\u003E\\n    }\\n    x64 {\\n      architecture \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;x86_64&quot;\u003C\u002Fspan\u003E\\n    }\\n    itanium {\\n      architecture \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;ia-64&quot;\u003C\u002Fspan\u003E\\n    }\\n  }\\n\\n  flavors {\\n    community\\n    enterprise\\n  }\\n\\n  components {\\n    hello(NativeLibrarySpec) {\\n      binaries.all {\\n        \u003Cspan class=\\\"hljs-keyword\\\"\u003Eif\u003C\u002Fspan\u003E (flavor == flavors.enterprise) {\\n          cppCompiler.define \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;ENTERPRISE&quot;\u003C\u002Fspan\u003E\\n        }\\n      }\\n    }\\n    main(NativeExecutableSpec) {\\n      binaries.all {\\n        lib \u003Cspan class=\\\"hljs-attr\\\"\u003Elibrary:\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;hello&quot;\u003C\u002Fspan\u003E\\n      }\\n    }\\n  }\\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EWhen execute \u003Ccode\u003Egradle clean task\u003C\u002Fcode\u003E we get the different build options we have.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"admonitionblock note\\\"\u003E\\n\u003Ctable\u003E\\n\u003Ctr\u003E\\n\u003Ctd class=\\\"icon\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003ENote\u003C\u002Fdiv\u003E\\n\u003C\u002Ftd\u003E\\n\u003Ctd class=\\\"content\\\"\u003E\\nIn this example, we can build different versions of the application in different flavors for different platforms in Debug or Release mode.\\n\u003C\u002Ftd\u003E\\n\u003C\u002Ftr\u003E\\n\u003C\u002Ftable\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_try_it_yourself\\\"\u003ETry it yourself\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EYou can find the project at \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\\\" class=\\\"bare\\\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ERequirements:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fwww.java.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EJava\u003C\u002Fa\u003E 6 or higher.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EAn installed compiler (e.g \u003Ca href=\\\"\\\"\u003EGCC\u003C\u002Fa\u003E)\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EYou just have to follow next steps:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"olist arabic\\\"\u003E\\n\u003Col class=\\\"arabic\\\"\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ccode\u003Egit clone \u003Ca href=\\\"mailto:git@github.com\\\"\u003Egit@github.com\u003C\u002Fa\u003E:carlosvin\u002Fcpp_gradle.git\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ccode\u003Ecd cpp_gradle\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ccode\u003E.\u002Fgradlew task\u003C\u002Fcode\u003E or \u003Ccode\u003E.\u002Fgradlew.bat task\u003C\u002Fcode\u003E if you are in Windows. In this way you&#8217;ll see available tasks for this project. The first execution will take more time, because it downloads \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E runtime.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EIf you are in a 64 bits platform, you can use this command to install the application: \u003Ccode\u003E.\u002Fgradlew installX64ReleaseEnterpriseMainExecutable\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003ERun the application you just built: \u003Ccode\u003Ebuild\u002Finstall\u002FmainExecutable\u002Fx64ReleaseEnterprise\u002Fmain\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Fol\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect1\\\"\u003E\\n\u003Ch2 id=\\\"_conclusions\\\"\u003EConclusions\u003C\u002Fh2\u003E\\n\u003Cdiv class=\\\"sectionbody\\\"\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EWith a tiny configuration file, we have many different build combinations.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E for C++ has a promising future, I hope it follows the steps of \u003Ca href=\\\"https:\u002F\u002Fwww.java.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EJava\u003C\u002Fa\u003E and \u003Ca href=\\\"https:\u002F\u002Fdeveloper.android.com\u002Fstudio\u002Fbuild\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAndroid\u003C\u002Fa\u003E support.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EIt is well supported by continuous integration systems.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EIt has many plugins and features.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E for C++ is a feature under development, we have to be careful:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EDon&#8217;t use it in production environments.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EMany things can change or disappear.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EThe full example is on \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\\\" class=\\\"bare\\\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\u003C\u002Fa\u003E. I recommend you to \u003Ca href=\\\"#_try_it_yourself\\\"\u003ETry it yourself\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"admonitionblock note\\\"\u003E\\n\u003Ctable\u003E\\n\u003Ctr\u003E\\n\u003Ctd class=\\\"icon\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003ENote\u003C\u002Fdiv\u003E\\n\u003C\u002Ftd\u003E\\n\u003Ctd class=\\\"content\\\"\u003E\\nIf you find any issue in this example, please write a comment, open a defect or fix it yourself at \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\\\" class=\\\"bare\\\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\u003C\u002Fa\u003E\\n\u003C\u002Ftd\u003E\\n\u003C\u002Ftr\u003E\\n\u003C\u002Ftable\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EMore info at \u003Ca href=\\\"https:\u002F\u002Fdocs.gradle.org\u002Fcurrent\u002Fuserguide\u002Fnative_software.html\\\"\u003EGetting Started Gradle Native\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv id=\\\"footnotes\\\"\u003E\\n\u003Chr\u003E\\n\u003Cdiv class=\\\"footnote\\\" id=\\\"_footnotedef_1\\\"\u003E\\n\u003Ca href=\\\"#_footnoteref_1\\\"\u003E1\u003C\u002Fa\u003E. 'n' Positive integer\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"footnote\\\" id=\\\"_footnotedef_2\\\"\u003E\\n\u003Ca href=\\\"#_footnoteref_2\\\"\u003E2\u003C\u002Fa\u003E. Actually \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E is not required if we use the \\\"wrapper\\\", but we aren&#8217;t going to explain it here, \u003Ca href=\\\"https:\u002F\u002Fdocs.gradle.org\u002Fcurrent\u002Fuserguide\u002Fgradle_wrapper.html\\\"\u003Ehere you can get more info about Gradle Wrapper\u003C\u002Fa\u003E.\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"footnote\\\" id=\\\"_footnotedef_3\\\"\u003E\\n\u003Ca href=\\\"#_footnoteref_3\\\"\u003E3\u003C\u002Fa\u003E. .bat in Windows. Without extension in Linux\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"footnote\\\" id=\\\"_footnotedef_4\\\"\u003E\\n\u003Ca href=\\\"#_footnoteref_4\\\"\u003E4\u003C\u002Fa\u003E. We can also specify\u002Fmodify which optimizations to apply.\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\",\"props\":{\"title\":\"Build C++ project with Gradle\",\"created\":1411776000000,\"modified\":1411776000000,\"filepath\":\"\u002Fhome\u002Fcarlos\u002Fworkspace\u002Fblablablog\u002Fposts\u002Fgradle-cpp.en.adoc\",\"dirpath\":\"\u002Fhome\u002Fcarlos\u002Fworkspace\u002Fblablablog\u002Fposts\",\"keywords\":[\"Gradle\",\"C++\",\"Build Software\",\"Build System\",\"Dependency Management\"],\"lang\":\"en\",\"otherLangs\":[\"es\"],\"slug\":\"gradle-cpp\",\"summary\":\"How to build a C++ project using Gradle\",\"author\":\"Carlos Martin Sanchez\",\"path\":\"\u002Flangs\u002Fen\u002Fposts\u002Fgradle-cpp\"}}"}</script>
</div>
	</body>
</html>
