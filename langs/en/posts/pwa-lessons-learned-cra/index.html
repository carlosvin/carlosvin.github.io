<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Create a PWA with Create React App: Lessons Learned</title><!-- HTML_TAG_START -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-1328360-10', 'auto');
	</script>
	<!-- HTML_TAG_END --><meta name="date.created" content="2019-11-04T00:00:00.000Z" data-svelte="svelte-1lps7vh"><meta name="date.updated" content="2019-11-04T00:00:00.000Z" data-svelte="svelte-1lps7vh"><meta name="description" content="Lessons learned while developing a PWA with CRA: Budget Tracker" data-svelte="svelte-1lps7vh"><link rel="alternate" hreflang="es" href="/langs/es/posts/pwa-lessons-learned-cra" data-svelte="svelte-1lps7vh"><link rel="alternate" href="/langs/en/posts/pwa-lessons-learned-cra.ld.json" type="application/ld+json" data-svelte="svelte-1lps7vh">

		

		<link rel="modulepreload" href="/./_app/start-4c757d67.js">
		<link rel="modulepreload" href="/./_app/chunks/vendor-b306a19a.js">
		<link rel="modulepreload" href="/./_app/chunks/singletons-12a22614.js">
		<link rel="modulepreload" href="/./_app/pages/__layout.svelte-d18de63b.js">
		<link rel="modulepreload" href="/./_app/chunks/lang-914879ff.js">
		<link rel="modulepreload" href="/./_app/chunks/conf-318ca8e3.js">
		<link rel="modulepreload" href="/./_app/chunks/Social-2bd34671.js">
		<link rel="modulepreload" href="/./_app/chunks/IconLink-ba492148.js">
		<link rel="modulepreload" href="/./_app/pages/langs/[lang]/posts/[slug].svelte-dff57efc.js">
		<link rel="modulepreload" href="/./_app/chunks/url-28a36952.js">
		<link rel="modulepreload" href="/./_app/chunks/Details-87d1147c.js">
		<link rel="stylesheet" href="/./_app/assets/start-a8cd1609.css">
		<link rel="stylesheet" href="/./_app/assets/pages/__layout.svelte-371e20bd.css">
		<link rel="stylesheet" href="/./_app/assets/Social-cc5c0bed.css">
		<link rel="stylesheet" href="/./_app/assets/IconLink-5c07e51e.css">
		<link rel="stylesheet" href="/./_app/assets/pages/langs/[lang]/posts/[slug].svelte-88707559.css">
		<link rel="stylesheet" href="/./_app/assets/Details-e90b3cb2.css">

		<script type="module">
			import { start } from "/./_app/start-4c757d67.js";
			start({
				target: document.querySelector("#svelte"),
				paths: {"base":"","assets":"/."},
				session: {},
				host: location.host,
				route: true,
				spa: false,
				trailing_slash: "never",
				hydrate: {
					status: 200,
					error: null,
					nodes: [
						import("/./_app/pages/__layout.svelte-d18de63b.js"),
						import("/./_app/pages/langs/[lang]/posts/[slug].svelte-dff57efc.js")
					],
					page: {
						host: location.host, // TODO this is redundant
						path: "/langs/en/posts/pwa-lessons-learned-cra",
						query: new URLSearchParams(""),
						params: {"lang":"en","slug":"pwa-lessons-learned-cra"}
					}
				}
			});
		</script>
	</head>
	<body>
		<div id="svelte">






<nav class="svelte-17lil9l"><ul class="svelte-17lil9l"><li class="svelte-1nihsj5"><a href="/langs/en" rel="prefetch" class="svelte-1nihsj5"><img class="logo svelte-17lil9l" src="/favicon.png" alt="Carlos Say&#39;s Bla Bla logo"></a>
</li></ul>
	<ul class="closed svelte-17lil9l"><li class="svelte-1nihsj5"><a href="/langs/en" rel="prefetch" class="svelte-1nihsj5"><span class="siteName">Carlos Say&#39;s Bla Bla</span></a>
</li>
<li class="svelte-1nihsj5"><a href="/langs/en/categories" rel="prefetch" class="svelte-1nihsj5">Categories</a>
</li>
<li class="svelte-1nihsj5"><a href="/langs/en/about" rel="prefetch" class="svelte-1nihsj5">About</a>
</li></ul>
	<div class="h svelte-geb0ta"><a href="/langs/en/feed.xml" target="_blank" class="icon rss svelte-blgowr" title="Subscribe to Carlos Say&#39;s Bla Bla" rel="noopener" aria-label="Subscribe to Carlos Say&#39;s Bla Bla">
</a>
	<a href="https://github.com/carlosvin" target="_blank" class="icon github svelte-blgowr" title="Find me at github" rel="noopener" aria-label="Find me at github">
</a>
	<a href="https://twitter.com/carlosvin" target="_blank" class="icon twitter svelte-blgowr" title="Find me at twitter" rel="noopener" aria-label="Find me at twitter">
</a>
	<a href="https://stackoverflow.com/story/carlosvin" target="_blank" class="icon stackoverflow svelte-blgowr" title="Find me at stackoverflow" rel="noopener" aria-label="Find me at stackoverflow">
</a>
</div>
	<button type="button" class="svelte-17lil9l">≡</button>
</nav>

<main class="svelte-1m42syy">

<header class="svelte-1ikjkmw"><h1 class="svelte-1ikjkmw">Create a PWA with Create React App: Lessons Learned
<span class="share svelte-1ikjkmw"><a href="https://twitter.com/intent/tweet?url=/langs/en/posts/pwa-lessons-learned-cra&amp;text=Create a PWA with Create React App: Lessons Learned:&amp;nbsp;Lessons learned while developing a PWA with CRA: Budget Tracker&amp;hashtags=React,Typescript,CRA,PWA,Create React App,Firebase,Firestore,Svelte,Sapper" target="_blank" class="icon twitter svelte-blgowr" title="Share &quot;Create a PWA with Create React App: Lessons Learned&quot;" rel="noopener" aria-label="Share &quot;Create a PWA with Create React App: Lessons Learned&quot;">
</a></span></h1>
	<p class="summary svelte-1ikjkmw">Lessons learned while developing a PWA with CRA: Budget Tracker</p>
	<div class="subtitle svelte-1s3ascd"><span class="date">04/11/2019</span>
	<span class="tags svelte-ym0wdt"><a href="/langs/en/categories/react" title="React" class="svelte-dagte2"><span class="hover svelte-1kmrl92">React
</span>
</a><a href="/langs/en/categories/typescript" title="Typescript" class="svelte-dagte2"><span class="hover svelte-1kmrl92">Typescript
</span>
</a><a href="/langs/en/categories/cra" title="CRA" class="svelte-dagte2"><span class="hover svelte-1kmrl92">CRA
</span>
</a><a href="/langs/en/categories/pwa" title="PWA" class="svelte-dagte2"><span class="hover svelte-1kmrl92">PWA
</span>
</a><a href="/langs/en/categories/create-react-app" title="Create React App" class="svelte-dagte2"><span class="hover svelte-1kmrl92">Create React App
</span>
</a><a href="/langs/en/categories/firebase" title="Firebase" class="svelte-dagte2"><span class="hover svelte-1kmrl92">Firebase
</span>
</a><a href="/langs/en/categories/firestore" title="Firestore" class="svelte-dagte2"><span class="hover svelte-1kmrl92">Firestore
</span>
</a><a href="/langs/en/categories/svelte" title="Svelte" class="svelte-dagte2"><span class="hover svelte-1kmrl92">Svelte
</span>
</a><a href="/langs/en/categories/sapper" title="Sapper" class="svelte-dagte2"><span class="hover svelte-1kmrl92">Sapper
</span>
</a></span>
</div></header>

<div class="postContent"><!-- HTML_TAG_START --><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_chosen_technology_stack_for_budget_tracker">Chosen Technology Stack for Budget Tracker</a></li>
<li><a href="#_create_react_application_cra">Create React Application: CRA</a>
<ul class="sectlevel2">
<li><a href="#_service_worker">Service worker</a></li>
<li><a href="#_web_worker">Web worker</a></li>
<li><a href="#_webpack">Webpack</a></li>
</ul>
</li>
<li><a href="#_firebase">Firebase</a>
<ul class="sectlevel2">
<li><a href="#_drawbacks">Drawbacks</a></li>
<li><a href="#_firebase_alternatives">Firebase alternatives</a></li>
</ul>
</li>
<li><a href="#_ui_components_library_material_ui">UI Components Library: Material UI</a></li>
<li><a href="#_charts_library">Charts library</a></li>
<li><a href="#_conclusion">Conclusion</a>
<ul class="sectlevel2">
<li><a href="#_do_not_go_for_cra_if">Do not go for CRA if</a></li>
<li><a href="#_do_not_go_for_firestore_if">Do not go for Firestore if</a></li>
<li><a href="#_do_not_go_blindly_for_the_best_charting_library">Do not go blindly for the best charting library</a></li>
</ul>
</li>
<li><a href="#_what_next">What next?</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>I started working with <a href="https://reactjs.org" target="_blank" rel="noopener">React</a> few year ago, always the project creation was from scratch, not using any template/scaffolding. Regarding bundlers normally I used either <a href="https://webpack.js.org" target="_blank" rel="noopener">Webpack</a> at work or <a href="https://parceljs.org" target="_blank" rel="noopener">Parcel</a> for personal projects.</p>
</div>
<div class="paragraph">
<p>Few months ago, I wanted to start a personal project to keep track of my travel expenses. I was in a kind of rush because at that time, I was almost in the middle of my gap year, I wanted to focus on implementing main functionality and get an <a href="https://en.wikipedia.org/wiki/Minimum_viable_product">MVP</a> (minimum viable product) the sooner the better, so I thought it was the right time to try out <a href="https://create-react-app.dev" target="_blank" rel="noopener">Create React App</a> or <a href="https://create-react-app.dev" target="_blank" rel="noopener">CRA</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<a href="https://create-react-app.dev" target="_blank" rel="noopener">CRA</a> allows you to have a production ready <a href="https://developers.google.com/web/progressive-web-apps/" target="_blank" rel="noopener">PWA</a> in <a href="https://reactjs.org" target="_blank" rel="noopener">React</a> quickly, which is awesome. They take care of configuration and package dependencies, you only have to take care of dependencies you need for your project and of course, implement your project, <a href="https://create-react-app.dev" target="_blank" rel="noopener">CRA</a> is good, but is not magic.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As I said, I wanted to be implementing business logic ASAP, so together with using <a href="https://create-react-app.dev" target="_blank" rel="noopener">CRA</a>, I also took other decisions/shortcuts driven by the need of speeding up the development pace, I will talk about those choices in following sections describing some drawbacks and benefits.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chosen_technology_stack_for_budget_tracker">Chosen Technology Stack for <a href="https://btapp.netlify.com" target="_blank" rel="noopener">Budget Tracker</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://create-react-app.dev" target="_blank" rel="noopener">CRA</a></p>
</li>
<li>
<p><a href="https://reactjs.org" target="_blank" rel="noopener">React</a></p>
</li>
<li>
<p><a href="https://www.typescriptlang.org" target="_blank" rel="noopener">Typescript</a></p>
</li>
<li>
<p><a href="https://material-ui.com" target="_blank" rel="noopener">Material UI</a></p>
</li>
<li>
<p><span class="line-through"><a href="https://formidable.com/open-source/victory">Victory</a></span> <a href="https://frappe.io/charts" target="_blank" rel="noopener">Frappe charts</a></p>
</li>
<li>
<p><a href="https://firebase.google.com/docs/firestore" target="_blank" rel="noopener">Firestore</a></p>
</li>
<li>
<p><a href="https://firebase.google.com/docs/auth" target="_blank" rel="noopener">Firebase Authentication</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>So far I am quite happy with the outcome, but with the lessons learned while developing this app, <strong>in the future, with enough time, most likely I will not choose same technology stack again</strong>. You can try the application <a href="https://btapp.netlify.com" target="_blank" rel="noopener">Budget Tracker</a> and judge for yourself.</p>
</div>
<div class="paragraph">
<p>Along this post I will describe what are, in my experience, the benefits and drawbacks of taking these shortcuts and technical decisions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_react_application_cra">Create React Application: <a href="https://create-react-app.dev" target="_blank" rel="noopener">CRA</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://create-react-app.dev" target="_blank" rel="noopener">Create React App</a> doesn’t support <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers" target="_blank" rel="noopener">Web Workers</a> neither allows to customize <a href="https://developers.google.com/web/fundamentals/primers/service-workers" target="_blank" rel="noopener">Service Worker</a> implementation without <a href="https://stackoverflow.com/questions/49737652/what-does-eject-do-in-create-react-app">ejecting</a>.</p>
</div>
<div class="sect2">
<h3 id="_service_worker">Service worker</h3>
<div class="paragraph">
<p>You might want to customize your <a href="https://developers.google.com/web/fundamentals/primers/service-workers" target="_blank" rel="noopener">Service Worker</a> to send/receive <a href="https://developer.mozilla.org/en-US/docs/Web/API/Client/postMessage">post messages</a>, to perform <a href="https://wicg.github.io/BackgroundSync/spec/">background sync</a> or <a href="https://developer.mozilla.org/en/docs/Web/API/notification">show web notifications</a>. In that case, you will have to <a href="https://stackoverflow.com/questions/49737652/what-does-eject-do-in-create-react-app">eject your project</a> and maintain the configuration by yourself, which might imply a little bit of headache.</p>
</div>
<div class="paragraph">
<p>There are <a href="https://www.freecodecamp.org/news/how-to-customize-service-workers-with-create-react-app-4424dda6210c/">other options to customize service worker and avoid ejecting CRA</a>, but they are not straightforward enough for my taste.</p>
</div>
</div>
<div class="sect2">
<h3 id="_web_worker">Web worker</h3>
<div class="paragraph">
<p>If you need to perform any heavy processing without blocking the main thread, you can just use a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers" target="_blank" rel="noopener">Web Workers</a>, but this feature is not supported by <a href="https://create-react-app.dev" target="_blank" rel="noopener">CRA</a>. The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers" target="_blank" rel="noopener">Web Workers</a> can communicate with main thread using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Client/postMessage">post messages</a> and it can also show <a href="https://medium.com/young-coder/a-simple-introduction-to-web-workers-in-javascript-b3504f9d9d1c">web push notifications</a>.</p>
</div>
<div class="paragraph">
<p>There are also <a href="https://medium.com/@danilog1905/how-to-use-web-workers-with-react-create-app-and-not-ejecting-in-the-attempt-3718d2a1166b">other options to use Web Workers in CRA and not eject</a>, but they imply quite some extra work.</p>
</div>
</div>
<div class="sect2">
<h3 id="_webpack">Webpack</h3>
<div class="paragraph">
<p><a href="https://webpack.js.org" target="_blank" rel="noopener">Webpack</a> is the bundler used by <a href="https://create-react-app.dev" target="_blank" rel="noopener">CRA</a>. You don’t need to know much about it, unless you <a href="https://stackoverflow.com/questions/49737652/what-does-eject-do-in-create-react-app">eject your project</a>, then you will have to deal with <a href="https://webpack.js.org/configuration/">Webpack configuration file</a>, this is just a warning, just in case you are not comfortable with it.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_firebase">Firebase</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://btapp.netlify.com" target="_blank" rel="noopener">Budget Tracker</a> supports data synchronization between different devices, so it requires a <a href="https://en.wikipedia.org/wiki/Front_and_back_ends">backend</a> side to deal with authentication and to save/read data remotely. I considered two options: <a href="https://firebase.google.com/" target="_blank" rel="noopener">Firebase</a> or implement <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">REST</a> API.</p>
</div>
<div class="paragraph">
<p>For this <a href="https://en.wikipedia.org/wiki/Front_and_back_ends">backend</a>, I chose <a href="https://firebase.google.com/" target="_blank" rel="noopener">Firebase</a> because it is super easy to implement, because there is nothing to implement. You only have to configure <a href="https://support.google.com/firebase/answer/6400716?hl=en">authentication methods</a> and <a href="https://firebase.google.com/docs/firestore/security/get-started">security rules</a> for <a href="https://firebase.google.com/docs/firestore" target="_blank" rel="noopener">Firestore</a>.</p>
</div>
<div class="paragraph">
<p>But <a href="https://firebase.google.com/" target="_blank" rel="noopener">Firebase</a> brings some drawbacks you must know before choosing it.</p>
</div>
<div class="sect2">
<h3 id="_drawbacks">Drawbacks</h3>
<div class="sect3">
<h4 id="_bundle_size">Bundle size</h4>
<div class="paragraph">
<p>I got really shocked first time I analyzed <a href="https://btapp.netlify.com" target="_blank" rel="noopener">Budget Tracker</a> bundle size after integrating it with <a href="https://firebase.google.com/" target="_blank" rel="noopener">Firebase</a>, <strong>it grew around a 39%!</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>27% from <a href="https://firebase.google.com/docs/firestore" target="_blank" rel="noopener">Firestore</a> library.</p>
</li>
<li>
<p>12% from <a href="https://firebase.google.com/docs/auth" target="_blank" rel="noopener">Firebase Authentication</a> library.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Happily <a href="https://btapp.netlify.com" target="_blank" rel="noopener">Budget Tracker</a> implementation is following <a href="https://reactjs.org/docs/code-splitting.html">code-splitting</a> principle, so user experience was not really affected with this integration. But user’s device will eventually have to download this extra 39% (<strong>539KB</strong>).</p>
</div>
</div>
<div class="sect3">
<h4 id="_offline_first_not_really">Offline first, not really</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
This section is not relevant if your use case doesn’t imply saving data linked to the user.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="https://firebase.google.com/docs/firestore" target="_blank" rel="noopener">Firestore</a> requires user to be authenticated, but <a href="https://firebase.google.com/docs/auth/web/anonymous-auth">user can be anonymous</a>, this is really cool feature if you don’t want to force the user to identify to use the app.</p>
</div>
<div class="paragraph">
<p>Another very useful and cool <a href="https://firebase.google.com/docs/firestore" target="_blank" rel="noopener">Firestore</a> feature is that <a href="https://firebase.google.com/docs/firestore/manage-data/enable-offline">it supports offline mode</a>, so data can be saved and read even there is no Internet connection.</p>
</div>
<div class="paragraph">
<p>Anonymous user + offline mode features will allow an application to work as offline first.</p>
</div>
<div class="paragraph">
<p>So… what is this <a href="#Offline first">not really</a> issue about? Let me explain a tricky scenario. First time the application is opened, <a href="https://firebase.google.com/" target="_blank" rel="noopener">Firebase</a> needs to authenticate the user, to do so, user’s device has to be connected to Internet, so <strong>you have to consider following scenario</strong> and either be OK with it or deal with it:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://developers.google.com/web/progressive-web-apps/" target="_blank" rel="noopener">PWA</a> is installed in your device.</p>
</li>
<li>
<p>User is not authenticated.</p>
</li>
<li>
<p>User’s device is offline.</p>
</li>
<li>
<p>User opens the <a href="https://developers.google.com/web/progressive-web-apps/" target="_blank" rel="noopener">PWA</a> and tries to save some data.</p>
</li>
<li>
<p><strong>That data won’t be saved correctly</strong>, because there is no user to link the data with, not even an anonymous user, because application needs to call <a href="https://firebase.google.com/" target="_blank" rel="noopener">Firebase</a> API to create an anonymous user.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This is not big deal, because it will seldom occur. If you want to deal with it anyway, check next section explaining how and why I did deal with this scenario.</p>
</div>
<div class="sect4">
<h5 id="_how_did_i_deal_with_this_issue_with_budget_tracker">How did I deal with this issue with Budget Tracker?</h5>
<div class="paragraph">
<p>First of all, this <strong>might not be an issue for your use case</strong>, because it will happen only first time application is loaded. I just wanted <a href="https://btapp.netlify.com" target="_blank" rel="noopener">Budget Tracker</a> to be fully offline first, because it brings other benefits.</p>
</div>
<div class="sect5">
<h6 id="_implementation_details">Implementation details</h6>
<div class="ulist">
<ul>
<li>
<p>Implement 2 persistence layers: Local (<a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API" target="_blank" rel="noopener">IndexedDB</a>) and Remote (<a href="https://firebase.google.com/docs/firestore" target="_blank" rel="noopener">Firestore</a>).</p>
</li>
<li>
<p>Save always data locally, regardless user authentication status.</p>
</li>
<li>
<p>If there is any authenticated user, after saving to local layer, propagate same action to remote layer (<a href="https://firebase.google.com/docs/firestore" target="_blank" rel="noopener">Firestore</a>) asynchronously.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="_benefits">Benefits</h6>
<div class="ulist">
<ul>
<li>
<p>If user is not authenticated, <a href="https://btapp.netlify.com" target="_blank" rel="noopener">Budget Tracker</a> won’t load <a href="https://firebase.google.com/docs/firestore" target="_blank" rel="noopener">Firestore</a> client bundle. As I explained before, it is 27% of application size.</p>
</li>
<li>
<p>Application reads and writes are faster, because latest valid data is always saved locally.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Clarification</strong>: Save data in <a href="https://firebase.google.com/docs/firestore" target="_blank" rel="noopener">Firestore</a> is also fast, because data is also cached locally, but it does a little bit more than just saving to <a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API" target="_blank" rel="noopener">IndexedDB</a> and you need an authenticated user.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can find a <a href="https://github.com/carlosvin/budget-tracker/blob/master/doc/preformance.md#desktop-slow-clear-storage-0-budgets-1">more detailed performance report</a>, where I analyze 3 different implementations:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Only <a href="https://firebase.google.com/docs/firestore" target="_blank" rel="noopener">Firestore</a> client.</p>
</li>
<li>
<p>Local (<a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API" target="_blank" rel="noopener">IndexedDB</a>) and remote (<a href="https://firebase.google.com/docs/firestore" target="_blank" rel="noopener">Firestore</a>) persistence layers.</p>
</li>
<li>
<p>Same as previous one, but remote layer implemented in service worker.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The performance results were in general better for option 2.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_data_model">Data model</h4>
<div class="paragraph">
<p>Firestore API is easy and intuitive, I really like it, but don’t assume it will have same features as other document DBs or SQL DBs.</p>
</div>
<div class="paragraph">
<p>Check if <a href="https://googleapis.github.io/google-cloud-dotnet/docs/Google.Cloud.Firestore/datamodel.html">Firestore limitations</a> fit into your data model, or if it is not too late, define your data model following <a href="https://cloud.google.com/firestore/docs/best-practices">Firestore best practices</a> and having those limitations in mind.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_firebase_alternatives">Firebase alternatives</h3>
<div class="paragraph">
<p>Besides implementing a <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">REST</a> API, there are other services similar to <a href="https://firebase.google.com/" target="_blank" rel="noopener">Firebase</a> with smaller client bundle size and other features which might fit better to your requirements.</p>
</div>
<div class="paragraph">
<p>Consider other alternatives:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Based on <a href="http://couchdb.apache.org/">Apache CouchDB</a>: <a href="https://pouchdb.com">PouchDB</a>, <a href="https://en.wikipedia.org/wiki/Cloudant">Cloudant</a>.</p>
</li>
<li>
<p>Based on <a href="https://parseplatform.org/">Parse server</a>: <a href="https://www.back4app.com">back4apps</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ui_components_library_material_ui">UI Components Library: <a href="https://material-ui.com" target="_blank" rel="noopener">Material UI</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>I chose <a href="https://material-ui.com" target="_blank" rel="noopener">Material UI</a>.</p>
</div>
<div class="quoteblock">
<blockquote>
React components for faster and easier web development. Build your own design system, or start with Material Design.
</blockquote>
<div class="attribution">
&#8212; https://material-ui.com[Material UI
</div>
</div>
<div class="paragraph">
<p>There were two reasons which drove me to use <a href="https://material-ui.com" target="_blank" rel="noopener">Material UI</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To create simple UI components which are accessible, <a href="https://material-ui.com/guides/responsive-ui/#responsive-ui">responsive</a> and with a consistent design is tricky and time consuming.</p>
</li>
<li>
<p>It has SVG set of <a href="https://material-ui.com/components/material-icons/">Material Icons</a>. <a href="https://btapp.netlify.com" target="_blank" rel="noopener">Budget Tracker</a> allows to create categories defined by a name and a selectable icon, so this icon set was really convenient.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are some <strong>drawbacks</strong>, not very important in my opinion, maybe the most annoying for me is the first one:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://jestjs.io/docs/en/snapshot-testing">Jest Snapshots</a> + <a href="https://material-ui.com" target="_blank" rel="noopener">Material UI</a>: The snapshots are generated with <a href="https://material-ui.com" target="_blank" rel="noopener">Material UI</a> CSS class names, but CSS classes order might not be deterministic, so a test might pass in your local host but not in <a href="https://en.wikipedia.org/wiki/Continuous_integration">CI</a> host. They are working on solve <a href="https://github.com/mui-org/material-ui/issues/14357">this issue, more info at github</a>.</p>
</li>
<li>
<p>Performance: There are some performance <a href="https://github.com/mui-org/material-ui/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+is%3Aopen+performance">issues in Github</a>. During last months, whilst I’ve been using this library, I can say they are working hard on fix them and bring new features.</p>
</li>
<li>
<p>UI components libraries are complex and do quite a lot work, so most of them are quite heavy. <a href="https://bundlephobia.com/result?p=@material-ui/core@4.5.2">Material UI bundle size weights: 304.2kB minified</a>. You can find some <a href="https://material-ui.com/guides/minimizing-bundle-size">recommendations to reduce bundle size at Material UI website</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_charts_library">Charts library</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Many of the chart libraries I’ve found are really powerful and complete, but they are also heavy because they depend on other third party libraries like <a href="https://d3js.org/">D3</a>.</p>
</div>
<div class="paragraph">
<p>Initially I chose <a href="https://formidable.com/open-source/victory">Victory</a>, but I realized that I only needed charts to show percentages and time series and <a href="https://formidable.com/open-source/victory">Victory</a>’s <a href="https://bundlephobia.com/result?p=victory@33.1.2">bundle size is 468KB minified</a>.</p>
</div>
<div class="paragraph">
<p>After quick search in the Internet I discovered other lighter alternatives:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://frappe.io/charts" target="_blank" rel="noopener">Frappe charts</a> <a href="https://bundlephobia.com/result?p=frappe-charts@1.3.0">63KB minified</a>.</p>
</li>
<li>
<p><a href="https://gionkunz.github.io/chartist-js">Chartist</a> <a href="https://bundlephobia.com/result?p=chartist@0.11.4">39KB minified</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>I tried them and I liked both. I chose <a href="https://frappe.io/charts" target="_blank" rel="noopener">Frappe charts</a> because I thought its default color scheme fits better with <a href="https://btapp.netlify.com" target="_blank" rel="noopener">Budget Tracker</a> theme.</p>
</div>
<div class="paragraph">
<p>Both libraries come with more chart types than just bars and XY axis, take a quick look at their websites if you are interested about their supported chart set and to check how they look like.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I will try to come up with a conclusion better than: <em>"It depends"</em>, <em>"Your use case will tell you"</em> and so on.</p>
</div>
<div class="paragraph">
<p>That said. It depends on your needs :p.</p>
</div>
<div class="paragraph">
<p>Seriously, let’s play <em>"do not go for … if …"</em>:</p>
</div>
<div class="sect2">
<h3 id="_do_not_go_for_cra_if">Do not go for CRA if</h3>
<div class="ulist">
<ul>
<li>
<p>You want to customize <a href="https://developers.google.com/web/fundamentals/primers/service-workers" target="_blank" rel="noopener">Service Worker</a> for <a href="https://developers.google.com/web/updates/2015/12/background-sync">Background sync</a> or <a href="https://developer.mozilla.org/en/docs/Web/API/notification">showing push notifications</a>.</p>
</li>
<li>
<p>You want to use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers" target="_blank" rel="noopener">Web Workers</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_do_not_go_for_firestore_if">Do not go for Firestore if</h3>
<div class="ulist">
<ul>
<li>
<p>You are aiming for your app to be hit by many users and you don’t know the estimated amount of reads/writes, otherwise you might get surprised with the bill. <a href="https://firebase.google.com/docs/firestore" target="_blank" rel="noopener">Firestore</a> scales like charm, maybe your budget doesn’t.</p>
</li>
<li>
<p>Bundle size is critical for your web application. Remember that bundle size is not that critical if you are implementing a <a href="https://developers.google.com/web/progressive-web-apps/" target="_blank" rel="noopener">PWA</a>, because your app files are cached.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_do_not_go_blindly_for_the_best_charting_library">Do not go blindly for the best charting library</h3>
<div class="paragraph">
<p>First of all, check what kind of charts you need. In many applications you are OK with XY axis chart, time series, bars or pie charts. You can easily get an smaller bundle size by just using a simple charting library like <a href="https://frappe.io/charts" target="_blank" rel="noopener">Frappe charts</a> or <a href="https://gionkunz.github.io/chartist-js">Chartist</a></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Just check what are your requirements, if you are not sure about them, <a href="#_chosen_technology_stack_for_budget_tracker">Chosen Technology Stack for Budget Tracker</a> consists of awesome products which most likely will fit your use case.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_next">What next?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>My next technology stack bet goes for <a href="https://svelte.dev" target="_blank" rel="noopener">Svelte</a>/https://sapper.svelte.dev[Sapper,window=_blank], it is promising project, the results for small projects are really impressive, mainly in regards to bundle size, it is ridiculously small and development experience is quick and intuitive.</p>
</div>
<div class="paragraph">
<p>I’ve created a tiny <a href="https://developers.google.com/web/progressive-web-apps/" target="_blank" rel="noopener">PWA</a> to estimate <a href="https://currency-loss.netlify.com">currency exchange loss</a> when you go to a money changer shop: <a href="https://currency-loss.netlify.com">currency-loss.netlify.com</a>. Note, I got that app up and running in few hours, thanks to <a href="https://svelte.dev" target="_blank" rel="noopener">Svelte</a>.</p>
</div>
</div>
</div><!-- HTML_TAG_END -->
	<div class="comments"><script src="https://utteranc.es/client.js" repo="carlosvin/carlosvin.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script></div>
	
	<a href="/posts/pwa-lessons-learned-cra/en"></a>
	
	<a href="/posts/pwa-lessons-learned-cra"></a>
</div>
</main>



	<script type="application/json" data-type="svelte-data" data-url="/langs/en/posts/pwa-lessons-learned-cra.json">{"status":200,"statusText":"","headers":{"content-type":"application/json; charset=utf-8"},"body":"{\"html\":\"\u003Cdiv id=\\\"toc\\\" class=\\\"toc\\\"\u003E\\n\u003Cdiv id=\\\"toctitle\\\"\u003ETable of Contents\u003C\u002Fdiv\u003E\\n\u003Cul class=\\\"sectlevel1\\\"\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_chosen_technology_stack_for_budget_tracker\\\"\u003EChosen Technology Stack for Budget Tracker\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_create_react_application_cra\\\"\u003ECreate React Application: CRA\u003C\u002Fa\u003E\\n\u003Cul class=\\\"sectlevel2\\\"\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_service_worker\\\"\u003EService worker\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_web_worker\\\"\u003EWeb worker\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_webpack\\\"\u003EWebpack\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_firebase\\\"\u003EFirebase\u003C\u002Fa\u003E\\n\u003Cul class=\\\"sectlevel2\\\"\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_drawbacks\\\"\u003EDrawbacks\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_firebase_alternatives\\\"\u003EFirebase alternatives\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_ui_components_library_material_ui\\\"\u003EUI Components Library: Material UI\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_charts_library\\\"\u003ECharts library\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_conclusion\\\"\u003EConclusion\u003C\u002Fa\u003E\\n\u003Cul class=\\\"sectlevel2\\\"\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_do_not_go_for_cra_if\\\"\u003EDo not go for CRA if\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_do_not_go_for_firestore_if\\\"\u003EDo not go for Firestore if\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_do_not_go_blindly_for_the_best_charting_library\\\"\u003EDo not go blindly for the best charting library\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_what_next\\\"\u003EWhat next?\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv id=\\\"preamble\\\"\u003E\\n\u003Cdiv class=\\\"sectionbody\\\"\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EI started working with \u003Ca href=\\\"https:\u002F\u002Freactjs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EReact\u003C\u002Fa\u003E few year ago, always the project creation was from scratch, not using any template\u002Fscaffolding. Regarding bundlers normally I used either \u003Ca href=\\\"https:\u002F\u002Fwebpack.js.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EWebpack\u003C\u002Fa\u003E at work or \u003Ca href=\\\"https:\u002F\u002Fparceljs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EParcel\u003C\u002Fa\u003E for personal projects.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EFew months ago, I wanted to start a personal project to keep track of my travel expenses. I was in a kind of rush because at that time, I was almost in the middle of my gap year, I wanted to focus on implementing main functionality and get an \u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMinimum_viable_product\\\"\u003EMVP\u003C\u002Fa\u003E (minimum viable product) the sooner the better, so I thought it was the right time to try out \u003Ca href=\\\"https:\u002F\u002Fcreate-react-app.dev\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ECreate React App\u003C\u002Fa\u003E or \u003Ca href=\\\"https:\u002F\u002Fcreate-react-app.dev\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ECRA\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"admonitionblock note\\\"\u003E\\n\u003Ctable\u003E\\n\u003Ctr\u003E\\n\u003Ctd class=\\\"icon\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003ENote\u003C\u002Fdiv\u003E\\n\u003C\u002Ftd\u003E\\n\u003Ctd class=\\\"content\\\"\u003E\\n\u003Ca href=\\\"https:\u002F\u002Fcreate-react-app.dev\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ECRA\u003C\u002Fa\u003E allows you to have a production ready \u003Ca href=\\\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fprogressive-web-apps\u002F\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EPWA\u003C\u002Fa\u003E in \u003Ca href=\\\"https:\u002F\u002Freactjs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EReact\u003C\u002Fa\u003E quickly, which is awesome. They take care of configuration and package dependencies, you only have to take care of dependencies you need for your project and of course, implement your project, \u003Ca href=\\\"https:\u002F\u002Fcreate-react-app.dev\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ECRA\u003C\u002Fa\u003E is good, but is not magic.\\n\u003C\u002Ftd\u003E\\n\u003C\u002Ftr\u003E\\n\u003C\u002Ftable\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EAs I said, I wanted to be implementing business logic ASAP, so together with using \u003Ca href=\\\"https:\u002F\u002Fcreate-react-app.dev\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ECRA\u003C\u002Fa\u003E, I also took other decisions\u002Fshortcuts driven by the need of speeding up the development pace, I will talk about those choices in following sections describing some drawbacks and benefits.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect1\\\"\u003E\\n\u003Ch2 id=\\\"_chosen_technology_stack_for_budget_tracker\\\"\u003EChosen Technology Stack for \u003Ca href=\\\"https:\u002F\u002Fbtapp.netlify.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EBudget Tracker\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\\n\u003Cdiv class=\\\"sectionbody\\\"\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fcreate-react-app.dev\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ECRA\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Freactjs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EReact\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fwww.typescriptlang.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ETypescript\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fmaterial-ui.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaterial UI\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Cspan class=\\\"line-through\\\"\u003E\u003Ca href=\\\"https:\u002F\u002Fformidable.com\u002Fopen-source\u002Fvictory\\\"\u003EVictory\u003C\u002Fa\u003E\u003C\u002Fspan\u003E \u003Ca href=\\\"https:\u002F\u002Ffrappe.io\u002Fcharts\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFrappe charts\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffirestore\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirestore\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Fauth\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirebase Authentication\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ESo far I am quite happy with the outcome, but with the lessons learned while developing this app, \u003Cstrong\u003Ein the future, with enough time, most likely I will not choose same technology stack again\u003C\u002Fstrong\u003E. You can try the application \u003Ca href=\\\"https:\u002F\u002Fbtapp.netlify.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EBudget Tracker\u003C\u002Fa\u003E and judge for yourself.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EAlong this post I will describe what are, in my experience, the benefits and drawbacks of taking these shortcuts and technical decisions.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect1\\\"\u003E\\n\u003Ch2 id=\\\"_create_react_application_cra\\\"\u003ECreate React Application: \u003Ca href=\\\"https:\u002F\u002Fcreate-react-app.dev\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ECRA\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\\n\u003Cdiv class=\\\"sectionbody\\\"\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fcreate-react-app.dev\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ECreate React App\u003C\u002Fa\u003E doesn’t support \u003Ca href=\\\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FWeb_Workers_API\u002FUsing_web_workers\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EWeb Workers\u003C\u002Fa\u003E neither allows to customize \u003Ca href=\\\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Ffundamentals\u002Fprimers\u002Fservice-workers\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EService Worker\u003C\u002Fa\u003E implementation without \u003Ca href=\\\"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F49737652\u002Fwhat-does-eject-do-in-create-react-app\\\"\u003Eejecting\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_service_worker\\\"\u003EService worker\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EYou might want to customize your \u003Ca href=\\\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Ffundamentals\u002Fprimers\u002Fservice-workers\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EService Worker\u003C\u002Fa\u003E to send\u002Freceive \u003Ca href=\\\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FClient\u002FpostMessage\\\"\u003Epost messages\u003C\u002Fa\u003E, to perform \u003Ca href=\\\"https:\u002F\u002Fwicg.github.io\u002FBackgroundSync\u002Fspec\u002F\\\"\u003Ebackground sync\u003C\u002Fa\u003E or \u003Ca href=\\\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen\u002Fdocs\u002FWeb\u002FAPI\u002Fnotification\\\"\u003Eshow web notifications\u003C\u002Fa\u003E. In that case, you will have to \u003Ca href=\\\"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F49737652\u002Fwhat-does-eject-do-in-create-react-app\\\"\u003Eeject your project\u003C\u002Fa\u003E and maintain the configuration by yourself, which might imply a little bit of headache.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EThere are \u003Ca href=\\\"https:\u002F\u002Fwww.freecodecamp.org\u002Fnews\u002Fhow-to-customize-service-workers-with-create-react-app-4424dda6210c\u002F\\\"\u003Eother options to customize service worker and avoid ejecting CRA\u003C\u002Fa\u003E, but they are not straightforward enough for my taste.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_web_worker\\\"\u003EWeb worker\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EIf you need to perform any heavy processing without blocking the main thread, you can just use a \u003Ca href=\\\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FWeb_Workers_API\u002FUsing_web_workers\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EWeb Workers\u003C\u002Fa\u003E, but this feature is not supported by \u003Ca href=\\\"https:\u002F\u002Fcreate-react-app.dev\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ECRA\u003C\u002Fa\u003E. The \u003Ca href=\\\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FWeb_Workers_API\u002FUsing_web_workers\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EWeb Workers\u003C\u002Fa\u003E can communicate with main thread using \u003Ca href=\\\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FClient\u002FpostMessage\\\"\u003Epost messages\u003C\u002Fa\u003E and it can also show \u003Ca href=\\\"https:\u002F\u002Fmedium.com\u002Fyoung-coder\u002Fa-simple-introduction-to-web-workers-in-javascript-b3504f9d9d1c\\\"\u003Eweb push notifications\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EThere are also \u003Ca href=\\\"https:\u002F\u002Fmedium.com\u002F@danilog1905\u002Fhow-to-use-web-workers-with-react-create-app-and-not-ejecting-in-the-attempt-3718d2a1166b\\\"\u003Eother options to use Web Workers in CRA and not eject\u003C\u002Fa\u003E, but they imply quite some extra work.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_webpack\\\"\u003EWebpack\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fwebpack.js.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EWebpack\u003C\u002Fa\u003E is the bundler used by \u003Ca href=\\\"https:\u002F\u002Fcreate-react-app.dev\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ECRA\u003C\u002Fa\u003E. You don’t need to know much about it, unless you \u003Ca href=\\\"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F49737652\u002Fwhat-does-eject-do-in-create-react-app\\\"\u003Eeject your project\u003C\u002Fa\u003E, then you will have to deal with \u003Ca href=\\\"https:\u002F\u002Fwebpack.js.org\u002Fconfiguration\u002F\\\"\u003EWebpack configuration file\u003C\u002Fa\u003E, this is just a warning, just in case you are not comfortable with it.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect1\\\"\u003E\\n\u003Ch2 id=\\\"_firebase\\\"\u003EFirebase\u003C\u002Fh2\u003E\\n\u003Cdiv class=\\\"sectionbody\\\"\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fbtapp.netlify.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EBudget Tracker\u003C\u002Fa\u003E supports data synchronization between different devices, so it requires a \u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FFront_and_back_ends\\\"\u003Ebackend\u003C\u002Fa\u003E side to deal with authentication and to save\u002Fread data remotely. I considered two options: \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002F\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirebase\u003C\u002Fa\u003E or implement \u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FRepresentational_state_transfer\\\"\u003EREST\u003C\u002Fa\u003E API.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EFor this \u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FFront_and_back_ends\\\"\u003Ebackend\u003C\u002Fa\u003E, I chose \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002F\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirebase\u003C\u002Fa\u003E because it is super easy to implement, because there is nothing to implement. You only have to configure \u003Ca href=\\\"https:\u002F\u002Fsupport.google.com\u002Ffirebase\u002Fanswer\u002F6400716?hl=en\\\"\u003Eauthentication methods\u003C\u002Fa\u003E and \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffirestore\u002Fsecurity\u002Fget-started\\\"\u003Esecurity rules\u003C\u002Fa\u003E for \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffirestore\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirestore\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EBut \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002F\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirebase\u003C\u002Fa\u003E brings some drawbacks you must know before choosing it.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_drawbacks\\\"\u003EDrawbacks\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"sect3\\\"\u003E\\n\u003Ch4 id=\\\"_bundle_size\\\"\u003EBundle size\u003C\u002Fh4\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EI got really shocked first time I analyzed \u003Ca href=\\\"https:\u002F\u002Fbtapp.netlify.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EBudget Tracker\u003C\u002Fa\u003E bundle size after integrating it with \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002F\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirebase\u003C\u002Fa\u003E, \u003Cstrong\u003Eit grew around a 39%!\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E27% from \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffirestore\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirestore\u003C\u002Fa\u003E library.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E12% from \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Fauth\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirebase Authentication\u003C\u002Fa\u003E library.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EHappily \u003Ca href=\\\"https:\u002F\u002Fbtapp.netlify.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EBudget Tracker\u003C\u002Fa\u003E implementation is following \u003Ca href=\\\"https:\u002F\u002Freactjs.org\u002Fdocs\u002Fcode-splitting.html\\\"\u003Ecode-splitting\u003C\u002Fa\u003E principle, so user experience was not really affected with this integration. But user’s device will eventually have to download this extra 39% (\u003Cstrong\u003E539KB\u003C\u002Fstrong\u003E).\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect3\\\"\u003E\\n\u003Ch4 id=\\\"_offline_first_not_really\\\"\u003EOffline first, not really\u003C\u002Fh4\u003E\\n\u003Cdiv class=\\\"admonitionblock important\\\"\u003E\\n\u003Ctable\u003E\\n\u003Ctr\u003E\\n\u003Ctd class=\\\"icon\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003EImportant\u003C\u002Fdiv\u003E\\n\u003C\u002Ftd\u003E\\n\u003Ctd class=\\\"content\\\"\u003E\\nThis section is not relevant if your use case doesn’t imply saving data linked to the user.\\n\u003C\u002Ftd\u003E\\n\u003C\u002Ftr\u003E\\n\u003C\u002Ftable\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffirestore\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirestore\u003C\u002Fa\u003E requires user to be authenticated, but \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Fauth\u002Fweb\u002Fanonymous-auth\\\"\u003Euser can be anonymous\u003C\u002Fa\u003E, this is really cool feature if you don’t want to force the user to identify to use the app.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EAnother very useful and cool \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffirestore\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirestore\u003C\u002Fa\u003E feature is that \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffirestore\u002Fmanage-data\u002Fenable-offline\\\"\u003Eit supports offline mode\u003C\u002Fa\u003E, so data can be saved and read even there is no Internet connection.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EAnonymous user + offline mode features will allow an application to work as offline first.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ESo… what is this \u003Ca href=\\\"#Offline first\\\"\u003Enot really\u003C\u002Fa\u003E issue about? Let me explain a tricky scenario. First time the application is opened, \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002F\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirebase\u003C\u002Fa\u003E needs to authenticate the user, to do so, user’s device has to be connected to Internet, so \u003Cstrong\u003Eyou have to consider following scenario\u003C\u002Fstrong\u003E and either be OK with it or deal with it:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"olist arabic\\\"\u003E\\n\u003Col class=\\\"arabic\\\"\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fprogressive-web-apps\u002F\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EPWA\u003C\u002Fa\u003E is installed in your device.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EUser is not authenticated.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EUser’s device is offline.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EUser opens the \u003Ca href=\\\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fprogressive-web-apps\u002F\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EPWA\u003C\u002Fa\u003E and tries to save some data.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Cstrong\u003EThat data won’t be saved correctly\u003C\u002Fstrong\u003E, because there is no user to link the data with, not even an anonymous user, because application needs to call \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002F\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirebase\u003C\u002Fa\u003E API to create an anonymous user.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Fol\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EThis is not big deal, because it will seldom occur. If you want to deal with it anyway, check next section explaining how and why I did deal with this scenario.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect4\\\"\u003E\\n\u003Ch5 id=\\\"_how_did_i_deal_with_this_issue_with_budget_tracker\\\"\u003EHow did I deal with this issue with Budget Tracker?\u003C\u002Fh5\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EFirst of all, this \u003Cstrong\u003Emight not be an issue for your use case\u003C\u002Fstrong\u003E, because it will happen only first time application is loaded. I just wanted \u003Ca href=\\\"https:\u002F\u002Fbtapp.netlify.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EBudget Tracker\u003C\u002Fa\u003E to be fully offline first, because it brings other benefits.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect5\\\"\u003E\\n\u003Ch6 id=\\\"_implementation_details\\\"\u003EImplementation details\u003C\u002Fh6\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EImplement 2 persistence layers: Local (\u003Ca href=\\\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FIndexedDB_API\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EIndexedDB\u003C\u002Fa\u003E) and Remote (\u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffirestore\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirestore\u003C\u002Fa\u003E).\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003ESave always data locally, regardless user authentication status.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EIf there is any authenticated user, after saving to local layer, propagate same action to remote layer (\u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffirestore\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirestore\u003C\u002Fa\u003E) asynchronously.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect5\\\"\u003E\\n\u003Ch6 id=\\\"_benefits\\\"\u003EBenefits\u003C\u002Fh6\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EIf user is not authenticated, \u003Ca href=\\\"https:\u002F\u002Fbtapp.netlify.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EBudget Tracker\u003C\u002Fa\u003E won’t load \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffirestore\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirestore\u003C\u002Fa\u003E client bundle. As I explained before, it is 27% of application size.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EApplication reads and writes are faster, because latest valid data is always saved locally.\u003C\u002Fp\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Cstrong\u003EClarification\u003C\u002Fstrong\u003E: Save data in \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffirestore\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirestore\u003C\u002Fa\u003E is also fast, because data is also cached locally, but it does a little bit more than just saving to \u003Ca href=\\\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FIndexedDB_API\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EIndexedDB\u003C\u002Fa\u003E and you need an authenticated user.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EYou can find a \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fbudget-tracker\u002Fblob\u002Fmaster\u002Fdoc\u002Fpreformance.md#desktop-slow-clear-storage-0-budgets-1\\\"\u003Emore detailed performance report\u003C\u002Fa\u003E, where I analyze 3 different implementations:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"olist arabic\\\"\u003E\\n\u003Col class=\\\"arabic\\\"\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EOnly \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffirestore\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirestore\u003C\u002Fa\u003E client.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003ELocal (\u003Ca href=\\\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FIndexedDB_API\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EIndexedDB\u003C\u002Fa\u003E) and remote (\u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffirestore\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirestore\u003C\u002Fa\u003E) persistence layers.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003ESame as previous one, but remote layer implemented in service worker.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Fol\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EThe performance results were in general better for option 2.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect3\\\"\u003E\\n\u003Ch4 id=\\\"_data_model\\\"\u003EData model\u003C\u002Fh4\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EFirestore API is easy and intuitive, I really like it, but don’t assume it will have same features as other document DBs or SQL DBs.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ECheck if \u003Ca href=\\\"https:\u002F\u002Fgoogleapis.github.io\u002Fgoogle-cloud-dotnet\u002Fdocs\u002FGoogle.Cloud.Firestore\u002Fdatamodel.html\\\"\u003EFirestore limitations\u003C\u002Fa\u003E fit into your data model, or if it is not too late, define your data model following \u003Ca href=\\\"https:\u002F\u002Fcloud.google.com\u002Ffirestore\u002Fdocs\u002Fbest-practices\\\"\u003EFirestore best practices\u003C\u002Fa\u003E and having those limitations in mind.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_firebase_alternatives\\\"\u003EFirebase alternatives\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EBesides implementing a \u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FRepresentational_state_transfer\\\"\u003EREST\u003C\u002Fa\u003E API, there are other services similar to \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002F\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirebase\u003C\u002Fa\u003E with smaller client bundle size and other features which might fit better to your requirements.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EConsider other alternatives:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EBased on \u003Ca href=\\\"http:\u002F\u002Fcouchdb.apache.org\u002F\\\"\u003EApache CouchDB\u003C\u002Fa\u003E: \u003Ca href=\\\"https:\u002F\u002Fpouchdb.com\\\"\u003EPouchDB\u003C\u002Fa\u003E, \u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FCloudant\\\"\u003ECloudant\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EBased on \u003Ca href=\\\"https:\u002F\u002Fparseplatform.org\u002F\\\"\u003EParse server\u003C\u002Fa\u003E: \u003Ca href=\\\"https:\u002F\u002Fwww.back4app.com\\\"\u003Eback4apps\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect1\\\"\u003E\\n\u003Ch2 id=\\\"_ui_components_library_material_ui\\\"\u003EUI Components Library: \u003Ca href=\\\"https:\u002F\u002Fmaterial-ui.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaterial UI\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\\n\u003Cdiv class=\\\"sectionbody\\\"\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EI chose \u003Ca href=\\\"https:\u002F\u002Fmaterial-ui.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaterial UI\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"quoteblock\\\"\u003E\\n\u003Cblockquote\u003E\\nReact components for faster and easier web development. Build your own design system, or start with Material Design.\\n\u003C\u002Fblockquote\u003E\\n\u003Cdiv class=\\\"attribution\\\"\u003E\\n&#8212; https:\u002F\u002Fmaterial-ui.com[Material UI\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EThere were two reasons which drove me to use \u003Ca href=\\\"https:\u002F\u002Fmaterial-ui.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaterial UI\u003C\u002Fa\u003E:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003ETo create simple UI components which are accessible, \u003Ca href=\\\"https:\u002F\u002Fmaterial-ui.com\u002Fguides\u002Fresponsive-ui\u002F#responsive-ui\\\"\u003Eresponsive\u003C\u002Fa\u003E and with a consistent design is tricky and time consuming.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EIt has SVG set of \u003Ca href=\\\"https:\u002F\u002Fmaterial-ui.com\u002Fcomponents\u002Fmaterial-icons\u002F\\\"\u003EMaterial Icons\u003C\u002Fa\u003E. \u003Ca href=\\\"https:\u002F\u002Fbtapp.netlify.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EBudget Tracker\u003C\u002Fa\u003E allows to create categories defined by a name and a selectable icon, so this icon set was really convenient.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EThere are some \u003Cstrong\u003Edrawbacks\u003C\u002Fstrong\u003E, not very important in my opinion, maybe the most annoying for me is the first one:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fjestjs.io\u002Fdocs\u002Fen\u002Fsnapshot-testing\\\"\u003EJest Snapshots\u003C\u002Fa\u003E + \u003Ca href=\\\"https:\u002F\u002Fmaterial-ui.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaterial UI\u003C\u002Fa\u003E: The snapshots are generated with \u003Ca href=\\\"https:\u002F\u002Fmaterial-ui.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaterial UI\u003C\u002Fa\u003E CSS class names, but CSS classes order might not be deterministic, so a test might pass in your local host but not in \u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FContinuous_integration\\\"\u003ECI\u003C\u002Fa\u003E host. They are working on solve \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fmui-org\u002Fmaterial-ui\u002Fissues\u002F14357\\\"\u003Ethis issue, more info at github\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EPerformance: There are some performance \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fmui-org\u002Fmaterial-ui\u002Fissues?utf8=%E2%9C%93&amp;q=is%3Aissue+is%3Aopen+performance\\\"\u003Eissues in Github\u003C\u002Fa\u003E. During last months, whilst I’ve been using this library, I can say they are working hard on fix them and bring new features.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EUI components libraries are complex and do quite a lot work, so most of them are quite heavy. \u003Ca href=\\\"https:\u002F\u002Fbundlephobia.com\u002Fresult?p=@material-ui\u002Fcore@4.5.2\\\"\u003EMaterial UI bundle size weights: 304.2kB minified\u003C\u002Fa\u003E. You can find some \u003Ca href=\\\"https:\u002F\u002Fmaterial-ui.com\u002Fguides\u002Fminimizing-bundle-size\\\"\u003Erecommendations to reduce bundle size at Material UI website\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect1\\\"\u003E\\n\u003Ch2 id=\\\"_charts_library\\\"\u003ECharts library\u003C\u002Fh2\u003E\\n\u003Cdiv class=\\\"sectionbody\\\"\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EMany of the chart libraries I’ve found are really powerful and complete, but they are also heavy because they depend on other third party libraries like \u003Ca href=\\\"https:\u002F\u002Fd3js.org\u002F\\\"\u003ED3\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EInitially I chose \u003Ca href=\\\"https:\u002F\u002Fformidable.com\u002Fopen-source\u002Fvictory\\\"\u003EVictory\u003C\u002Fa\u003E, but I realized that I only needed charts to show percentages and time series and \u003Ca href=\\\"https:\u002F\u002Fformidable.com\u002Fopen-source\u002Fvictory\\\"\u003EVictory\u003C\u002Fa\u003E’s \u003Ca href=\\\"https:\u002F\u002Fbundlephobia.com\u002Fresult?p=victory@33.1.2\\\"\u003Ebundle size is 468KB minified\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EAfter quick search in the Internet I discovered other lighter alternatives:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Ffrappe.io\u002Fcharts\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFrappe charts\u003C\u002Fa\u003E \u003Ca href=\\\"https:\u002F\u002Fbundlephobia.com\u002Fresult?p=frappe-charts@1.3.0\\\"\u003E63KB minified\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fgionkunz.github.io\u002Fchartist-js\\\"\u003EChartist\u003C\u002Fa\u003E \u003Ca href=\\\"https:\u002F\u002Fbundlephobia.com\u002Fresult?p=chartist@0.11.4\\\"\u003E39KB minified\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EI tried them and I liked both. I chose \u003Ca href=\\\"https:\u002F\u002Ffrappe.io\u002Fcharts\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFrappe charts\u003C\u002Fa\u003E because I thought its default color scheme fits better with \u003Ca href=\\\"https:\u002F\u002Fbtapp.netlify.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EBudget Tracker\u003C\u002Fa\u003E theme.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EBoth libraries come with more chart types than just bars and XY axis, take a quick look at their websites if you are interested about their supported chart set and to check how they look like.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect1\\\"\u003E\\n\u003Ch2 id=\\\"_conclusion\\\"\u003EConclusion\u003C\u002Fh2\u003E\\n\u003Cdiv class=\\\"sectionbody\\\"\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EI will try to come up with a conclusion better than: \u003Cem\u003E\\\"It depends\\\"\u003C\u002Fem\u003E, \u003Cem\u003E\\\"Your use case will tell you\\\"\u003C\u002Fem\u003E and so on.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EThat said. It depends on your needs :p.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ESeriously, let’s play \u003Cem\u003E\\\"do not go for … if …\\\"\u003C\u002Fem\u003E:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_do_not_go_for_cra_if\\\"\u003EDo not go for CRA if\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EYou want to customize \u003Ca href=\\\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Ffundamentals\u002Fprimers\u002Fservice-workers\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EService Worker\u003C\u002Fa\u003E for \u003Ca href=\\\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fupdates\u002F2015\u002F12\u002Fbackground-sync\\\"\u003EBackground sync\u003C\u002Fa\u003E or \u003Ca href=\\\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen\u002Fdocs\u002FWeb\u002FAPI\u002Fnotification\\\"\u003Eshowing push notifications\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EYou want to use \u003Ca href=\\\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FWeb_Workers_API\u002FUsing_web_workers\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EWeb Workers\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_do_not_go_for_firestore_if\\\"\u003EDo not go for Firestore if\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EYou are aiming for your app to be hit by many users and you don’t know the estimated amount of reads\u002Fwrites, otherwise you might get surprised with the bill. \u003Ca href=\\\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Ffirestore\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFirestore\u003C\u002Fa\u003E scales like charm, maybe your budget doesn’t.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EBundle size is critical for your web application. Remember that bundle size is not that critical if you are implementing a \u003Ca href=\\\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fprogressive-web-apps\u002F\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EPWA\u003C\u002Fa\u003E, because your app files are cached.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_do_not_go_blindly_for_the_best_charting_library\\\"\u003EDo not go blindly for the best charting library\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EFirst of all, check what kind of charts you need. In many applications you are OK with XY axis chart, time series, bars or pie charts. You can easily get an smaller bundle size by just using a simple charting library like \u003Ca href=\\\"https:\u002F\u002Ffrappe.io\u002Fcharts\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EFrappe charts\u003C\u002Fa\u003E or \u003Ca href=\\\"https:\u002F\u002Fgionkunz.github.io\u002Fchartist-js\\\"\u003EChartist\u003C\u002Fa\u003E\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"admonitionblock tip\\\"\u003E\\n\u003Ctable\u003E\\n\u003Ctr\u003E\\n\u003Ctd class=\\\"icon\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003ETip\u003C\u002Fdiv\u003E\\n\u003C\u002Ftd\u003E\\n\u003Ctd class=\\\"content\\\"\u003E\\nJust check what are your requirements, if you are not sure about them, \u003Ca href=\\\"#_chosen_technology_stack_for_budget_tracker\\\"\u003EChosen Technology Stack for Budget Tracker\u003C\u002Fa\u003E consists of awesome products which most likely will fit your use case.\\n\u003C\u002Ftd\u003E\\n\u003C\u002Ftr\u003E\\n\u003C\u002Ftable\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect1\\\"\u003E\\n\u003Ch2 id=\\\"_what_next\\\"\u003EWhat next?\u003C\u002Fh2\u003E\\n\u003Cdiv class=\\\"sectionbody\\\"\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EMy next technology stack bet goes for \u003Ca href=\\\"https:\u002F\u002Fsvelte.dev\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ESvelte\u003C\u002Fa\u003E\u002Fhttps:\u002F\u002Fsapper.svelte.dev[Sapper,window=_blank], it is promising project, the results for small projects are really impressive, mainly in regards to bundle size, it is ridiculously small and development experience is quick and intuitive.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EI’ve created a tiny \u003Ca href=\\\"https:\u002F\u002Fdevelopers.google.com\u002Fweb\u002Fprogressive-web-apps\u002F\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EPWA\u003C\u002Fa\u003E to estimate \u003Ca href=\\\"https:\u002F\u002Fcurrency-loss.netlify.com\\\"\u003Ecurrency exchange loss\u003C\u002Fa\u003E when you go to a money changer shop: \u003Ca href=\\\"https:\u002F\u002Fcurrency-loss.netlify.com\\\"\u003Ecurrency-loss.netlify.com\u003C\u002Fa\u003E. Note, I got that app up and running in few hours, thanks to \u003Ca href=\\\"https:\u002F\u002Fsvelte.dev\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ESvelte\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\",\"props\":{\"title\":\"Create a PWA with Create React App: Lessons Learned\",\"created\":1572825600000,\"modified\":1572825600000,\"filepath\":\"\u002Fhome\u002Fcarlos\u002Fworkspace\u002Fblablablog\u002Fposts\u002Fpwa-lessons-learned-cra.en.adoc\",\"dirpath\":\"\u002Fhome\u002Fcarlos\u002Fworkspace\u002Fblablablog\u002Fposts\",\"keywords\":[\"React\",\"Typescript\",\"CRA\",\"PWA\",\"Create React App\",\"Firebase\",\"Firestore\",\"Svelte\",\"Sapper\"],\"lang\":\"en\",\"otherLangs\":[\"es\"],\"slug\":\"pwa-lessons-learned-cra\",\"summary\":\"Lessons learned while developing a PWA with CRA: Budget Tracker\",\"author\":\"Carlos Martin Sanchez\",\"path\":\"\u002Flangs\u002Fen\u002Fposts\u002Fpwa-lessons-learned-cra\"}}"}</script>
</div>
	</body>
</html>
