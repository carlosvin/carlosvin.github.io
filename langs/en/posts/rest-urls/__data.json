{"type":"data","nodes":[null,{"type":"data","data":[{"path":1,"lang":2,"translations":3,"version":14},"/langs/en/posts/rest-urls/","en",{"lang":2,"author":4,"siteName":5,"siteDescription":6,"categories":7,"Categories":8,"RecentPosts":9,"NoPosts":10,"SubscribeTo":11,"AboutMe":12,"AllPosts":13},"Carlos Martin Sanchez","Carlos Say's Bla Bla","What is going on in my mind and its surroundings","categories","Categories","Recent posts","There are no posts","Subscribe to the feed","About me","All posts","1.0.1"],"uses":{"params":["lang"],"url":1},"slash":"always"},{"type":"data","data":[{"html":1,"props":2,"jsonLd":18},"\u003Cdiv id=\"toc\" class=\"toc\">\n\u003Cdiv id=\"toctitle\">Table of Contents\u003C/div>\n\u003Cul class=\"sectlevel1\">\n\u003Cli>\u003Ca href=\"#_rest_basics\">REST Basics\u003C/a>\n\u003Cul class=\"sectlevel2\">\n\u003Cli>\u003Ca href=\"#_rest_verbs\">REST Verbs\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#_accessing_to_resources\">Accessing to Resources\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#_update_resources\">Update resources\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#_delete_resources\">Delete Resources\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#_create_resources\">Create Resources\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#_collections\">Collections\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#_common_mistake\">Common mistake\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/div>\n\u003Cdiv id=\"preamble\">\n\u003Cdiv class=\"sectionbody\">\n\u003Cdiv class=\"paragraph\">\n\u003Cp>First time I designed a \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a> \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> I made several mistakes, of course. Following I&#8217;m going to explain common mistakes and what I&#8217;ve learned about \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a> \u003Ca href=\"https://en.wikipedia.org/wiki/Uniform_resource_locator\" target=\"_blank\" rel=\"noopener\">URL\u003C/a> with examples.\u003C/p>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect1\">\n\u003Ch2 id=\"_rest_basics\">\u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a> Basics\u003C/h2>\n\u003Cdiv class=\"sectionbody\">\n\u003Cdiv class=\"ulist\">\n\u003Cul>\n\u003Cli>\n\u003Cp>Using \u003Ca href=\"https://en.wikipedia.org/wiki/Uniform_resource_locator\" target=\"_blank\" rel=\"noopener\">URL\u003C/a>s for get resources.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>Using \u003Cem>verbs\u003C/em> for modify resources.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>The \u003Cem>verbs\u003C/em> are provided by the \u003Ca href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\">HTTP\u003C/a> protocol.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>The \u003Cem>verbs\u003C/em> have a direct equivalency with \u003Ca href=\"https://en.wikipedia.org/wiki/CRUD\" target=\"_blank\" rel=\"noopener\">CRUD\u003C/a>\u003Csup class=\"footnote\">[\u003Ca id=\"_footnoteref_1\" class=\"footnote\" href=\"#_footnotedef_1\" title=\"View footnote.\">1\u003C/a>]\u003C/sup>.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>To access to an existent resource we need an identifier.\u003C/p>\n\u003C/li>\n\u003C/ul>\n\u003C/div>\n\u003Cdiv class=\"sect2\">\n\u003Ch3 id=\"_rest_verbs\">\u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a> Verbs\u003C/h3>\n\u003Cdiv class=\"hdlist\">\n\u003Ctable>\n\u003Ctr>\n\u003Ctd class=\"hdlist1\">\nPOST\n\u003C/td>\n\u003Ctd class=\"hdlist2\">\n\u003Cp>\u003Cstrong>Create\u003C/strong> new resources.\u003C/p>\n\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd class=\"hdlist1\">\nGET\n\u003C/td>\n\u003Ctd class=\"hdlist2\">\n\u003Cp>\u003Cstrong>Read\u003C/strong> already existing resources.\u003C/p>\n\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd class=\"hdlist1\">\nPUT\n\u003C/td>\n\u003Ctd class=\"hdlist2\">\n\u003Cp>\u003Cstrong>Update\u003C/strong> already existing resources.\u003C/p>\n\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd class=\"hdlist1\">\nDELETE\n\u003C/td>\n\u003Ctd class=\"hdlist2\">\n\u003Cp>\u003Cstrong>Delete\u003C/strong> already existing resources.\u003C/p>\n\u003C/td>\n\u003C/tr>\n\u003C/table>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>It is clearer in the following table\u003C/p>\n\u003C/div>\n\u003Ctable class=\"tableblock frame-all grid-all stretch\">\n\u003Ccolgroup>\n\u003Ccol style=\"width: 33.3333%;\">\n\u003Ccol style=\"width: 33.3333%;\">\n\u003Ccol style=\"width: 33.3334%;\">\n\u003C/colgroup>\n\u003Cthead>\n\u003Ctr>\n\u003Cth class=\"tableblock halign-left valign-top\">\u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a> Verb\u003C/th>\n\u003Cth class=\"tableblock halign-left valign-top\">\u003Ca href=\"https://en.wikipedia.org/wiki/CRUD\" target=\"_blank\" rel=\"noopener\">CRUD\u003C/a> Action\u003C/th>\n\u003Cth class=\"tableblock halign-left valign-top\">Resource must exist\u003C/th>\n\u003C/tr>\n\u003C/thead>\n\u003Ctbody>\n\u003Ctr>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">POST\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">Create\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">No\u003C/p>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">GET\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">Read\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">Yes\u003C/p>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">PUT\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">Update\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">Yes\u003C/p>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">DELETE\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">Delete\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">Yes\u003C/p>\u003C/td>\n\u003C/tr>\n\u003C/tbody>\n\u003C/table>\n\u003C/div>\n\u003Cdiv class=\"sect2\">\n\u003Ch3 id=\"_accessing_to_resources\">Accessing to Resources\u003C/h3>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>A resource is \u003Cem>what we want to get\u003C/em>. For example, a car.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>To be able to get a car, that information is not enough, you can&#8217;t go to your car dealer and ask for whatever car, you have to specify which one you want:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>\u003Cem>Good morning. I&#8217;d like to have a Fiat Bravo 1.9 Emotion 120CV\u003C/em>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>In this manner the sheller knows which one is.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>\"Fiat Bravo 1.9 Emotion 120CV\" is the \u003Cstrong>identifier\u003C/strong>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Transferring the example to \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a> \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a>s:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"literalblock\">\n\u003Cdiv class=\"content\">\n\u003Cpre>GET   https://cardealer.com/api/cars/fiat-bravo-19-emotion-120cv\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Now our \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> can supply the car info.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>This is a very simple example, but actually when we access to a specific resource, we have to use something to identify it, a common and recommendable practice is use \u003Ca href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" target=\"_blank\" rel=\"noopener\">UUID\u003C/a>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"literalblock\">\n\u003Cdiv class=\"content\">\n\u003Cpre>GET  https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>But our \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a>, like a shop, it hasn&#8217;t to be so strict. We can ask for cars with several features:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>\u003Cem>Good morning, I want a Fiat Bravo\u003C/em>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Then, the dealer kindly will show you all Fiat Bravo he has available. Let&#8217;s see how \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> says that.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"literalblock\">\n\u003Cdiv class=\"content\">\n\u003Cpre>GET  https://cardealer.com/api/cars/?brand=fiat&amp;model=bravo\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>\u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> will return all cars with Fiat brand and Bravo model.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Brand and model are so called \u003Cstrong>query parameters\u003C/strong>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>As you might already notice, to get resource information, we have always used \u003Cstrong>GET\u003C/strong> \u003Cem>verb\u003C/em>\u003C/p>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect2\">\n\u003Ch3 id=\"_update_resources\">Update resources\u003C/h3>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>The \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> should also support updating resources. Like reading resources, to update a resource we have to specify which resource we want to update, so we again need an \u003Cem>identifier\u003C/em>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Before, we wanted to get information (read) and we used \u003Cstrong>GET\u003C/strong> \u003Cem>verb\u003C/em>. Now the only difference is the verb.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>We want to \u003Cstrong>update\u003C/strong> so we use the equivalency \u003Ca href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\">HTTP\u003C/a> verb: \u003Cstrong>PUT\u003C/strong>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"literalblock\">\n\u003Cdiv class=\"content\">\n\u003Cpre>PUT   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Actually something else is missing, we have to say what thing of the car we want to change, for example, let&#8217;s imagine we want to change the engine power and set it to 100CV.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>We have to send the new engine power to following \u003Ca href=\"https://en.wikipedia.org/wiki/Uniform_resource_locator\" target=\"_blank\" rel=\"noopener\">URL\u003C/a> \u003Ca href=\"https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f\" class=\"bare\">https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f\u003C/a> through \u003Ca href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\">HTTP\u003C/a> using \u003Cstrong>PUT\u003C/strong> verb.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>\u003Ca href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\">HTTP\u003C/a> protocol allows sending data within PUT message, we have to choose a sending format.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>We can use \u003Ca href=\"https://en.wikipedia.org/wiki/JSON\" target=\"_blank\" rel=\"noopener\">JSON\u003C/a> or \u003Ca href=\"\">XML\u003C/a> or whatever, we only have to ensure that sent format is expected in server side.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"admonitionblock note\">\n\u003Ctable>\n\u003Ctr>\n\u003Ctd class=\"icon\">\n\u003Cdiv class=\"title\">Note\u003C/div>\n\u003C/td>\n\u003Ctd class=\"content\">\nDesigning a \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a> \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> requires to select a data format.\n\u003C/td>\n\u003C/tr>\n\u003C/table>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">\u003Ca href=\"https://en.wikipedia.org/wiki/JSON\" target=\"_blank\" rel=\"noopener\">JSON\u003C/a> example\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-json\" data-lang=\"json\">\u003Cspan class=\"hljs-punctuation\">{\u003C/span> enginePower\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-number\">100\u003C/span> \u003Cspan class=\"hljs-punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect2\">\n\u003Ch3 id=\"_delete_resources\">Delete Resources\u003C/h3>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Let&#8217;s imagine that now we are the car dealer and we don&#8217;t want to shell the Fiat Bravo Emotion 1.9CV anymore (the cce05bee-386b-11e5-a151-feff819cdc9f). We&#8217;ll keep the \u003Ca href=\"https://en.wikipedia.org/wiki/Uniform_resource_locator\" target=\"_blank\" rel=\"noopener\">URL\u003C/a> that identifies the resource, but we change the verb: we don&#8217;t want to read (GET), we don&#8217;t want to update (PUT), we want to \u003Cstrong>to delete (DELETE)\u003C/strong>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"literalblock\">\n\u003Cdiv class=\"content\">\n\u003Cpre>DELETE   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>We don&#8217;t have to supply any additional info, only de verb (DELETE) and the resource identifier.\u003C/p>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect2\">\n\u003Ch3 id=\"_create_resources\">Create Resources\u003C/h3>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>And the last verb is \u003Cstrong>to create (POST)\u003C/strong>. In this case we don&#8217;t have to identify the resource, because it still doesn&#8217;t exist.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"literalblock\">\n\u003Cdiv class=\"content\">\n\u003Cpre>POST   https://cardealer.com/api/cars/\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>But we have to send the data to create the resource.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Following with the example, let&#8217;s create a new car, so we include the necessary data within POST \u003Ca href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\">HTTP\u003C/a> message, it is something similar what we did at section \u003Ca href=\"#_update_resources\">Update resources\u003C/a>, but we are going to send \u003Cstrong>all required data\u003C/strong>, not only the engine power.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">\u003Ca href=\"https://en.wikipedia.org/wiki/JSON\" target=\"_blank\" rel=\"noopener\">JSON\u003C/a> example\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-json\" data-lang=\"json\">\u003Cspan class=\"hljs-punctuation\">{\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;brand&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Fiat&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;model&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Bravo&quot;\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;year&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-number\">2010\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;doors&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-number\">5\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;enginePower&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-number\">120\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;version&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Emotion&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;clima&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-literal\">\u003Cspan class=\"hljs-keyword\">true\u003C/span>\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;ac&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-literal\">\u003Cspan class=\"hljs-keyword\">false\u003C/span>\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;fuel&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Diesel&quot;\u003C/span>\n\u003Cspan class=\"hljs-punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>We can delegate on the system to assign a new \u003Cstrong>identifier\u003C/strong>, or simply send it within the message:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-json\" data-lang=\"json\">\u003Cspan class=\"hljs-punctuation\">{\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;identifier&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;cce05bee-386b-11e5-a151-feff819cdc9f&quot;\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;brand&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Fiat&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;model&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Bravo&quot;\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;year&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-number\">2010\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;doors&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-number\">5\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;enginePower&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-number\">120\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;version&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Emotion&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;clima&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-literal\">\u003Cspan class=\"hljs-keyword\">true\u003C/span>\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;ac&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-literal\">\u003Cspan class=\"hljs-keyword\">false\u003C/span>\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;fuel&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Diesel&quot;\u003C/span>\n\u003Cspan class=\"hljs-punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect2\">\n\u003Ch3 id=\"_collections\">Collections\u003C/h3>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>All actions we have already explained were actually applied over a cars collection.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>But, what happen if a resource has a nested collection?\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Continuing with cars example, a car can use a set of engine oils. So the \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> must allow update, delete or create elements in the set.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"admonitionblock note\">\n\u003Ctable>\n\u003Ctr>\n\u003Ctd class=\"icon\">\n\u003Cdiv class=\"title\">Note\u003C/div>\n\u003C/td>\n\u003Ctd class=\"content\">\nFor the example we will assume that \u003Cem>the oil identifier\u003C/em> is the attribute \u003Cem>type\u003C/em>.\n\u003C/td>\n\u003C/tr>\n\u003C/table>\n\u003C/div>\n\u003Cdiv class=\"sect3\">\n\u003Ch4 id=\"_add_an_element_to_collection\">Add an element to collection\u003C/h4>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>When we add a car to cars collection, what we do is create a new car, so it is the case of \u003Ca href=\"#_create_resources\">Create Resources\u003C/a>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>To add a new engine oil to the car cce05bee-386b-11e5-a151-feff819cdc9f, that already exists:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Request\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">POST   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Response\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-json\" data-lang=\"json\">\u003Cspan class=\"hljs-punctuation\">{\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;type&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;5W30&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;otherInfo&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;This is the best oil for this car&quot;\u003C/span>\n\u003Cspan class=\"hljs-punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>If we want to add another one:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Request\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">POST   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Response\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-json\" data-lang=\"json\">\u003Cspan class=\"hljs-punctuation\">{\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;type&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;10W30&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;otherInfo&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;This is very good for cold weather&quot;\u003C/span>\n\u003Cspan class=\"hljs-punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect3\">\n\u003Ch4 id=\"_update_a_collection_item\">Update a collection item\u003C/h4>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>If we want to update the info of oil \u003Cem>5W30\u003C/em> of car \u003Cem>cce05bee-386b-11e5-a151-feff819cdc9f\u003C/em>:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Request\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">PUT   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/5W30/\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Response\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-json\" data-lang=\"json\">\u003Cspan class=\"hljs-punctuation\">{\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;type&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;5W30&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;otherInfo&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;This is no longer the best oil for this car&quot;\u003C/span>\n\u003Cspan class=\"hljs-punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect3\">\n\u003Ch4 id=\"_delete_a_collection_item\">Delete a collection item\u003C/h4>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>To delete an oil \u003Cem>10W30\u003C/em> from car \u003Cem>cce05bee-386b-11e5-a151-feff819cdc9f\u003C/em>:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Request\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">DELETE   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/10W30\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect3\">\n\u003Ch4 id=\"_read_a_collection_item\">Read a collection item\u003C/h4>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>To get the oil info \u003Cem>10W30\u003C/em> of the car \u003Cem>cce05bee-386b-11e5-a151-feff819cdc9f\u003C/em>:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Request\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">GET   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/10W30\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect3\">\n\u003Ch4 id=\"_list_collection_items\">List collection items\u003C/h4>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>As we have seen at \u003Ca href=\"#_read_a_collection_item\">Read a collection item\u003C/a>, we can get the info of every collection element, but we also can get multiple collection elements, sorted, paged and apply typical collection actions.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>We can get all supported oils for a car \u003Cem>cce05bee-386b-11e5-a151-feff819cdc9f\u003C/em>, it is as simple as:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Request\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">GET   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>We can also get sorted items:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Request\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">GET   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/?sort_by=type&amp;order=asc\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>We can ask \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> to return the first 10 oils for car \u003Cem>cce05bee-386b-11e5-a151-feff819cdc9f\u003C/em>:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Request\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">GET   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/?number_of_elements=10\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>\u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> can support also pagination:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Request\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">GET   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/?page=3&amp;number_of_elements=2\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Above request is telling \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> that returns the page 3 of all oils of car \u003Cem>cce05bee-386b-11e5-a151-feff819cdc9f\u003C/em> and it has to shown 2 oils per page. If we want to go to next page:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Request\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">GET   https://cardealer.com/api/cars/cce05bee-386b-11e5-a151-feff819cdc9f/oils/?page=4&amp;number_of_elements=2\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>All those features are supported by \u003Cstrong>query parameters\u003C/strong>.\u003C/p>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect1\">\n\u003Ch2 id=\"_common_mistake\">Common mistake\u003C/h2>\n\u003Cdiv class=\"sectionbody\">\n\u003Cdiv class=\"paragraph\">\n\u003Cp>First time I tried to design a \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a> I designed an \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a>, but \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>My main mistake was the \u003Ca href=\"https://en.wikipedia.org/wiki/Uniform_resource_locator\" target=\"_blank\" rel=\"noopener\">URL\u003C/a>s design, I added my own \u003Cem>verbs\u003C/em> skipping \u003Ca href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\">HTTP\u003C/a> \u003Cem>verbs\u003C/em>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Wrong\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">POST    https://example.com/api/cars/ford-focus/delete-oil/5W30\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">The correct way\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">DELETE  https://example.com/api/cars/ford-focus/oils/5W30\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv id=\"footnotes\">\n\u003Chr>\n\u003Cdiv class=\"footnote\" id=\"_footnotedef_1\">\n\u003Ca href=\"#_footnoteref_1\">1\u003C/a>. Create, Read, Update, Delete\n\u003C/div>\n\u003C/div>",{"title":3,"lang":4,"summary":5,"slug":6,"keywords":7,"filepath":11,"dirpath":12,"created":13,"modified":13,"otherLangs":14,"author":16,"previewimage":-1,"path":17},"REST URLs","en","Design REST API: URLs","rest-urls",[8,9,10],"REST","API","Web Services","/static/posts/rest-urls.en.adoc","/static/posts",1439726400000,[15],"es","Carlos Martin Sanchez","/langs/en/posts/rest-urls","\u003Cscript type=\"application/ld+json\">{\"@context\":\"https://schema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"Webpage\",\"@id\":\"https://google.com/article\"},\"headline\":\"REST URLs\",\"alternativeHeadline\":\"Design REST API: URLs\",\"description\":\"Design REST API: URLs\",\"datePublished\":\"2015-08-16T12:00:00.000Z\",\"dateModified\":\"2015-08-16T12:00:00.000Z\",\"keywords\":[\"REST\",\"API\",\"Web Services\"],\"author\":{\"@type\":\"Person\",\"name\":\"Carlos Martin Sanchez\"},\"publisher\":{\"@type\":\"Person\",\"name\":\"Carlos Martin Sanchez\"}}\u003C/script>"],"uses":{"params":["slug","lang"]}}]}
