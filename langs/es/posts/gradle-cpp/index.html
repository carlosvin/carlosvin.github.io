<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Construir un proyecto C++ con Gradle</title><!-- HTML_TAG_START -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-1328360-10', 'auto');
	</script>
	<!-- HTML_TAG_END --><meta name="date.created" content="2014-09-25T00:00:00.000Z" data-svelte="svelte-1lps7vh"><meta name="date.updated" content="2014-09-25T00:00:00.000Z" data-svelte="svelte-1lps7vh"><meta name="description" content="Cómo construir un proyecto típico C++ utilizando Gradle" data-svelte="svelte-1lps7vh"><link rel="alternate" hreflang="en" href="/langs/en/posts/gradle-cpp" data-svelte="svelte-1lps7vh"><link rel="alternate" href="/langs/es/posts/gradle-cpp.ld.json" type="application/ld+json" data-svelte="svelte-1lps7vh">

		

		<link rel="stylesheet" href="/_app/assets/start-61d1577b.css">
		<link rel="stylesheet" href="/_app/assets/pages/langs/_lang_/__layout.svelte-8bf39628.css">
		<link rel="stylesheet" href="/_app/assets/Social-7f1225f5.css">
		<link rel="stylesheet" href="/_app/assets/IconLink-98c179b7.css">
		<link rel="stylesheet" href="/_app/assets/pages/langs/_lang_/posts/_slug_.svelte-5c4cbc84.css">
		<link rel="stylesheet" href="/_app/assets/Details-4d02ff5e.css">
		<link rel="modulepreload" href="/_app/start-2ad185d8.js">
		<link rel="modulepreload" href="/_app/chunks/vendor-7b6b0807.js">
		<link rel="modulepreload" href="/_app/chunks/singletons-a42a5e91.js">
		<link rel="modulepreload" href="/_app/layout.svelte-31892555.js">
		<link rel="modulepreload" href="/_app/pages/langs/_lang_/__layout.svelte-cb1c0706.js">
		<link rel="modulepreload" href="/_app/chunks/lang-92ec2f88.js">
		<link rel="modulepreload" href="/_app/chunks/Social-d91f5de4.js">
		<link rel="modulepreload" href="/_app/chunks/IconLink-f7cf6098.js">
		<link rel="modulepreload" href="/_app/pages/langs/_lang_/posts/_slug_.svelte-498b05f9.js">
		<link rel="modulepreload" href="/_app/chunks/url-bb89230a.js">
		<link rel="modulepreload" href="/_app/chunks/Details-f56da587.js">

		<script type="module">
			import { start } from "/_app/start-2ad185d8.js";
			start({
				target: document.querySelector("#svelte"),
				paths: {"base":"","assets":""},
				session: {},
				route: true,
				spa: false,
				trailing_slash: "never",
				hydrate: {
					status: 200,
					error: null,
					nodes: [
						import("/_app/layout.svelte-31892555.js"),
						import("/_app/pages/langs/_lang_/__layout.svelte-cb1c0706.js"),
						import("/_app/pages/langs/_lang_/posts/_slug_.svelte-498b05f9.js")
					],
					url: new URL("http://prerender/langs/es/posts/gradle-cpp"),
					params: {lang:"es",slug:"gradle-cpp"}
				}
			});
		</script>
	</head>
	<body>
		<div id="svelte">




<nav class="svelte-1kqmhwi"><ul class="svelte-1kqmhwi"><li class="svelte-1rykg79"><a aria-current="page" href="/langs/es/posts" rel="prefetch" class="svelte-1rykg79"><img class="logo svelte-1kqmhwi" src="/favicon.png" alt="Carlos dice bla bla logo"></a>
</li></ul>
	<ul class="closed svelte-1kqmhwi"><li class="svelte-1rykg79"><a aria-current="page" href="/langs/es/posts" rel="prefetch" class="svelte-1rykg79"><span class="siteName">Carlos dice bla bla</span></a>
</li>
		<li class="svelte-1rykg79"><a href="/langs/es/categories" rel="prefetch" class="svelte-1rykg79">Categorías</a>
</li>
		<li class="svelte-1rykg79"><a href="/langs/es/about" rel="prefetch" class="svelte-1rykg79">About</a>
</li></ul>
	<div class="h svelte-geb0ta"><a href="/langs/es/feed.xml" target="_blank" class="icon rss svelte-blgowr" title="Suscríbete a Carlos dice bla bla" rel="noopener" aria-label="Suscríbete a Carlos dice bla bla">
</a>
	<a href="https://github.com/carlosvin" target="_blank" class="icon github svelte-blgowr" title="Find me at github" rel="noopener" aria-label="Find me at github">
</a>
	<a href="https://twitter.com/carlosvin" target="_blank" class="icon twitter svelte-blgowr" title="Find me at twitter" rel="noopener" aria-label="Find me at twitter">
</a>
	<a href="https://stackoverflow.com/story/carlosvin" target="_blank" class="icon stackoverflow svelte-blgowr" title="Find me at stackoverflow" rel="noopener" aria-label="Find me at stackoverflow">
</a>
</div>
	<button type="button" class="svelte-1kqmhwi">≡</button>
</nav>
<main class="svelte-1m42syy">

<header class="svelte-1ikjkmw"><h1 class="svelte-1ikjkmw">Construir un proyecto C++ con Gradle
		<span class="share svelte-1ikjkmw"><a href="https://twitter.com/intent/tweet?url=/langs/es/posts/gradle-cpp&amp;text=Construir un proyecto C++ con Gradle:&amp;nbsp;Cómo construir un proyecto típico C++ utilizando Gradle&amp;hashtags=Gradle,C++,Build Software,Build System,Dependency Management" target="_blank" class="icon twitter svelte-blgowr" title="Share &quot;Construir un proyecto C++ con Gradle&quot;" rel="noopener" aria-label="Share &quot;Construir un proyecto C++ con Gradle&quot;">
</a></span></h1>
	<p class="summary svelte-1ikjkmw">Cómo construir un proyecto típico C++ utilizando Gradle</p>
	<div class="subtitle svelte-19u0gw1"><span class="date svelte-19u0gw1">25/09/2014</span>
	<span class="tags svelte-wqh6y7"><a href="/langs/es/categories/gradle" title="Gradle" class="svelte-vx17la">Gradle
</a><a href="/langs/es/categories/c" title="C++" class="svelte-vx17la">C++
</a><a href="/langs/es/categories/build-software" title="Build Software" class="svelte-vx17la">Build Software
</a><a href="/langs/es/categories/build-system" title="Build System" class="svelte-vx17la">Build System
</a><a href="/langs/es/categories/dependency-management" title="Dependency Management" class="svelte-vx17la">Dependency Management
</a></span>
</div></header>

<div class="postContent"><!-- HTML_TAG_START --><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introducción">Introducción</a></li>
<li><a href="#_un_caso_práctico">Un caso práctico</a>
<ul class="sectlevel2">
<li><a href="#_estructura_del_proyecto">Estructura del proyecto</a></li>
<li><a href="#_la_aplicación_c">La Aplicación C++</a></li>
<li><a href="#_construyendo_con_gradle">Construyendo con Gradle</a></li>
<li><a href="#_pruébalo_tú_mism">Pruébalo tú mism@</a></li>
</ul>
</li>
<li><a href="#_conclusiones">Conclusiones</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_introducción">Introducción</h2>
<div class="sectionbody">
<div class="paragraph">
<p>La construcción, gestión de dependencias y distribución de mis proyectos es algo que cada vez me preocupa más, me gustaría encontrar una herramienta que unificara este proceso y fuese independiente del lenguaje, lo más parecido con lo que he trabajado ha sido <a href="https://www.scons.org" target="_blank" rel="noopener">SCons</a>, <a href="https://www.gnu.org/software/automake/manual/html_node/Autotools-Introduction.html#Autotools-Introduction" target="_blank" rel="noopener">Autotools</a>, <a href="https://ant.apache.org" target="_blank" rel="noopener">Ant</a>, <a href="https://maven.apache.org" target="_blank" rel="noopener">Maven</a> y últimamente <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a>.</p>
</div>
<div class="paragraph">
<p>Llevo un tiempo haciendo algunas cosas con <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a>, pero siempre centrado en proyectos <a href="https://www.java.com" target="_blank" rel="noopener">Java</a> <span class="line-through">utilizándolo como reemplazo a <a href="https://maven.apache.org" target="_blank" rel="noopener">Maven</a>, porque que es más sencillo de usar y más rápido</span>. Actualizacion 2020: <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> sigue siendo más rápido que <a href="https://maven.apache.org" target="_blank" rel="noopener">Maven</a>, pero al final sigo utilizando <a href="https://maven.apache.org" target="_blank" rel="noopener">Maven</a> para proyectos profesionales por la estabilidad de su API y sus ciclos de vida más restrictivos.
También lo he utilizado en projectos <a href="https://developer.android.com/studio/build" target="_blank" rel="noopener">Android</a> y he sufrido <a href="https://developer.android.com/sdk/installing/studio-build.html" target="_blank" rel="noopener">Android Studio + Gradle</a> en sus fases tempranas, actualmente está todo mucho más documentado y funciona muy bien.</p>
</div>
<div class="paragraph">
<p>Antes de nada hay que decir que la construcción de proyectos C/C++ y Objective-C con <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> se encuentra en fase de <a href="https://docs.gradle.org/current/userguide/feature_lifecycle.html#sec:incubating_state" target="_blank" rel="noopener">incubación</a>, aunque ya permite realizar algunas tareas avanzadas como:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Generación de múltiples artefactos dentro del mismo proyecto, esto es varias librerías o ejecutables.</p>
</li>
<li>
<p>Gestionar las dependencias entre estos artefactos (sin versiones).</p>
</li>
<li>
<p>Generar distintos "sabores" de aplicaciones, por ejemplo: podremos generar una aplicación "Community" y otra con más características habilitadas llamada "Enterprise".</p>
</li>
<li>
<p>Permite generar binarios para distintas plataformas, esto depende de las cadenas de herramientas (<a href="https://en.wikipedia.org/wiki/Toolchain" target="_blank" rel="noopener">Toolchain</a>) que tengamos instaladas en la máquina de compilación.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Como decía todavía tiene limitaciones, aunque están trabajando en ello <a href="https://blog.gradle.org/state-and-future-of-the-gradle-software-model#a-way-forward">si consiguen lo que tienen planeado</a>, <span class="line-through">y si lo consiguen,  dejaré <a href="https://www.gnu.org/software/automake/manual/html_node/Autotools-Introduction.html#Autotools-Introduction" target="_blank" rel="noopener">Autotools</a> (me arrepentiré de haber dicho esto)</span>. Actualización 2000: Realmente, unos años más tarde, no estoy utilizando <a href="https://www.gnu.org/software/automake/manual/html_node/Autotools-Introduction.html#Autotools-Introduction" target="_blank" rel="noopener">Autotools</a> ni tampoco <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a>, estoy usando <a href="https://mesonbuild.com/">Meson</a> y considerando <a href="https://docs.bazel.build/versions/master/tutorial/cpp.html">Bazel</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_un_caso_práctico">Un caso práctico</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Básicamente he sacado todo el ejemplo de <a href="https://docs.gradle.org/current/userguide/native_software.html">la guia de construcción de software native de Gradle</a> y lo he adaptado a un caso en el que hay varias plataformas y quiero generar dos versiones distintas de mi software "Community" y "Enterprise".</p>
</div>
<div class="paragraph">
<p>La aplicación es un ejecutable y una librería dinámica. El ejecutable hace uso de esta librería. Ya está, solo quiero mostrar lo que nos permite hacer <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a>.</p>
</div>
<div class="paragraph">
<p>También nos permitirá generar una versión para distribuir (producción) y otra para depurar (desarrollo).</p>
</div>
<div class="paragraph">
<p>Todo el código se encuentra en <a href="https://github.com/carlosvin/cpp_gradle" class="bare">https://github.com/carlosvin/cpp_gradle</a>.</p>
</div>
<div class="sect2">
<h3 id="_estructura_del_proyecto">Estructura del proyecto</h3>
<div class="paragraph">
<p>Podemos crear la estructura que queramos, pero resulta más fácil seguir la que recomienda <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a>, para no tener que especificar donde está el código fuente. Ésta es la estructura del proyecto:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">gradle-cpp</dt>
<dd>
<p>Directorio raíz.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">build.gradle</dt>
<dd>
<p>Fichero donde se configura el proyecto <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a>, el equivalente al build.xml de <a href="https://ant.apache.org" target="_blank" rel="noopener">Ant</a>, al <a href="https://www.gnu.org/software/make/manual/html_node/Makefiles.html:" target="_blank" rel="noopener">Makefile</a> de C/C++ o al pom.xml de <a href="https://maven.apache.org" target="_blank" rel="noopener">Maven</a>.</p>
</dd>
<dt class="hdlist1">src</dt>
<dd>
<p>Carpeta donde va todo el código fuente</p>
<div class="dlist">
<dl>
<dt class="hdlist1">hello</dt>
<dd>
<p>Carpeta que contiene el módulo que va a ser la librería hello.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">cpp</dt>
<dd>
<p>Carpeta donde van los fuentes C++.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Hello.cpp</dt>
<dd>
<p> Implementación de la clase Hello.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">headers</dt>
<dd>
<p>Carpeta donde van los ficheros de cabeceras.
Hello.h:::: Declaración de la Clase Hello.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Msg.h</dt>
<dd>
<p>Declaración de constantes.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">main</dt>
<dd>
<p>Carpeta que contiene el módulo que será el ejecutable que utilice la librería hello.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">cpp</dt>
<dd>
<p>Carpeta donde van los fuentes C++.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">main.cpp</dt>
<dd>
<p>Código fuente con la función main.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">build</dt>
<dd>
<p>Carpeta que crea Gradle automáticamente donde deja todos los resultados sus ejecuciones, en ella encontraremos informes de resultados de pruebas, binarios compilados, paquetes para distribuir, etc.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_la_aplicación_c">La Aplicación C++</h3>
<div class="paragraph">
<p>Va a consistir en un ejecutable que hará uso de la funcionalidad de la librería ’hello’.</p>
</div>
<div class="listingblock">
<div class="title">main.cpp</div>
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Hello.h&quot;</span></span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> ** argv)</span>
</span>{
    <span class="hljs-function">Hello <span class="hljs-title">hello</span> <span class="hljs-params">(<span class="hljs-string">&quot;Pepito&quot;</span>)</span></span>;
    hello.<span class="hljs-built_in">sayHello</span>(<span class="hljs-number">10</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Esta librería permite saludar `n`<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> veces a una persona especificada en su constructor.</p>
</div>
<div class="listingblock">
<div class="title">Hello.h</div>
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span>
{
    <span class="hljs-keyword">private</span>:
        <span class="hljs-type">const</span> <span class="hljs-type">char</span> * who;
    <span class="hljs-keyword">public</span>:
        <span class="hljs-built_in">Hello</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * who);
        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">sayHello</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> n = <span class="hljs-number">1</span>)</span></span>;
};</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_construyendo_con_gradle">Construyendo con Gradle</h3>
<div class="sect3">
<h4 id="_caso_básico">Caso básico</h4>
<div class="paragraph">
<p>Lo único que necesitamos para construir nuestra aplicación con <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> es: tener <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a><sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> y el fichero <code>build.gradle</code>.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">apply <span class="hljs-attr">plugin:</span> <span class="hljs-string">&#x27;cpp&#x27;</span>

model {
  components {
    hello(NativeLibrarySpec) {}
    main(NativeExecutableSpec) {
      binaries.all {
        lib <span class="hljs-attr">library:</span> <span class="hljs-string">&quot;hello&quot;</span>
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Con este fichero tan simple, conseguiremos compilar e instalar nuestra aplicación, en modo Debug para la plataforma donde estamos ejecutando <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a>, en mi caso es Linux X64.</p>
</div>
<div class="paragraph">
<p>Si ejecutamos desde la raíz de nuestro proyecto <code>gradle task</code>, podremos ver todas las tareas que podemos hacer.</p>
</div>
<div class="paragraph">
<p>En nuestro caso, solo queremos nuestra aplicación compilada y lista para funcionar, así que ejecutaremos: <code>gradle installMainExecutable</code>.</p>
</div>
<div class="paragraph">
<p>Una vez que ha terminado, podemos ejecutar el programa llamando al script `build/install/mainExecutable/main`<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup>.</p>
</div>
<div class="listingblock">
<div class="title">Output</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ build/install/mainExecutable/main
1.  Hello Mr. Pepito (Community)
2.  Hello Mr. Pepito (Community)
3.  Hello Mr. Pepito (Community)
4.  Hello Mr. Pepito (Community)
5.  Hello Mr. Pepito (Community)
6.  Hello Mr. Pepito (Community)
7.  Hello Mr. Pepito (Community)
8.  Hello Mr. Pepito (Community)
9.  Hello Mr. Pepito (Community)
10. Hello Mr. Pepito (Community)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_distintos_sabores">Distintos “Sabores”</h4>
<div class="paragraph">
<p>Con unas pocas líneas más, podemos generar distintas versiones de la misma aplicación, en nuestro ejemplo vamos a generar una versión “Community” y otra “Enterprise”.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">apply <span class="hljs-attr">plugin:</span> <span class="hljs-string">&#x27;cpp&#x27;</span>

model {
  flavors {
      community
      enterprise
  }

  components {
    hello(NativeLibrarySpec) {
      binaries.all {
        <span class="hljs-keyword">if</span> (flavor == flavors.enterprise) {
          cppCompiler.define <span class="hljs-string">&quot;ENTERPRISE&quot;</span>
        }
      }
    }
    main(NativeExecutableSpec) {
      binaries.all {
        lib <span class="hljs-attr">library:</span> <span class="hljs-string">&quot;hello&quot;</span>
        }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Además tenemos que preparar nuestra aplicación para utilizar estos parámetros de compilación.</p>
</div>
<div class="listingblock">
<div class="title">Msg.h</div>
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> ENTERPRISE</span>
<span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> * EDITION = <span class="hljs-string">&quot;Enterprise&quot;</span>;

<span class="hljs-meta">#<span class="hljs-keyword">else</span></span>
<span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span> * EDITION = <span class="hljs-string">&quot;Community&quot;</span>;

<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>De esta forma se utiliza una cadena u otra en función del “sabor” con que compilemos.</p>
</div>
<div class="paragraph">
<p>Si ahora ejecutamos <code>gradle clean task</code> en la raíz de nuestro proyecto, veremos que tenemos más tareas disponibles, antes teníamos <code>installMainExecutable</code> y ahora ha sido reemplazada por <code>installCommunityMainExecutable</code> y <code>installEnterpriseMainExecutable</code>.</p>
</div>
<div class="paragraph">
<p>Si ejecutamos estas dos tareas, tendremos nuestra aplicación instalada en los dos sabores.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash"><span class="hljs-variable">$gradle</span> installEnterpriseMainExecutable installCommunityMainExecutable

:compileEnterpriseHelloSharedLibraryHelloCpp
:linkEnterpriseHelloSharedLibrary
:enterpriseHelloSharedLibrary
:compileEnterpriseMainExecutableMainCpp
:linkEnterpriseMainExecutable
:enterpriseMainExecutable
:installEnterpriseMainExecutable
:compileCommunityHelloSharedLibraryHelloCpp
:linkCommunityHelloSharedLibrary
:communityHelloSharedLibrary
:compileCommunityMainExecutableMainCpp
:linkCommunityMainExecutable
:communityMainExecutable
:installCommunityMainExecutable

BUILD SUCCESSFUL
Total time: 9.414 secs</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ahora podemos ejecutar nuestra aplicación en los dos sabores:</p>
</div>
<div class="listingblock">
<div class="title">Community</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ build/install/mainExecutable/community/main
1.      Hello Mr. Pepito        (Community)
2.      Hello Mr. Pepito        (Community)
3.      Hello Mr. Pepito        (Community)
4.      Hello Mr. Pepito        (Community)
5.      Hello Mr. Pepito        (Community)
6.      Hello Mr. Pepito        (Community)
7.      Hello Mr. Pepito        (Community)
8.      Hello Mr. Pepito        (Community)
9.      Hello Mr. Pepito        (Community)
10.     Hello Mr. Pepito        (Community)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Enterprise</div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ build/install/mainExecutable/enterprise/main
1.      Hello Mr. Pepito        (Enterprise)
2.      Hello Mr. Pepito        (Enterprise)
3.      Hello Mr. Pepito        (Enterprise)
4.      Hello Mr. Pepito        (Enterprise)
5.      Hello Mr. Pepito        (Enterprise)
6.      Hello Mr. Pepito        (Enterprise)
7.      Hello Mr. Pepito        (Enterprise)
8.      Hello Mr. Pepito        (Enterprise)
9.      Hello Mr. Pepito        (Enterprise)
10.     Hello Mr. Pepito        (Enterprise)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_release_o_debug">Release o Debug</h4>
<div class="paragraph">
<p>Por defecto <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> compila nuestra aplicación en modo Debug, pero podemos añadir el modo Release para que active algunas optimizaciones<sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup>.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">apply <span class="hljs-attr">plugin:</span> <span class="hljs-string">&#x27;cpp&#x27;</span>
model {
    buildTypes {
        debug
        release
    }

<span class="hljs-comment">// ... the rest of file below doesn&#x27;t change</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si ahora ejecutamos <code>gradle clean task</code> veremos que tenemos más tareas, se habrán desdoblado las que teníamos, por ejemplo <code>installCommunityMainExecutable</code> se habrá desdoblado en <code>installDebugCommunityMainExecutable</code> y <code>installReleaseCommunityMainExecutable</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_multi_plataforma">Multi-plataforma</h4>
<div class="paragraph">
<p>También tenemos las posibilidad de utilizar las características de compilación cruzada que nos ofrecen los compiladores y generar componentes nativos para otras plataformas. El proceso es el mismo, simplemente tenemos que dar te alta las plataformas que vamos a soportar.</p>
</div>
<div class="paragraph">
<p>Esto solo funcionará si en nuestro sistema tenemos instalada la cadena de herramientas (<a href="https://en.wikipedia.org/wiki/Toolchain" target="_blank" rel="noopener">Toolchain</a>) necesaria, es decir, si en un sistema de 64 bits queremos compilar para 32 bits, tendremos que tener instaladas las librerías necesarias para 32 bits.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">apply <span class="hljs-attr">plugin:</span> <span class="hljs-string">&#x27;cpp&#x27;</span>

model {
  buildTypes {
    debug
    release
  }

  platforms {
    x86 {
      architecture <span class="hljs-string">&quot;x86&quot;</span>
    }
    x64 {
      architecture <span class="hljs-string">&quot;x86_64&quot;</span>
    }
    itanium {
      architecture <span class="hljs-string">&quot;ia-64&quot;</span>
    }
  }

  flavors {
    community
    enterprise
  }

  components {
    hello(NativeLibrarySpec) {
      binaries.all {
        <span class="hljs-keyword">if</span> (flavor == flavors.enterprise) {
          cppCompiler.define <span class="hljs-string">&quot;ENTERPRISE&quot;</span>
        }
      }
    }
    main(NativeExecutableSpec) {
      binaries.all {
        lib <span class="hljs-attr">library:</span> <span class="hljs-string">&quot;hello&quot;</span>
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ejecutando <code>gradle clean task</code> podremos ver las distintas opciones de construción que tenemos, en nuestro caso veremos que podemos construir distintas versiones de nuestra aplicación en distintos sabores, para distintas plataformas en Debug o Release.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pruébalo_tú_mism">Pruébalo tú mism@</h3>
<div class="paragraph">
<p>El proyecto se encuentra en <a href="https://github.com/carlosvin/cpp_gradle" class="bare">https://github.com/carlosvin/cpp_gradle</a>.</p>
</div>
<div class="paragraph">
<p>Para poder probar necesitas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Tener instalado <a href="https://www.java.com" target="_blank" rel="noopener">Java</a> a partir de la versión 6.</p>
</li>
<li>
<p>Tener algún compilador instalado (por ejemplo <a href="https://gcc.gnu.org/" target="_blank" rel="noopener">GCC</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Solo tienes que seguir los siguientes pasos:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>git clone <a href="mailto:git@github.com">git@github.com</a>:carlosvin/cpp_gradle.git</code></p>
</li>
<li>
<p><code>cd cpp_gradle</code></p>
</li>
<li>
<p><code>./gradlew task</code> o <code>./gradlew.bat task</code> si estás en Windows. De esta forma verás todas las tareas que te ofrece <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> para este proyecto. La primera vez tardará un poco porque se descarga una versión de <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a>.</p>
</li>
<li>
<p>Si estás en una máquina de 64 bits, por ejemplo utiliza este comando para compilar e instalar la aplicación <code>./gradlew installX64ReleaseEnterpriseMainExecutable</code>.</p>
</li>
<li>
<p>Ejecuta la aplicación que acabas de construir <code>build/install/mainExecutable/x64ReleaseEnterprise/main</code></p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusiones">Conclusiones</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Con una configuración mínima, tenemos muchas posibilidades de construcción de aplicaciones nativas multi-plataforma.</p>
</div>
<div class="paragraph">
<p>Tiene un futuro prometedor, veremos como termina.</p>
</div>
<div class="paragraph">
<p>Podemos utilizar otras características de <a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> y aplicarlas a nuestros proyectos C++, como análisis estáticos de código, generación de informes (pruebas, cobertura, calidad, etc.), fácil incorporación a sistemas de integración continua.</p>
</div>
<div class="paragraph">
<p><a href="https://www.gradle.org" target="_blank" rel="noopener">Gradle</a> para C++ es una característica que actualmente está en desarrollo, por lo que no hay que olvidar que:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No debemos utilizar en entornos reales de desarrollo, puede acarrear muchos dolores de cabeza.</p>
</li>
<li>
<p>La forma de definir el fichero build.gradle para esta característica puede cambiar.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Todo el ejemplo se encuentra en <a href="https://github.com/carlosvin/cpp_gradle" class="bare">https://github.com/carlosvin/cpp_gradle</a>. Os recomiendo que lo descarguéis y probéis lo sencillo que resulta.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Si encontráis algún problema en el ejemplo, escribir un comentario, abrir un defecto o corregirlo vosotros mismos en <a href="https://github.com/carlosvin/cpp_gradle" class="bare">https://github.com/carlosvin/cpp_gradle</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Más información en <a href="https://docs.gradle.org/current/userguide/native_software.html">Getting Started Gradle Native</a>.</p>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. n es un número entero positivo
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. Realmente no es necesario tener instalado Gradle, si utilizamos el wrapper, pero esto no lo vamos a tratar hoy, <a href="https://docs.gradle.org/current/userguide/gradle_wrapper.html">si queréis más información</a>.
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. .bat en Windows y sin extensión en Linux
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. También podemos definir el tipo de optimizaciones que vamos a utilizar.
</div>
</div><!-- HTML_TAG_END -->
	<div class="comments"><script src="https://utteranc.es/client.js" repo="carlosvin/carlosvin.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script></div>
	
	<a href="/posts/gradle-cpp/es"></a>
	
	<a href="/posts/gradle-cpp"></a>
</div>
</main>

<script type="application/json" data-type="svelte-data" data-url="/langs/es/posts/gradle-cpp.json">{"status":200,"statusText":"","headers":{"content-type":"application/json; charset=utf-8"},"body":"{\"html\":\"\u003Cdiv id=\\\"toc\\\" class=\\\"toc\\\"\u003E\\n\u003Cdiv id=\\\"toctitle\\\"\u003ETable of Contents\u003C\u002Fdiv\u003E\\n\u003Cul class=\\\"sectlevel1\\\"\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_introducción\\\"\u003EIntroducción\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_un_caso_práctico\\\"\u003EUn caso práctico\u003C\u002Fa\u003E\\n\u003Cul class=\\\"sectlevel2\\\"\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_estructura_del_proyecto\\\"\u003EEstructura del proyecto\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_la_aplicación_c\\\"\u003ELa Aplicación C++\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_construyendo_con_gradle\\\"\u003EConstruyendo con Gradle\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_pruébalo_tú_mism\\\"\u003EPruébalo tú mism@\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#_conclusiones\\\"\u003EConclusiones\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect1\\\"\u003E\\n\u003Ch2 id=\\\"_introducción\\\"\u003EIntroducción\u003C\u002Fh2\u003E\\n\u003Cdiv class=\\\"sectionbody\\\"\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ELa construcción, gestión de dependencias y distribución de mis proyectos es algo que cada vez me preocupa más, me gustaría encontrar una herramienta que unificara este proceso y fuese independiente del lenguaje, lo más parecido con lo que he trabajado ha sido \u003Ca href=\\\"https:\u002F\u002Fwww.scons.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003ESCons\u003C\u002Fa\u003E, \u003Ca href=\\\"https:\u002F\u002Fwww.gnu.org\u002Fsoftware\u002Fautomake\u002Fmanual\u002Fhtml_node\u002FAutotools-Introduction.html#Autotools-Introduction\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAutotools\u003C\u002Fa\u003E, \u003Ca href=\\\"https:\u002F\u002Fant.apache.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAnt\u003C\u002Fa\u003E, \u003Ca href=\\\"https:\u002F\u002Fmaven.apache.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaven\u003C\u002Fa\u003E y últimamente \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ELlevo un tiempo haciendo algunas cosas con \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E, pero siempre centrado en proyectos \u003Ca href=\\\"https:\u002F\u002Fwww.java.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EJava\u003C\u002Fa\u003E \u003Cspan class=\\\"line-through\\\"\u003Eutilizándolo como reemplazo a \u003Ca href=\\\"https:\u002F\u002Fmaven.apache.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaven\u003C\u002Fa\u003E, porque que es más sencillo de usar y más rápido\u003C\u002Fspan\u003E. Actualizacion 2020: \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E sigue siendo más rápido que \u003Ca href=\\\"https:\u002F\u002Fmaven.apache.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaven\u003C\u002Fa\u003E, pero al final sigo utilizando \u003Ca href=\\\"https:\u002F\u002Fmaven.apache.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaven\u003C\u002Fa\u003E para proyectos profesionales por la estabilidad de su API y sus ciclos de vida más restrictivos.\\nTambién lo he utilizado en projectos \u003Ca href=\\\"https:\u002F\u002Fdeveloper.android.com\u002Fstudio\u002Fbuild\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAndroid\u003C\u002Fa\u003E y he sufrido \u003Ca href=\\\"https:\u002F\u002Fdeveloper.android.com\u002Fsdk\u002Finstalling\u002Fstudio-build.html\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAndroid Studio + Gradle\u003C\u002Fa\u003E en sus fases tempranas, actualmente está todo mucho más documentado y funciona muy bien.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EAntes de nada hay que decir que la construcción de proyectos C\u002FC++ y Objective-C con \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E se encuentra en fase de \u003Ca href=\\\"https:\u002F\u002Fdocs.gradle.org\u002Fcurrent\u002Fuserguide\u002Ffeature_lifecycle.html#sec:incubating_state\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003Eincubación\u003C\u002Fa\u003E, aunque ya permite realizar algunas tareas avanzadas como:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EGeneración de múltiples artefactos dentro del mismo proyecto, esto es varias librerías o ejecutables.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EGestionar las dependencias entre estos artefactos (sin versiones).\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EGenerar distintos \\\"sabores\\\" de aplicaciones, por ejemplo: podremos generar una aplicación \\\"Community\\\" y otra con más características habilitadas llamada \\\"Enterprise\\\".\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EPermite generar binarios para distintas plataformas, esto depende de las cadenas de herramientas (\u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FToolchain\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EToolchain\u003C\u002Fa\u003E) que tengamos instaladas en la máquina de compilación.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EComo decía todavía tiene limitaciones, aunque están trabajando en ello \u003Ca href=\\\"https:\u002F\u002Fblog.gradle.org\u002Fstate-and-future-of-the-gradle-software-model#a-way-forward\\\"\u003Esi consiguen lo que tienen planeado\u003C\u002Fa\u003E, \u003Cspan class=\\\"line-through\\\"\u003Ey si lo consiguen,  dejaré \u003Ca href=\\\"https:\u002F\u002Fwww.gnu.org\u002Fsoftware\u002Fautomake\u002Fmanual\u002Fhtml_node\u002FAutotools-Introduction.html#Autotools-Introduction\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAutotools\u003C\u002Fa\u003E (me arrepentiré de haber dicho esto)\u003C\u002Fspan\u003E. Actualización 2000: Realmente, unos años más tarde, no estoy utilizando \u003Ca href=\\\"https:\u002F\u002Fwww.gnu.org\u002Fsoftware\u002Fautomake\u002Fmanual\u002Fhtml_node\u002FAutotools-Introduction.html#Autotools-Introduction\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAutotools\u003C\u002Fa\u003E ni tampoco \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E, estoy usando \u003Ca href=\\\"https:\u002F\u002Fmesonbuild.com\u002F\\\"\u003EMeson\u003C\u002Fa\u003E y considerando \u003Ca href=\\\"https:\u002F\u002Fdocs.bazel.build\u002Fversions\u002Fmaster\u002Ftutorial\u002Fcpp.html\\\"\u003EBazel\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect1\\\"\u003E\\n\u003Ch2 id=\\\"_un_caso_práctico\\\"\u003EUn caso práctico\u003C\u002Fh2\u003E\\n\u003Cdiv class=\\\"sectionbody\\\"\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EBásicamente he sacado todo el ejemplo de \u003Ca href=\\\"https:\u002F\u002Fdocs.gradle.org\u002Fcurrent\u002Fuserguide\u002Fnative_software.html\\\"\u003Ela guia de construcción de software native de Gradle\u003C\u002Fa\u003E y lo he adaptado a un caso en el que hay varias plataformas y quiero generar dos versiones distintas de mi software \\\"Community\\\" y \\\"Enterprise\\\".\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ELa aplicación es un ejecutable y una librería dinámica. El ejecutable hace uso de esta librería. Ya está, solo quiero mostrar lo que nos permite hacer \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ETambién nos permitirá generar una versión para distribuir (producción) y otra para depurar (desarrollo).\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ETodo el código se encuentra en \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\\\" class=\\\"bare\\\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_estructura_del_proyecto\\\"\u003EEstructura del proyecto\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EPodemos crear la estructura que queramos, pero resulta más fácil seguir la que recomienda \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E, para no tener que especificar donde está el código fuente. Ésta es la estructura del proyecto:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"dlist\\\"\u003E\\n\u003Cdl\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Egradle-cpp\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003EDirectorio raíz.\u003C\u002Fp\u003E\\n\u003Cdiv class=\\\"dlist\\\"\u003E\\n\u003Cdl\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Ebuild.gradle\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003EFichero donde se configura el proyecto \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E, el equivalente al build.xml de \u003Ca href=\\\"https:\u002F\u002Fant.apache.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EAnt\u003C\u002Fa\u003E, al \u003Ca href=\\\"https:\u002F\u002Fwww.gnu.org\u002Fsoftware\u002Fmake\u002Fmanual\u002Fhtml_node\u002FMakefiles.html:\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMakefile\u003C\u002Fa\u003E de C\u002FC++ o al pom.xml de \u003Ca href=\\\"https:\u002F\u002Fmaven.apache.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMaven\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdd\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Esrc\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003ECarpeta donde va todo el código fuente\u003C\u002Fp\u003E\\n\u003Cdiv class=\\\"dlist\\\"\u003E\\n\u003Cdl\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Ehello\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003ECarpeta que contiene el módulo que va a ser la librería hello.\u003C\u002Fp\u003E\\n\u003C\u002Fdd\u003E\\n\u003C\u002Fdl\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdd\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Ecpp\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003ECarpeta donde van los fuentes C++.\u003C\u002Fp\u003E\\n\u003Cdiv class=\\\"dlist\\\"\u003E\\n\u003Cdl\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003EHello.cpp\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003E Implementación de la clase Hello.\u003C\u002Fp\u003E\\n\u003C\u002Fdd\u003E\\n\u003C\u002Fdl\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdd\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Eheaders\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003ECarpeta donde van los ficheros de cabeceras.\\nHello.h:::: Declaración de la Clase Hello.\u003C\u002Fp\u003E\\n\u003Cdiv class=\\\"dlist\\\"\u003E\\n\u003Cdl\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003EMsg.h\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003EDeclaración de constantes.\u003C\u002Fp\u003E\\n\u003C\u002Fdd\u003E\\n\u003C\u002Fdl\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdd\u003E\\n\u003C\u002Fdl\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdd\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Emain\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003ECarpeta que contiene el módulo que será el ejecutable que utilice la librería hello.\u003C\u002Fp\u003E\\n\u003Cdiv class=\\\"dlist\\\"\u003E\\n\u003Cdl\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Ecpp\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003ECarpeta donde van los fuentes C++.\u003C\u002Fp\u003E\\n\u003Cdiv class=\\\"dlist\\\"\u003E\\n\u003Cdl\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Emain.cpp\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003ECódigo fuente con la función main.\u003C\u002Fp\u003E\\n\u003C\u002Fdd\u003E\\n\u003C\u002Fdl\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdd\u003E\\n\u003Cdt class=\\\"hdlist1\\\"\u003Ebuild\u003C\u002Fdt\u003E\\n\u003Cdd\u003E\\n\u003Cp\u003ECarpeta que crea Gradle automáticamente donde deja todos los resultados sus ejecuciones, en ella encontraremos informes de resultados de pruebas, binarios compilados, paquetes para distribuir, etc.\u003C\u002Fp\u003E\\n\u003C\u002Fdd\u003E\\n\u003C\u002Fdl\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdd\u003E\\n\u003C\u002Fdl\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_la_aplicación_c\\\"\u003ELa Aplicación C++\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EVa a consistir en un ejecutable que hará uso de la funcionalidad de la librería ’hello’.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003Emain.cpp\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-cpp\\\" data-lang=\\\"cpp\\\"\u003E\u003Cspan class=\\\"hljs-meta\\\"\u003E#\u003Cspan class=\\\"hljs-keyword\\\"\u003Einclude\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;Hello.h&quot;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-function\\\"\u003E\u003Cspan class=\\\"hljs-type\\\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title\\\"\u003Emain\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-params\\\"\u003E(\u003Cspan class=\\\"hljs-type\\\"\u003Eint\u003C\u002Fspan\u003E argc, \u003Cspan class=\\\"hljs-type\\\"\u003Echar\u003C\u002Fspan\u003E ** argv)\u003C\u002Fspan\u003E\\n\u003C\u002Fspan\u003E{\\n    \u003Cspan class=\\\"hljs-function\\\"\u003EHello \u003Cspan class=\\\"hljs-title\\\"\u003Ehello\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-params\\\"\u003E(\u003Cspan class=\\\"hljs-string\\\"\u003E&quot;Pepito&quot;\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E;\\n    hello.\u003Cspan class=\\\"hljs-built_in\\\"\u003EsayHello\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-number\\\"\u003E10\u003C\u002Fspan\u003E);\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E;\\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EEsta librería permite saludar `n`\u003Csup class=\\\"footnote\\\"\u003E[\u003Ca id=\\\"_footnoteref_1\\\" class=\\\"footnote\\\" href=\\\"#_footnotedef_1\\\" title=\\\"View footnote.\\\"\u003E1\u003C\u002Fa\u003E]\u003C\u002Fsup\u003E veces a una persona especificada en su constructor.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003EHello.h\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-cpp\\\" data-lang=\\\"cpp\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title class_\\\"\u003EHello\u003C\u002Fspan\u003E\\n{\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Eprivate\u003C\u002Fspan\u003E:\\n        \u003Cspan class=\\\"hljs-type\\\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-type\\\"\u003Echar\u003C\u002Fspan\u003E * who;\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Epublic\u003C\u002Fspan\u003E:\\n        \u003Cspan class=\\\"hljs-built_in\\\"\u003EHello\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-type\\\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-type\\\"\u003Echar\u003C\u002Fspan\u003E * who);\\n        \u003Cspan class=\\\"hljs-function\\\"\u003E\u003Cspan class=\\\"hljs-type\\\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title\\\"\u003EsayHello\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-params\\\"\u003E(\u003Cspan class=\\\"hljs-type\\\"\u003Eunsigned\u003C\u002Fspan\u003E n = \u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E;\\n};\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_construyendo_con_gradle\\\"\u003EConstruyendo con Gradle\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"sect3\\\"\u003E\\n\u003Ch4 id=\\\"_caso_básico\\\"\u003ECaso básico\u003C\u002Fh4\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ELo único que necesitamos para construir nuestra aplicación con \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E es: tener \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E\u003Csup class=\\\"footnote\\\"\u003E[\u003Ca id=\\\"_footnoteref_2\\\" class=\\\"footnote\\\" href=\\\"#_footnotedef_2\\\" title=\\\"View footnote.\\\"\u003E2\u003C\u002Fa\u003E]\u003C\u002Fsup\u003E y el fichero \u003Ccode\u003Ebuild.gradle\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003Ebuild.gradle\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-groovy\\\" data-lang=\\\"groovy\\\"\u003Eapply \u003Cspan class=\\\"hljs-attr\\\"\u003Eplugin:\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;cpp&#x27;\u003C\u002Fspan\u003E\\n\\nmodel {\\n  components {\\n    hello(NativeLibrarySpec) {}\\n    main(NativeExecutableSpec) {\\n      binaries.all {\\n        lib \u003Cspan class=\\\"hljs-attr\\\"\u003Elibrary:\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;hello&quot;\u003C\u002Fspan\u003E\\n      }\\n    }\\n  }\\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ECon este fichero tan simple, conseguiremos compilar e instalar nuestra aplicación, en modo Debug para la plataforma donde estamos ejecutando \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E, en mi caso es Linux X64.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ESi ejecutamos desde la raíz de nuestro proyecto \u003Ccode\u003Egradle task\u003C\u002Fcode\u003E, podremos ver todas las tareas que podemos hacer.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EEn nuestro caso, solo queremos nuestra aplicación compilada y lista para funcionar, así que ejecutaremos: \u003Ccode\u003Egradle installMainExecutable\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EUna vez que ha terminado, podemos ejecutar el programa llamando al script `build\u002Finstall\u002FmainExecutable\u002Fmain`\u003Csup class=\\\"footnote\\\"\u003E[\u003Ca id=\\\"_footnoteref_3\\\" class=\\\"footnote\\\" href=\\\"#_footnotedef_3\\\" title=\\\"View footnote.\\\"\u003E3\u003C\u002Fa\u003E]\u003C\u002Fsup\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003EOutput\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-bash\\\" data-lang=\\\"bash\\\"\u003E$ build\u002Finstall\u002FmainExecutable\u002Fmain\\n1.  Hello Mr. Pepito (Community)\\n2.  Hello Mr. Pepito (Community)\\n3.  Hello Mr. Pepito (Community)\\n4.  Hello Mr. Pepito (Community)\\n5.  Hello Mr. Pepito (Community)\\n6.  Hello Mr. Pepito (Community)\\n7.  Hello Mr. Pepito (Community)\\n8.  Hello Mr. Pepito (Community)\\n9.  Hello Mr. Pepito (Community)\\n10. Hello Mr. Pepito (Community)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect3\\\"\u003E\\n\u003Ch4 id=\\\"_distintos_sabores\\\"\u003EDistintos “Sabores”\u003C\u002Fh4\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ECon unas pocas líneas más, podemos generar distintas versiones de la misma aplicación, en nuestro ejemplo vamos a generar una versión “Community” y otra “Enterprise”.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003Ebuild.gradle\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-groovy\\\" data-lang=\\\"groovy\\\"\u003Eapply \u003Cspan class=\\\"hljs-attr\\\"\u003Eplugin:\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;cpp&#x27;\u003C\u002Fspan\u003E\\n\\nmodel {\\n  flavors {\\n      community\\n      enterprise\\n  }\\n\\n  components {\\n    hello(NativeLibrarySpec) {\\n      binaries.all {\\n        \u003Cspan class=\\\"hljs-keyword\\\"\u003Eif\u003C\u002Fspan\u003E (flavor == flavors.enterprise) {\\n          cppCompiler.define \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;ENTERPRISE&quot;\u003C\u002Fspan\u003E\\n        }\\n      }\\n    }\\n    main(NativeExecutableSpec) {\\n      binaries.all {\\n        lib \u003Cspan class=\\\"hljs-attr\\\"\u003Elibrary:\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;hello&quot;\u003C\u002Fspan\u003E\\n        }\\n    }\\n  }\\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EAdemás tenemos que preparar nuestra aplicación para utilizar estos parámetros de compilación.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003EMsg.h\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-cpp\\\" data-lang=\\\"cpp\\\"\u003E\u003Cspan class=\\\"hljs-meta\\\"\u003E#\u003Cspan class=\\\"hljs-keyword\\\"\u003Eifdef\u003C\u002Fspan\u003E ENTERPRISE\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-type\\\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-type\\\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-type\\\"\u003Echar\u003C\u002Fspan\u003E * EDITION = \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;Enterprise&quot;\u003C\u002Fspan\u003E;\\n\\n\u003Cspan class=\\\"hljs-meta\\\"\u003E#\u003Cspan class=\\\"hljs-keyword\\\"\u003Eelse\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-type\\\"\u003Estatic\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-type\\\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-type\\\"\u003Echar\u003C\u002Fspan\u003E * EDITION = \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;Community&quot;\u003C\u002Fspan\u003E;\\n\\n\u003Cspan class=\\\"hljs-meta\\\"\u003E#\u003Cspan class=\\\"hljs-keyword\\\"\u003Eendif\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EDe esta forma se utiliza una cadena u otra en función del “sabor” con que compilemos.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ESi ahora ejecutamos \u003Ccode\u003Egradle clean task\u003C\u002Fcode\u003E en la raíz de nuestro proyecto, veremos que tenemos más tareas disponibles, antes teníamos \u003Ccode\u003EinstallMainExecutable\u003C\u002Fcode\u003E y ahora ha sido reemplazada por \u003Ccode\u003EinstallCommunityMainExecutable\u003C\u002Fcode\u003E y \u003Ccode\u003EinstallEnterpriseMainExecutable\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ESi ejecutamos estas dos tareas, tendremos nuestra aplicación instalada en los dos sabores.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-bash\\\" data-lang=\\\"bash\\\"\u003E\u003Cspan class=\\\"hljs-variable\\\"\u003E$gradle\u003C\u002Fspan\u003E installEnterpriseMainExecutable installCommunityMainExecutable\\n\\n:compileEnterpriseHelloSharedLibraryHelloCpp\\n:linkEnterpriseHelloSharedLibrary\\n:enterpriseHelloSharedLibrary\\n:compileEnterpriseMainExecutableMainCpp\\n:linkEnterpriseMainExecutable\\n:enterpriseMainExecutable\\n:installEnterpriseMainExecutable\\n:compileCommunityHelloSharedLibraryHelloCpp\\n:linkCommunityHelloSharedLibrary\\n:communityHelloSharedLibrary\\n:compileCommunityMainExecutableMainCpp\\n:linkCommunityMainExecutable\\n:communityMainExecutable\\n:installCommunityMainExecutable\\n\\nBUILD SUCCESSFUL\\nTotal time: 9.414 secs\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EAhora podemos ejecutar nuestra aplicación en los dos sabores:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003ECommunity\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-bash\\\" data-lang=\\\"bash\\\"\u003E$ build\u002Finstall\u002FmainExecutable\u002Fcommunity\u002Fmain\\n1.      Hello Mr. Pepito        (Community)\\n2.      Hello Mr. Pepito        (Community)\\n3.      Hello Mr. Pepito        (Community)\\n4.      Hello Mr. Pepito        (Community)\\n5.      Hello Mr. Pepito        (Community)\\n6.      Hello Mr. Pepito        (Community)\\n7.      Hello Mr. Pepito        (Community)\\n8.      Hello Mr. Pepito        (Community)\\n9.      Hello Mr. Pepito        (Community)\\n10.     Hello Mr. Pepito        (Community)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003EEnterprise\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-bash\\\" data-lang=\\\"bash\\\"\u003E$ build\u002Finstall\u002FmainExecutable\u002Fenterprise\u002Fmain\\n1.      Hello Mr. Pepito        (Enterprise)\\n2.      Hello Mr. Pepito        (Enterprise)\\n3.      Hello Mr. Pepito        (Enterprise)\\n4.      Hello Mr. Pepito        (Enterprise)\\n5.      Hello Mr. Pepito        (Enterprise)\\n6.      Hello Mr. Pepito        (Enterprise)\\n7.      Hello Mr. Pepito        (Enterprise)\\n8.      Hello Mr. Pepito        (Enterprise)\\n9.      Hello Mr. Pepito        (Enterprise)\\n10.     Hello Mr. Pepito        (Enterprise)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect3\\\"\u003E\\n\u003Ch4 id=\\\"_release_o_debug\\\"\u003ERelease o Debug\u003C\u002Fh4\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EPor defecto \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E compila nuestra aplicación en modo Debug, pero podemos añadir el modo Release para que active algunas optimizaciones\u003Csup class=\\\"footnote\\\"\u003E[\u003Ca id=\\\"_footnoteref_4\\\" class=\\\"footnote\\\" href=\\\"#_footnotedef_4\\\" title=\\\"View footnote.\\\"\u003E4\u003C\u002Fa\u003E]\u003C\u002Fsup\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003Ebuild.gradle\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-groovy\\\" data-lang=\\\"groovy\\\"\u003Eapply \u003Cspan class=\\\"hljs-attr\\\"\u003Eplugin:\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;cpp&#x27;\u003C\u002Fspan\u003E\\nmodel {\\n    buildTypes {\\n        debug\\n        release\\n    }\\n\\n\u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002F ... the rest of file below doesn&#x27;t change\u003C\u002Fspan\u003E\\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ESi ahora ejecutamos \u003Ccode\u003Egradle clean task\u003C\u002Fcode\u003E veremos que tenemos más tareas, se habrán desdoblado las que teníamos, por ejemplo \u003Ccode\u003EinstallCommunityMainExecutable\u003C\u002Fcode\u003E se habrá desdoblado en \u003Ccode\u003EinstallDebugCommunityMainExecutable\u003C\u002Fcode\u003E y \u003Ccode\u003EinstallReleaseCommunityMainExecutable\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect3\\\"\u003E\\n\u003Ch4 id=\\\"_multi_plataforma\\\"\u003EMulti-plataforma\u003C\u002Fh4\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ETambién tenemos las posibilidad de utilizar las características de compilación cruzada que nos ofrecen los compiladores y generar componentes nativos para otras plataformas. El proceso es el mismo, simplemente tenemos que dar te alta las plataformas que vamos a soportar.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EEsto solo funcionará si en nuestro sistema tenemos instalada la cadena de herramientas (\u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FToolchain\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EToolchain\u003C\u002Fa\u003E) necesaria, es decir, si en un sistema de 64 bits queremos compilar para 32 bits, tendremos que tener instaladas las librerías necesarias para 32 bits.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003Ebuild.gradle\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-groovy\\\" data-lang=\\\"groovy\\\"\u003Eapply \u003Cspan class=\\\"hljs-attr\\\"\u003Eplugin:\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&#x27;cpp&#x27;\u003C\u002Fspan\u003E\\n\\nmodel {\\n  buildTypes {\\n    debug\\n    release\\n  }\\n\\n  platforms {\\n    x86 {\\n      architecture \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;x86&quot;\u003C\u002Fspan\u003E\\n    }\\n    x64 {\\n      architecture \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;x86_64&quot;\u003C\u002Fspan\u003E\\n    }\\n    itanium {\\n      architecture \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;ia-64&quot;\u003C\u002Fspan\u003E\\n    }\\n  }\\n\\n  flavors {\\n    community\\n    enterprise\\n  }\\n\\n  components {\\n    hello(NativeLibrarySpec) {\\n      binaries.all {\\n        \u003Cspan class=\\\"hljs-keyword\\\"\u003Eif\u003C\u002Fspan\u003E (flavor == flavors.enterprise) {\\n          cppCompiler.define \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;ENTERPRISE&quot;\u003C\u002Fspan\u003E\\n        }\\n      }\\n    }\\n    main(NativeExecutableSpec) {\\n      binaries.all {\\n        lib \u003Cspan class=\\\"hljs-attr\\\"\u003Elibrary:\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E&quot;hello&quot;\u003C\u002Fspan\u003E\\n      }\\n    }\\n  }\\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EEjecutando \u003Ccode\u003Egradle clean task\u003C\u002Fcode\u003E podremos ver las distintas opciones de construción que tenemos, en nuestro caso veremos que podemos construir distintas versiones de nuestra aplicación en distintos sabores, para distintas plataformas en Debug o Release.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect2\\\"\u003E\\n\u003Ch3 id=\\\"_pruébalo_tú_mism\\\"\u003EPruébalo tú mism@\u003C\u002Fh3\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EEl proyecto se encuentra en \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\\\" class=\\\"bare\\\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EPara poder probar necesitas:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003ETener instalado \u003Ca href=\\\"https:\u002F\u002Fwww.java.com\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EJava\u003C\u002Fa\u003E a partir de la versión 6.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003ETener algún compilador instalado (por ejemplo \u003Ca href=\\\"https:\u002F\u002Fgcc.gnu.org\u002F\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGCC\u003C\u002Fa\u003E)\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ESolo tienes que seguir los siguientes pasos:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"olist arabic\\\"\u003E\\n\u003Col class=\\\"arabic\\\"\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ccode\u003Egit clone \u003Ca href=\\\"mailto:git@github.com\\\"\u003Egit@github.com\u003C\u002Fa\u003E:carlosvin\u002Fcpp_gradle.git\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ccode\u003Ecd cpp_gradle\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003E\u003Ccode\u003E.\u002Fgradlew task\u003C\u002Fcode\u003E o \u003Ccode\u003E.\u002Fgradlew.bat task\u003C\u002Fcode\u003E si estás en Windows. De esta forma verás todas las tareas que te ofrece \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E para este proyecto. La primera vez tardará un poco porque se descarga una versión de \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003ESi estás en una máquina de 64 bits, por ejemplo utiliza este comando para compilar e instalar la aplicación \u003Ccode\u003E.\u002Fgradlew installX64ReleaseEnterpriseMainExecutable\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003EEjecuta la aplicación que acabas de construir \u003Ccode\u003Ebuild\u002Finstall\u002FmainExecutable\u002Fx64ReleaseEnterprise\u002Fmain\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Fol\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"sect1\\\"\u003E\\n\u003Ch2 id=\\\"_conclusiones\\\"\u003EConclusiones\u003C\u002Fh2\u003E\\n\u003Cdiv class=\\\"sectionbody\\\"\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ECon una configuración mínima, tenemos muchas posibilidades de construcción de aplicaciones nativas multi-plataforma.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ETiene un futuro prometedor, veremos como termina.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EPodemos utilizar otras características de \u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E y aplicarlas a nuestros proyectos C++, como análisis estáticos de código, generación de informes (pruebas, cobertura, calidad, etc.), fácil incorporación a sistemas de integración continua.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fwww.gradle.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EGradle\u003C\u002Fa\u003E para C++ es una característica que actualmente está en desarrollo, por lo que no hay que olvidar que:\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"ulist\\\"\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\\n\u003Cp\u003ENo debemos utilizar en entornos reales de desarrollo, puede acarrear muchos dolores de cabeza.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\\n\u003Cp\u003ELa forma de definir el fichero build.gradle para esta característica puede cambiar.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ETodo el ejemplo se encuentra en \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\\\" class=\\\"bare\\\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\u003C\u002Fa\u003E. Os recomiendo que lo descarguéis y probéis lo sencillo que resulta.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"admonitionblock note\\\"\u003E\\n\u003Ctable\u003E\\n\u003Ctr\u003E\\n\u003Ctd class=\\\"icon\\\"\u003E\\n\u003Cdiv class=\\\"title\\\"\u003ENote\u003C\u002Fdiv\u003E\\n\u003C\u002Ftd\u003E\\n\u003Ctd class=\\\"content\\\"\u003E\\nSi encontráis algún problema en el ejemplo, escribir un comentario, abrir un defecto o corregirlo vosotros mismos en \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\\\" class=\\\"bare\\\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fcarlosvin\u002Fcpp_gradle\u003C\u002Fa\u003E\\n\u003C\u002Ftd\u003E\\n\u003C\u002Ftr\u003E\\n\u003C\u002Ftable\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EMás información en \u003Ca href=\\\"https:\u002F\u002Fdocs.gradle.org\u002Fcurrent\u002Fuserguide\u002Fnative_software.html\\\"\u003EGetting Started Gradle Native\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv id=\\\"footnotes\\\"\u003E\\n\u003Chr\u003E\\n\u003Cdiv class=\\\"footnote\\\" id=\\\"_footnotedef_1\\\"\u003E\\n\u003Ca href=\\\"#_footnoteref_1\\\"\u003E1\u003C\u002Fa\u003E. n es un número entero positivo\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"footnote\\\" id=\\\"_footnotedef_2\\\"\u003E\\n\u003Ca href=\\\"#_footnoteref_2\\\"\u003E2\u003C\u002Fa\u003E. Realmente no es necesario tener instalado Gradle, si utilizamos el wrapper, pero esto no lo vamos a tratar hoy, \u003Ca href=\\\"https:\u002F\u002Fdocs.gradle.org\u002Fcurrent\u002Fuserguide\u002Fgradle_wrapper.html\\\"\u003Esi queréis más información\u003C\u002Fa\u003E.\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"footnote\\\" id=\\\"_footnotedef_3\\\"\u003E\\n\u003Ca href=\\\"#_footnoteref_3\\\"\u003E3\u003C\u002Fa\u003E. .bat en Windows y sin extensión en Linux\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"footnote\\\" id=\\\"_footnotedef_4\\\"\u003E\\n\u003Ca href=\\\"#_footnoteref_4\\\"\u003E4\u003C\u002Fa\u003E. También podemos definir el tipo de optimizaciones que vamos a utilizar.\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\",\"props\":{\"title\":\"Construir un proyecto C++ con Gradle\",\"created\":1411603200000,\"modified\":1411603200000,\"filepath\":\"\u002Fhome\u002Fcarlos\u002Fworkspace\u002Fpers\u002Fblablablog\u002Fposts\u002Fgradle-cpp.es.adoc\",\"dirpath\":\"\u002Fhome\u002Fcarlos\u002Fworkspace\u002Fpers\u002Fblablablog\u002Fposts\",\"keywords\":[\"Gradle\",\"C++\",\"Build Software\",\"Build System\",\"Dependency Management\"],\"lang\":\"es\",\"otherLangs\":[\"en\"],\"slug\":\"gradle-cpp\",\"summary\":\"Cómo construir un proyecto típico C++ utilizando Gradle\",\"author\":\"Carlos\",\"path\":\"\u002Flangs\u002Fes\u002Fposts\u002Fgradle-cpp\"}}"}</script></div>
	</body>
</html>
