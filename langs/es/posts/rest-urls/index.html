<!doctype html>
<html lang="es">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../../../favicon.png" />
		<script
			async
			src="https://cdn.jsdelivr.net/npm/@statsig/js-client@1/build/statsig-js-client+session-replay+web-analytics.min.js?apikey=client-HFdLXhoqeAqLJGsEO0FuGCieE2nSFNxpPp2ziw3ZPYK"
		></script>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="/app.css" />
		
		<link href="../../../../_app/immutable/assets/2.BkyfcBaI.css" rel="stylesheet">
		<link href="../../../../_app/immutable/assets/IconLink.2qtseSjK.css" rel="stylesheet">
		<link href="../../../../_app/immutable/assets/Social.CTdkLZ_f.css" rel="stylesheet">
		<link href="../../../../_app/immutable/assets/8.CqjetrkP.css" rel="stylesheet">
		<link href="../../../../_app/immutable/assets/Details.C_CQQSd4.css" rel="stylesheet">
		<link rel="modulepreload" href="../../../../_app/immutable/entry/start.Dg2WxSzj.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/entry.BXLEF9h2.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/runtime.3FY_vtsg.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/index-client.B1gllz1k.js">
		<link rel="modulepreload" href="../../../../_app/immutable/entry/app.DiecyXnG.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/render.CY392Wed.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/svelte-head.CPyUmzYt.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/disclose-version.B5WKJUOZ.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/3.CAhkvHRE.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/props.DBxtFyAD.js">
		<link rel="modulepreload" href="../../../../_app/immutable/nodes/0.hWIgE5sI.js">
		<link rel="modulepreload" href="../../../../_app/immutable/nodes/2.Xa-J0HUn.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/misc.8zLmL9bg.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/lifecycle.4u1WjEOg.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/IconLink.k-vueeZX.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/Social.D6bLOiwf.js">
		<link rel="modulepreload" href="../../../../_app/immutable/nodes/8.DMK56GIg.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/url.QYYjpySO.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/Details.C57OQ6iz.js"><!--[--><meta property="og:title" content="Creando REST URLs"> <meta name="date.created" content="2015-07-26T16:00:00.000Z"> <meta name="date.updated" content="2015-07-26T16:00:00.000Z"> <meta name="description" content="Crear REST API: URLs"> <meta property="og:description" content="Crear REST API: URLs"> <meta property="og:type" content="article"> <meta property="og:url" content="http://sveltekit-prerender/langs/es/posts/rest-urls/"> <meta property="og:locale" content="es"> <meta property="og:locale:alternate" content="en"> <meta property="og:image"> <meta property="og:article:tag" content="REST,API,Web Services"> <!--[--><!--[--><link rel="alternate" hreflang="en" href="/langs/en/posts/rest-urls"><!--]--><!--]--> <!----><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"Webpage","@id":"https://google.com/article"},"headline":"Creando REST URLs","alternativeHeadline":"Crear REST API: URLs","description":"Crear REST API: URLs","datePublished":"2015-07-26T16:00:00.000Z","dateModified":"2015-07-26T16:00:00.000Z","keywords":["REST","API","Web Services"],"author":{"@type":"Person","name":"Carlos Martin Sanchez"},"publisher":{"@type":"Person","name":"Carlos Martin Sanchez"}}</script><!----><!--]--><title>Creando REST URLs</title>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents"><!--[--><!--[--><!----><!--[--><!----><nav class="svelte-pyuk6k"><ul class="svelte-pyuk6k"><li class="svelte-2j41u7"><a aria-current="page" href="/langs/es/posts" rel="prefetch" class="svelte-2j41u7"><!----><img class="logo svelte-pyuk6k" src="/favicon.25px.png" alt="Carlos dice bla bla logo"><!----></a></li><!----></ul> <ul class="closed svelte-pyuk6k"><li class="svelte-2j41u7"><a aria-current="page" href="/langs/es/posts" rel="prefetch" class="svelte-2j41u7"><!----><span class="siteName">Carlos dice bla bla</span><!----></a></li><!----> <li class="svelte-2j41u7"><a href="/langs/es/categories" rel="prefetch" class="svelte-2j41u7"><!----><!---->Categorías<!----></a></li><!----> <li class="svelte-2j41u7"><a href="/langs/es/about" rel="prefetch" class="svelte-2j41u7"><!----><!---->Sobre mi<!----></a></li><!----></ul> <!--[--><!----><div class="h svelte-geb0ta"><!----><a href="/langs/es/feed.xml" target="_blank" class="icon rss svelte-blgowr" title="Suscríbete al feed Carlos dice bla bla" rel="noopener" aria-label="Suscríbete al feed Carlos dice bla bla"><!----><!----></a><!----> <a href="https://github.com/carlosvin" target="_blank" class="icon github svelte-blgowr" title="Find me at github" rel="noopener" aria-label="Find me at github"><!----><!----></a><!----> <a href="https://stackoverflow.com/users/1421059/carlosvin" target="_blank" class="icon stackoverflow svelte-blgowr" title="Find me at stackoverflow" rel="noopener" aria-label="Find me at stackoverflow"><!----><!----></a><!----></div><!----><!--]--> <button type="button" class="svelte-pyuk6k">≡</button></nav><!----> <main class="svelte-qhq9sm"><!----><!----><header class="svelte-1ikjkmw"><h1 class="svelte-1ikjkmw">Creando REST URLs <span class="share svelte-1ikjkmw"><!--[!--><a href="https://twitter.com/intent/tweet?url=/langs/es/posts/rest-urls&amp;text=Creando REST URLs:&amp;nbsp;Crear REST API: URLs&amp;hashtags=REST,API,Web Services" target="_blank" class="icon twitter svelte-blgowr" title="Share &quot;Creando REST URLs&quot;" rel="noopener" aria-label="Share &quot;Creando REST URLs&quot;"><!----><!----></a><!--]--><!----></span></h1> <p class="summary svelte-1ikjkmw">Crear REST API: URLs</p> <div class="subtitle svelte-9uod0d"><span class="date">7/26/2015</span> <span class="langs"><!--[--><ul class="otherLangs svelte-1numgf3"><!--[--><!--[--><li class="svelte-1numgf3"><a rel="alternate" hreflang="en" href="/langs/en/posts/rest-urls" title="Check the post in other language: en">en</a></li><!--]--><!--]--></ul><!--]--><!----></span> <!--[--><span class="tags svelte-wqh6y7"><!--[--><a href="/langs/es/categories/rest" title="REST" class="svelte-1g7d2s3">REST</a><a href="/langs/es/categories/api" title="API" class="svelte-1g7d2s3">API</a><a href="/langs/es/categories/web-services" title="Web Services" class="svelte-1g7d2s3">Web Services</a><!--]--></span><!--]--><!----></div><!----></header> <div class="postContent"><!----><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_fundamentos_rest">Fundamentos REST</a>
<ul class="sectlevel2">
<li><a href="#_verbos_rest">Verbos REST</a></li>
<li><a href="#_acceso_a_recursos">Acceso a Recursos</a></li>
<li><a href="#_modificar_recursos">Modificar Recursos</a></li>
<li><a href="#_borrar_recursos">Borrar Recursos</a></li>
<li><a href="#_crear_recursos">Crear Recursos</a></li>
<li><a href="#_colecciones">Colecciones</a></li>
</ul>
</li>
<li><a href="#_típico_error">Típico error</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Las primeras veces que me puse a diseñar una <a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" rel="noopener">API</a> <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener">REST</a> cometí unos cuantos errores, por supuesto. A continuación os voy a contar algunos de los errores que cometí y lo que he entendido hasta hoy sobre la construcción de <a href="https://en.wikipedia.org/wiki/Uniform_resource_locator" target="_blank" rel="noopener">URL</a>s <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener">REST</a> con ejemplos.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_fundamentos_rest">Fundamentos <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener">REST</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Utilizamos <a href="https://en.wikipedia.org/wiki/Uniform_resource_locator" target="_blank" rel="noopener">URL</a>s para acceder a recursos.</p>
</li>
<li>
<p>Utilizamos <em>verbos</em> para modificar recursos.</p>
</li>
<li>
<p>Nuestros <em>verbos</em> están proporcionados por el protocolo <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" target="_blank" rel="noopener">HTTP</a>.</p>
</li>
<li>
<p>Los <em>verbos</em> tienen un equivalente directo con las operaciones <a href="https://en.wikipedia.org/wiki/CRUD" target="_blank" rel="noopener">CRUD</a><sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>.</p>
</li>
<li>
<p>Para acceder a un recurso existente necesitamos su identificador.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_verbos_rest">Verbos <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener">REST</a></h3>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
POST
</td>
<td class="hdlist2">
<p>(<strong>Create</strong>) Utilizado para <strong>crear</strong> nuevos recursos.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
GET
</td>
<td class="hdlist2">
<p>(<strong>Read</strong>) Utilizado para <strong>leer</strong> un recursos existentes en el sistema.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
PUT
</td>
<td class="hdlist2">
<p>(<strong>Update</strong>) Utilizado para <strong>actualizar</strong> recursos existentes.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
DELETE
</td>
<td class="hdlist2">
<p>(<strong>Delete</strong>) Utilizado para <strong>borrar</strong> recursos existentes.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>En una tabla quedará más claro</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Verbo <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener">REST</a></th>
<th class="tableblock halign-left valign-top">Acción <a href="https://en.wikipedia.org/wiki/CRUD" target="_blank" rel="noopener">CRUD</a></th>
<th class="tableblock halign-left valign-top">Debe exisitir el recurso</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Crear</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Leer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sí</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Actualizar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sí</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DELETE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Borrar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sí</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_acceso_a_recursos">Acceso a Recursos</h3>
<div class="paragraph">
<p>Un recurso es <em>a lo que quieres acceder</em>. Por ejemplo, un coche.</p>
</div>
<div class="paragraph">
<p>Para poder acceder a un coche no es suficiente con esta información, no puedes ir a un concesionario y preguntar por un coche en general, tienes que decir qué coche quieres. Así que llegas al concesionario y dices:</p>
</div>
<div class="paragraph">
<p><em>Hola, buenos días. Quiero información sobre el Fiat Bravo 1.9 Emotion 120CV</em>.</p>
</div>
<div class="paragraph">
<p>De esta forma el dependiente sabe cuál es y te puede dar la información.</p>
</div>
<div class="paragraph">
<p>"Fiat Bravo 1.9 Emotion 120CV" es nuestro <strong>identificador</strong>.</p>
</div>
<div class="paragraph">
<p>Trasladando el ejemplo a las <a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" rel="noopener">API</a>s <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener">REST</a>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>GET   https://tiendadecoches.es/api/coches/fiat-bravo-19-emotion-120cv</pre>
</div>
</div>
<div class="paragraph">
<p>De esta forma nuestra <a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" rel="noopener">API</a> nos puede proporcionar información del coche.</p>
</div>
<div class="paragraph">
<p>Esto es un ejemplo muy simplificado, pero realmente cuando accedemos a un recurso concreto solemos utilizar algo que lo identifique de forma unívoca. Una práctica común y recomendable es utilizar <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier" target="_blank" rel="noopener">UUID</a>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>GET  https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f</pre>
</div>
</div>
<div class="paragraph">
<p>Pero nuestra <a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" rel="noopener">API</a>, al igual que una tienda, no tiene por qué ser tan estricta, podemos preguntar por los coches que tienen ciertas caracteríticas, podemos ir al concesionario y decir:</p>
</div>
<div class="paragraph">
<p><em>Hola buenos días, quiero un Fiat Bravo</em>.</p>
</div>
<div class="paragraph">
<p>Y el dependiente, amablemente, te mostrará todos los Fiat Bravo que tiene. Veamos cómo podemos decir esto a nuestra <a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" rel="noopener">API</a>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>GET  https://tiendadecoches.es/api/coches/?marca=fiat&amp;modelo=bravo</pre>
</div>
</div>
<div class="paragraph">
<p>Nuestra <a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" rel="noopener">API</a> nos devolverá todos los coches que son marca Fiat y modelo Bravo.</p>
</div>
<div class="paragraph">
<p>Marca y modelo en este caso son lo que llamamos <strong>parámetros de consulta</strong> (query parameters).</p>
</div>
<div class="paragraph">
<p>Como os habréis dado cuenta durante el ejemplo, para obtener información de un recurso siempre hemos utilizado el <em>verbo</em> <strong>GET</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_modificar_recursos">Modificar Recursos</h3>
<div class="paragraph">
<p>Nuestra <a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" rel="noopener">API</a> también nos puede permitir modificar un recurso, al igual que para pedir información, para modificar un recurso necesitamos especificar qué recurso queremos modificar, así que necesitamos otra vez un <em>identificador</em>.</p>
</div>
<div class="paragraph">
<p>Antes queríamos información (leer) y utilizábamos nuestro verbo GET, ahora lo único que cambia es el verbo, queremos <strong>modificar</strong> así que utilizamos el verbo equivalente que nos proporciona el protocolo <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" target="_blank" rel="noopener">HTTP</a>: <strong>PUT</strong>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>PUT   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f</pre>
</div>
</div>
<div class="paragraph">
<p>Pero nos falta algo, tenemos que decir qué queremos cambiar del coche, por ejemplo, imaginemos que queremos cambiar la cilintrada y poner 100CV.</p>
</div>
<div class="paragraph">
<p>Tenemos que enviar la nueva cilindrada a esta <a href="https://en.wikipedia.org/wiki/Uniform_resource_locator" target="_blank" rel="noopener">URL</a> <a href="https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f" class="bare">https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f</a> por <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" target="_blank" rel="noopener">HTTP</a> utilizando el verbo <strong>PUT</strong>.</p>
</div>
<div class="paragraph">
<p>El protocolo <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" target="_blank" rel="noopener">HTTP</a> nos permite enviar información en un mensaje PUT, así que solo nos falta pensar en el formato en que lo vamos a enviar.</p>
</div>
<div class="paragraph">
<p>Podemos enviarlo en <a href="https://en.wikipedia.org/wiki/JSON" target="_blank" rel="noopener">JSON</a> o <a href="">XML</a> o como queramos, solo tenemos que estar seguros de que el formato que enviamos es lo que espera recibir el servidor.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Cuando definimos una <a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" rel="noopener">API</a> <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener">REST</a> tenemos que definir también el formato en que vamos a enviar los datos.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Ejemplo en <a href="https://en.wikipedia.org/wiki/JSON" target="_blank" rel="noopener">JSON</a></div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json"><span class="hljs-punctuation">{</span> cilindrada<span class="hljs-punctuation">:</span> <span class="hljs-number">100</span> <span class="hljs-punctuation">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_borrar_recursos">Borrar Recursos</h3>
<div class="paragraph">
<p>Continuando con el ejemplo de los coches, imaginemos que ahora somos el concesionario, y que ya no queremos vender más ese Fiat Bravo (concretamente el cce05bee-386b-11e5-a151-feff819cdc9f). Seguiremos manteniendo la <a href="https://en.wikipedia.org/wiki/Uniform_resource_locator" target="_blank" rel="noopener">URL</a> que identifica el recurso, pero cambiamos el verbo, no queremos leer (GET), ni modificar (PUT), queremos <strong>borrar (DELETE)</strong>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>DELETE   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f</pre>
</div>
</div>
<div class="paragraph">
<p>En el caso del borrado, no hay que proporcionar ninguna información adicional, con el verbo (DELETE) y el recurso es suficiente.</p>
</div>
</div>
<div class="sect2">
<h3 id="_crear_recursos">Crear Recursos</h3>
<div class="paragraph">
<p>Y nos queda último verbo, <strong>crear (POST)</strong>. En este caso no hay que identificar el recurso, porque no existe todavía.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>POST   https://tiendadecoches.es/api/coches/</pre>
</div>
</div>
<div class="paragraph">
<p>Lo que sí que tenemos que enviar son los datos del recurso que vamos a crear.</p>
</div>
<div class="paragraph">
<p>En nuestro ejemplo, queremos crear un coche, así que ponemos toda la información necesaria para crear un coche dentro de la llamada POST de <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" target="_blank" rel="noopener">HTTP</a>, algo muy parecido como hemos hecho en el apartado <a href="#_modificar_recursos">Modificar Recursos</a>, pero en este caso mandamos <strong>toda la información necesaria</strong>, no solo la cilindrada.</p>
</div>
<div class="listingblock">
<div class="title">Ejemplo en <a href="https://en.wikipedia.org/wiki/JSON" target="_blank" rel="noopener">JSON</a></div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;marca&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Fiat&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;modelo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Bravo&quot;</span>
  <span class="hljs-attr">&quot;anio&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2010</span>
  <span class="hljs-attr">&quot;puertas&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;cilindrada&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">120</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Emotion&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;climatizador&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;ac&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;fuel&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Diesel&quot;</span>
<span class="hljs-punctuation">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Podemos delegar en el sistema, para que cuando pidamos la creación de un recurso nuevo, nos asigne un nuevo <strong>identificador</strong>, o simplemente enviarlo con el resto de información:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json"><span class="hljs-punctuation">{</span>
<span class="hljs-attr">&quot;identificador&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cce05bee-386b-11e5-a151-feff819cdc9f&quot;</span>
<span class="hljs-attr">&quot;marca&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Fiat&quot;</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">&quot;modelo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Bravo&quot;</span>
<span class="hljs-attr">&quot;anio&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2010</span>
<span class="hljs-attr">&quot;puertas&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">&quot;cilindrada&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">120</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Emotion&quot;</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">&quot;climatizador&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">&quot;ac&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">&quot;fuel&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Diesel&quot;</span>
<span class="hljs-punctuation">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_colecciones">Colecciones</h3>
<div class="paragraph">
<p>Algo que no quiero pasar por alto, porque al menos para mí no fue obvio, es el manejo de colecciones. Realmente ya está explicado, porque todas las acciones que hemos visto previamente sobre los coches, estaba aplicando realmente a una colección de coches.</p>
</div>
<div class="paragraph">
<p>Pero, ¿qué pasa si un recurso tiene a su vez una colección? Siguiendo con los coches, un coche puede tener una lista de aceites con los que puede funcionar, así que nuestra <a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" rel="noopener">API</a> debería permitir obtener, modificar, borrar o crear elementos en la lista.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Para el ejemplo asumiremos que el identificador del aceite es el atributo tipo.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_añadir_un_elemento_a_la_colección">Añadir un elemento a la colección</h4>
<div class="paragraph">
<p>Si queremos añadir un elemento a la colección de coches lo que vamos a hacer es crear un nuevo coche, así que estamos en el caso de <a href="#_crear_recursos">Crear Recursos</a>.</p>
</div>
<div class="paragraph">
<p>Para añadir un nuevo aceite al coche cce05bee-386b-11e5-a151-feff819cdc9f, que ya existe:</p>
</div>
<div class="listingblock">
<div class="title">Petición</div>
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">POST   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Respuesta</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;tipo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5W30&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;otros_datos&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;este es el mejor del mundo para este coche&quot;</span>
<span class="hljs-punctuation">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si queremos añadir otro aceite:</p>
</div>
<div class="listingblock">
<div class="title">Petición</div>
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">POST   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Respuesta</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;tipo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;10W30&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;otros_datos&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;otras cosas sobre aceites de coche&quot;</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_modificar_un_elemento_de_la_colección">Modificar un elemento de la colección</h4>
<div class="paragraph">
<p>Si queremos modificar los datos del aceite <em>5W30</em> del coche <em>cce05bee-386b-11e5-a151-feff819cdc9f</em>:</p>
</div>
<div class="listingblock">
<div class="title">Petición</div>
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">PUT   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/5W30/</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Respuesta</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;tipo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;5W30&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;otros_datos&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;este ya no es el mejor del mundo para este coche&quot;</span>
<span class="hljs-punctuation">}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_borrar_un_elemento_de_la_colección">Borrar un elemento de la colección</h4>
<div class="paragraph">
<p>Para borrar un aceite <em>10W30</em> del coche <em>cce05bee-386b-11e5-a151-feff819cdc9f</em>:</p>
</div>
<div class="listingblock">
<div class="title">Petición</div>
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">DELETE   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/10W30</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_leer_un_elemento_de_la_colección">Leer un elemento de la colección</h4>
<div class="paragraph">
<p>Para obtener la información del aceite <em>10W30</em> del coche <em>cce05bee-386b-11e5-a151-feff819cdc9f</em>:</p>
</div>
<div class="listingblock">
<div class="title">Petición</div>
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/10W30</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_listar_elementos_de_la_colección">Listar elementos de la colección</h4>
<div class="paragraph">
<p>Como hemos visto en <a href="#_leer_un_elemento_de_la_colección">Leer un elemento de la colección</a>, podemos obtener información de cualquier elemento de la colección, pero también podemos obtener varios elementos de la colección, ordenarlos, paginarlos y aplicar cualquier tipo de acciones típicas de una colección.</p>
</div>
<div class="paragraph">
<p>Podemos obtener todos los aceites soportados por el coche <em>cce05bee-386b-11e5-a151-feff819cdc9f</em>, es tan simple como:</p>
</div>
<div class="listingblock">
<div class="title">Petición</div>
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pero también podemos proporcionar otras funcionalidades en nuestra <a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" rel="noopener">API</a>, como obtener los resultados ordenados:</p>
</div>
<div class="listingblock">
<div class="title">Petición</div>
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/?ordenar_por=tipo&amp;orden=ascendente</code></pre>
</div>
</div>
<div class="paragraph">
<p>Podemos pedir al <a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" rel="noopener">API</a> que nos devuelva los 10 primeros aceites del coche <em>cce05bee-386b-11e5-a151-feff819cdc9f</em>:</p>
</div>
<div class="listingblock">
<div class="title">Petición</div>
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/?numero_de_elementos=10</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cuando no queremos mostrar toda la lista completa, podemos proporcionar un sistema de paginación:</p>
</div>
<div class="listingblock">
<div class="title">Petición</div>
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/?pagina=3&amp;numero_de_elementos=3</code></pre>
</div>
</div>
<div class="paragraph">
<p>En la petición de arriba, estamos diciendo que nos devuelva la página 3 de los aceites del coche <em>cce05bee-386b-11e5-a151-feff819cdc9f</em> y que nos muestre 3 aceites por página. Si quisiéramos ir a la página siguiente:</p>
</div>
<div class="listingblock">
<div class="title">Petición</div>
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">GET   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/?pagina=4&amp;numero_de_elementos=3</code></pre>
</div>
</div>
<div class="paragraph">
<p>Todas estas funcionalidades, son posibles gracias a los <strong>parámetros de consulta</strong>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_típico_error">Típico error</h2>
<div class="sectionbody">
<div class="paragraph">
<p>La primera vez que intenté diseñar un <a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" rel="noopener">API</a> <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener">REST</a> lo que hice fué otra cosa, era una <a href="https://en.wikipedia.org/wiki/Application_programming_interface" target="_blank" rel="noopener">API</a>, pero no <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener">REST</a>.</p>
</div>
<div class="paragraph">
<p>Mi principal error fue en la construción de las <a href="https://en.wikipedia.org/wiki/Uniform_resource_locator" target="_blank" rel="noopener">URL</a>s, incluí <em>verbos</em> sin tener en cuenta que los verbos ya me los proporcionaba el protocolo <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" target="_blank" rel="noopener">HTTP</a>.</p>
</div>
<div class="paragraph">
<p>Por ejemplo, creaba <a href="https://en.wikipedia.org/wiki/Uniform_resource_locator" target="_blank" rel="noopener">URL</a>s del tipo:</p>
</div>
<div class="listingblock">
<div class="title">Incorrecto</div>
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">POST    https://example.com/api/coches/seat-ibiza/borrar-rueda/3</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cuando lo correcto sería</p>
</div>
<div class="listingblock">
<div class="title">Correcto</div>
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">DELETE  https://example.com/api/coches/seat-ibiza/ruedas/3</code></pre>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Create, Read, Update, Delete
</div>
</div><!----> <div class="comments"><script src="https://utteranc.es/client.js" repo="carlosvin/carlosvin.github.io" issue-term="title" label="comment" theme="github-light" crossorigin="anonymous" async>
	</script></div><!----></div><!----><!----><!----></main> <footer class="svelte-qhq9sm"><span>Carlos dice bla bla</span> <code>1.0.1</code></footer><!----><!--]--><!----><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_1qhkr5p = {
						base: new URL("../../../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../../../../_app/immutable/entry/start.Dg2WxSzj.js"),
						import("../../../../_app/immutable/entry/app.DiecyXnG.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 8],
							data: [null,{"type":"data","data":{path:"/langs/es/posts/rest-urls/",lang:"es",translations:{lang:"es",author:"Carlos Martin Sanchez",siteName:"Carlos dice bla bla",siteDescription:"Qué está pasando por mi cabeza y alrededores",categories:"categorías",Categories:"Categorías",RecentPosts:"Últimas entradas",NoPosts:"No hay entradas",SubscribeTo:"Suscríbete al feed",AboutMe:"Sobre mi",AllPosts:"Todas las entradas"},version:"1.0.1"},"uses":{"params":["lang"],"url":1},"slash":"always"},{"type":"data","data":{html:"\u003Cdiv id=\"toc\" class=\"toc\">\n\u003Cdiv id=\"toctitle\">Table of Contents\u003C/div>\n\u003Cul class=\"sectlevel1\">\n\u003Cli>\u003Ca href=\"#_fundamentos_rest\">Fundamentos REST\u003C/a>\n\u003Cul class=\"sectlevel2\">\n\u003Cli>\u003Ca href=\"#_verbos_rest\">Verbos REST\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#_acceso_a_recursos\">Acceso a Recursos\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#_modificar_recursos\">Modificar Recursos\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#_borrar_recursos\">Borrar Recursos\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#_crear_recursos\">Crear Recursos\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#_colecciones\">Colecciones\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#_típico_error\">Típico error\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/div>\n\u003Cdiv id=\"preamble\">\n\u003Cdiv class=\"sectionbody\">\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Las primeras veces que me puse a diseñar una \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a> cometí unos cuantos errores, por supuesto. A continuación os voy a contar algunos de los errores que cometí y lo que he entendido hasta hoy sobre la construcción de \u003Ca href=\"https://en.wikipedia.org/wiki/Uniform_resource_locator\" target=\"_blank\" rel=\"noopener\">URL\u003C/a>s \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a> con ejemplos.\u003C/p>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect1\">\n\u003Ch2 id=\"_fundamentos_rest\">Fundamentos \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a>\u003C/h2>\n\u003Cdiv class=\"sectionbody\">\n\u003Cdiv class=\"ulist\">\n\u003Cul>\n\u003Cli>\n\u003Cp>Utilizamos \u003Ca href=\"https://en.wikipedia.org/wiki/Uniform_resource_locator\" target=\"_blank\" rel=\"noopener\">URL\u003C/a>s para acceder a recursos.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>Utilizamos \u003Cem>verbos\u003C/em> para modificar recursos.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>Nuestros \u003Cem>verbos\u003C/em> están proporcionados por el protocolo \u003Ca href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\">HTTP\u003C/a>.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>Los \u003Cem>verbos\u003C/em> tienen un equivalente directo con las operaciones \u003Ca href=\"https://en.wikipedia.org/wiki/CRUD\" target=\"_blank\" rel=\"noopener\">CRUD\u003C/a>\u003Csup class=\"footnote\">[\u003Ca id=\"_footnoteref_1\" class=\"footnote\" href=\"#_footnotedef_1\" title=\"View footnote.\">1\u003C/a>]\u003C/sup>.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>Para acceder a un recurso existente necesitamos su identificador.\u003C/p>\n\u003C/li>\n\u003C/ul>\n\u003C/div>\n\u003Cdiv class=\"sect2\">\n\u003Ch3 id=\"_verbos_rest\">Verbos \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a>\u003C/h3>\n\u003Cdiv class=\"hdlist\">\n\u003Ctable>\n\u003Ctr>\n\u003Ctd class=\"hdlist1\">\nPOST\n\u003C/td>\n\u003Ctd class=\"hdlist2\">\n\u003Cp>(\u003Cstrong>Create\u003C/strong>) Utilizado para \u003Cstrong>crear\u003C/strong> nuevos recursos.\u003C/p>\n\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd class=\"hdlist1\">\nGET\n\u003C/td>\n\u003Ctd class=\"hdlist2\">\n\u003Cp>(\u003Cstrong>Read\u003C/strong>) Utilizado para \u003Cstrong>leer\u003C/strong> un recursos existentes en el sistema.\u003C/p>\n\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd class=\"hdlist1\">\nPUT\n\u003C/td>\n\u003Ctd class=\"hdlist2\">\n\u003Cp>(\u003Cstrong>Update\u003C/strong>) Utilizado para \u003Cstrong>actualizar\u003C/strong> recursos existentes.\u003C/p>\n\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd class=\"hdlist1\">\nDELETE\n\u003C/td>\n\u003Ctd class=\"hdlist2\">\n\u003Cp>(\u003Cstrong>Delete\u003C/strong>) Utilizado para \u003Cstrong>borrar\u003C/strong> recursos existentes.\u003C/p>\n\u003C/td>\n\u003C/tr>\n\u003C/table>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>En una tabla quedará más claro\u003C/p>\n\u003C/div>\n\u003Ctable class=\"tableblock frame-all grid-all stretch\">\n\u003Ccolgroup>\n\u003Ccol style=\"width: 33.3333%;\">\n\u003Ccol style=\"width: 33.3333%;\">\n\u003Ccol style=\"width: 33.3334%;\">\n\u003C/colgroup>\n\u003Cthead>\n\u003Ctr>\n\u003Cth class=\"tableblock halign-left valign-top\">Verbo \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a>\u003C/th>\n\u003Cth class=\"tableblock halign-left valign-top\">Acción \u003Ca href=\"https://en.wikipedia.org/wiki/CRUD\" target=\"_blank\" rel=\"noopener\">CRUD\u003C/a>\u003C/th>\n\u003Cth class=\"tableblock halign-left valign-top\">Debe exisitir el recurso\u003C/th>\n\u003C/tr>\n\u003C/thead>\n\u003Ctbody>\n\u003Ctr>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">POST\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">Crear\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">No\u003C/p>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">GET\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">Leer\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">Sí\u003C/p>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">PUT\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">Actualizar\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">Sí\u003C/p>\u003C/td>\n\u003C/tr>\n\u003Ctr>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">DELETE\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">Borrar\u003C/p>\u003C/td>\n\u003Ctd class=\"tableblock halign-left valign-top\">\u003Cp class=\"tableblock\">Sí\u003C/p>\u003C/td>\n\u003C/tr>\n\u003C/tbody>\n\u003C/table>\n\u003C/div>\n\u003Cdiv class=\"sect2\">\n\u003Ch3 id=\"_acceso_a_recursos\">Acceso a Recursos\u003C/h3>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Un recurso es \u003Cem>a lo que quieres acceder\u003C/em>. Por ejemplo, un coche.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Para poder acceder a un coche no es suficiente con esta información, no puedes ir a un concesionario y preguntar por un coche en general, tienes que decir qué coche quieres. Así que llegas al concesionario y dices:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>\u003Cem>Hola, buenos días. Quiero información sobre el Fiat Bravo 1.9 Emotion 120CV\u003C/em>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>De esta forma el dependiente sabe cuál es y te puede dar la información.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>\"Fiat Bravo 1.9 Emotion 120CV\" es nuestro \u003Cstrong>identificador\u003C/strong>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Trasladando el ejemplo a las \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a>s \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a>:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"literalblock\">\n\u003Cdiv class=\"content\">\n\u003Cpre>GET   https://tiendadecoches.es/api/coches/fiat-bravo-19-emotion-120cv\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>De esta forma nuestra \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> nos puede proporcionar información del coche.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Esto es un ejemplo muy simplificado, pero realmente cuando accedemos a un recurso concreto solemos utilizar algo que lo identifique de forma unívoca. Una práctica común y recomendable es utilizar \u003Ca href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" target=\"_blank\" rel=\"noopener\">UUID\u003C/a>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"literalblock\">\n\u003Cdiv class=\"content\">\n\u003Cpre>GET  https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Pero nuestra \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a>, al igual que una tienda, no tiene por qué ser tan estricta, podemos preguntar por los coches que tienen ciertas caracteríticas, podemos ir al concesionario y decir:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>\u003Cem>Hola buenos días, quiero un Fiat Bravo\u003C/em>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Y el dependiente, amablemente, te mostrará todos los Fiat Bravo que tiene. Veamos cómo podemos decir esto a nuestra \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"literalblock\">\n\u003Cdiv class=\"content\">\n\u003Cpre>GET  https://tiendadecoches.es/api/coches/?marca=fiat&amp;modelo=bravo\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Nuestra \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> nos devolverá todos los coches que son marca Fiat y modelo Bravo.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Marca y modelo en este caso son lo que llamamos \u003Cstrong>parámetros de consulta\u003C/strong> (query parameters).\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Como os habréis dado cuenta durante el ejemplo, para obtener información de un recurso siempre hemos utilizado el \u003Cem>verbo\u003C/em> \u003Cstrong>GET\u003C/strong>.\u003C/p>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect2\">\n\u003Ch3 id=\"_modificar_recursos\">Modificar Recursos\u003C/h3>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Nuestra \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> también nos puede permitir modificar un recurso, al igual que para pedir información, para modificar un recurso necesitamos especificar qué recurso queremos modificar, así que necesitamos otra vez un \u003Cem>identificador\u003C/em>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Antes queríamos información (leer) y utilizábamos nuestro verbo GET, ahora lo único que cambia es el verbo, queremos \u003Cstrong>modificar\u003C/strong> así que utilizamos el verbo equivalente que nos proporciona el protocolo \u003Ca href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\">HTTP\u003C/a>: \u003Cstrong>PUT\u003C/strong>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"literalblock\">\n\u003Cdiv class=\"content\">\n\u003Cpre>PUT   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Pero nos falta algo, tenemos que decir qué queremos cambiar del coche, por ejemplo, imaginemos que queremos cambiar la cilintrada y poner 100CV.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Tenemos que enviar la nueva cilindrada a esta \u003Ca href=\"https://en.wikipedia.org/wiki/Uniform_resource_locator\" target=\"_blank\" rel=\"noopener\">URL\u003C/a> \u003Ca href=\"https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f\" class=\"bare\">https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f\u003C/a> por \u003Ca href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\">HTTP\u003C/a> utilizando el verbo \u003Cstrong>PUT\u003C/strong>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>El protocolo \u003Ca href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\">HTTP\u003C/a> nos permite enviar información en un mensaje PUT, así que solo nos falta pensar en el formato en que lo vamos a enviar.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Podemos enviarlo en \u003Ca href=\"https://en.wikipedia.org/wiki/JSON\" target=\"_blank\" rel=\"noopener\">JSON\u003C/a> o \u003Ca href=\"\">XML\u003C/a> o como queramos, solo tenemos que estar seguros de que el formato que enviamos es lo que espera recibir el servidor.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"admonitionblock note\">\n\u003Ctable>\n\u003Ctr>\n\u003Ctd class=\"icon\">\n\u003Cdiv class=\"title\">Note\u003C/div>\n\u003C/td>\n\u003Ctd class=\"content\">\nCuando definimos una \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a> tenemos que definir también el formato en que vamos a enviar los datos.\n\u003C/td>\n\u003C/tr>\n\u003C/table>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Ejemplo en \u003Ca href=\"https://en.wikipedia.org/wiki/JSON\" target=\"_blank\" rel=\"noopener\">JSON\u003C/a>\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-json\" data-lang=\"json\">\u003Cspan class=\"hljs-punctuation\">{\u003C/span> cilindrada\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-number\">100\u003C/span> \u003Cspan class=\"hljs-punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect2\">\n\u003Ch3 id=\"_borrar_recursos\">Borrar Recursos\u003C/h3>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Continuando con el ejemplo de los coches, imaginemos que ahora somos el concesionario, y que ya no queremos vender más ese Fiat Bravo (concretamente el cce05bee-386b-11e5-a151-feff819cdc9f). Seguiremos manteniendo la \u003Ca href=\"https://en.wikipedia.org/wiki/Uniform_resource_locator\" target=\"_blank\" rel=\"noopener\">URL\u003C/a> que identifica el recurso, pero cambiamos el verbo, no queremos leer (GET), ni modificar (PUT), queremos \u003Cstrong>borrar (DELETE)\u003C/strong>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"literalblock\">\n\u003Cdiv class=\"content\">\n\u003Cpre>DELETE   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>En el caso del borrado, no hay que proporcionar ninguna información adicional, con el verbo (DELETE) y el recurso es suficiente.\u003C/p>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect2\">\n\u003Ch3 id=\"_crear_recursos\">Crear Recursos\u003C/h3>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Y nos queda último verbo, \u003Cstrong>crear (POST)\u003C/strong>. En este caso no hay que identificar el recurso, porque no existe todavía.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"literalblock\">\n\u003Cdiv class=\"content\">\n\u003Cpre>POST   https://tiendadecoches.es/api/coches/\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Lo que sí que tenemos que enviar son los datos del recurso que vamos a crear.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>En nuestro ejemplo, queremos crear un coche, así que ponemos toda la información necesaria para crear un coche dentro de la llamada POST de \u003Ca href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\">HTTP\u003C/a>, algo muy parecido como hemos hecho en el apartado \u003Ca href=\"#_modificar_recursos\">Modificar Recursos\u003C/a>, pero en este caso mandamos \u003Cstrong>toda la información necesaria\u003C/strong>, no solo la cilindrada.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Ejemplo en \u003Ca href=\"https://en.wikipedia.org/wiki/JSON\" target=\"_blank\" rel=\"noopener\">JSON\u003C/a>\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-json\" data-lang=\"json\">\u003Cspan class=\"hljs-punctuation\">{\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;marca&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Fiat&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;modelo&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Bravo&quot;\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;anio&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-number\">2010\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;puertas&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-number\">5\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;cilindrada&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-number\">120\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;version&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Emotion&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;climatizador&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-literal\">\u003Cspan class=\"hljs-keyword\">true\u003C/span>\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;ac&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-literal\">\u003Cspan class=\"hljs-keyword\">false\u003C/span>\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;fuel&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Diesel&quot;\u003C/span>\n\u003Cspan class=\"hljs-punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Podemos delegar en el sistema, para que cuando pidamos la creación de un recurso nuevo, nos asigne un nuevo \u003Cstrong>identificador\u003C/strong>, o simplemente enviarlo con el resto de información:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-json\" data-lang=\"json\">\u003Cspan class=\"hljs-punctuation\">{\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;identificador&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;cce05bee-386b-11e5-a151-feff819cdc9f&quot;\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;marca&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Fiat&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;modelo&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Bravo&quot;\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;anio&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-number\">2010\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;puertas&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-number\">5\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;cilindrada&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-number\">120\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;version&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Emotion&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;climatizador&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-literal\">\u003Cspan class=\"hljs-keyword\">true\u003C/span>\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;ac&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-literal\">\u003Cspan class=\"hljs-keyword\">false\u003C/span>\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n\u003Cspan class=\"hljs-attr\">&quot;fuel&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;Diesel&quot;\u003C/span>\n\u003Cspan class=\"hljs-punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect2\">\n\u003Ch3 id=\"_colecciones\">Colecciones\u003C/h3>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Algo que no quiero pasar por alto, porque al menos para mí no fue obvio, es el manejo de colecciones. Realmente ya está explicado, porque todas las acciones que hemos visto previamente sobre los coches, estaba aplicando realmente a una colección de coches.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Pero, ¿qué pasa si un recurso tiene a su vez una colección? Siguiendo con los coches, un coche puede tener una lista de aceites con los que puede funcionar, así que nuestra \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> debería permitir obtener, modificar, borrar o crear elementos en la lista.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"admonitionblock note\">\n\u003Ctable>\n\u003Ctr>\n\u003Ctd class=\"icon\">\n\u003Cdiv class=\"title\">Note\u003C/div>\n\u003C/td>\n\u003Ctd class=\"content\">\nPara el ejemplo asumiremos que el identificador del aceite es el atributo tipo.\n\u003C/td>\n\u003C/tr>\n\u003C/table>\n\u003C/div>\n\u003Cdiv class=\"sect3\">\n\u003Ch4 id=\"_añadir_un_elemento_a_la_colección\">Añadir un elemento a la colección\u003C/h4>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Si queremos añadir un elemento a la colección de coches lo que vamos a hacer es crear un nuevo coche, así que estamos en el caso de \u003Ca href=\"#_crear_recursos\">Crear Recursos\u003C/a>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Para añadir un nuevo aceite al coche cce05bee-386b-11e5-a151-feff819cdc9f, que ya existe:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Petición\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">POST   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Respuesta\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-json\" data-lang=\"json\">\u003Cspan class=\"hljs-punctuation\">{\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;tipo&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;5W30&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;otros_datos&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;este es el mejor del mundo para este coche&quot;\u003C/span>\n\u003Cspan class=\"hljs-punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Si queremos añadir otro aceite:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Petición\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">POST   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Respuesta\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-json\" data-lang=\"json\">\u003Cspan class=\"hljs-punctuation\">{\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;tipo&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;10W30&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;otros_datos&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;otras cosas sobre aceites de coche&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n\u003Cspan class=\"hljs-punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect3\">\n\u003Ch4 id=\"_modificar_un_elemento_de_la_colección\">Modificar un elemento de la colección\u003C/h4>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Si queremos modificar los datos del aceite \u003Cem>5W30\u003C/em> del coche \u003Cem>cce05bee-386b-11e5-a151-feff819cdc9f\u003C/em>:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Petición\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">PUT   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/5W30/\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Respuesta\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-json\" data-lang=\"json\">\u003Cspan class=\"hljs-punctuation\">{\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;tipo&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;5W30&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">,\u003C/span>\n  \u003Cspan class=\"hljs-attr\">&quot;otros_datos&quot;\u003C/span>\u003Cspan class=\"hljs-punctuation\">:\u003C/span> \u003Cspan class=\"hljs-string\">&quot;este ya no es el mejor del mundo para este coche&quot;\u003C/span>\n\u003Cspan class=\"hljs-punctuation\">}\u003C/span>\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect3\">\n\u003Ch4 id=\"_borrar_un_elemento_de_la_colección\">Borrar un elemento de la colección\u003C/h4>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Para borrar un aceite \u003Cem>10W30\u003C/em> del coche \u003Cem>cce05bee-386b-11e5-a151-feff819cdc9f\u003C/em>:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Petición\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">DELETE   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/10W30\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect3\">\n\u003Ch4 id=\"_leer_un_elemento_de_la_colección\">Leer un elemento de la colección\u003C/h4>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Para obtener la información del aceite \u003Cem>10W30\u003C/em> del coche \u003Cem>cce05bee-386b-11e5-a151-feff819cdc9f\u003C/em>:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Petición\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">GET   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/10W30\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect3\">\n\u003Ch4 id=\"_listar_elementos_de_la_colección\">Listar elementos de la colección\u003C/h4>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Como hemos visto en \u003Ca href=\"#_leer_un_elemento_de_la_colección\">Leer un elemento de la colección\u003C/a>, podemos obtener información de cualquier elemento de la colección, pero también podemos obtener varios elementos de la colección, ordenarlos, paginarlos y aplicar cualquier tipo de acciones típicas de una colección.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Podemos obtener todos los aceites soportados por el coche \u003Cem>cce05bee-386b-11e5-a151-feff819cdc9f\u003C/em>, es tan simple como:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Petición\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">GET   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Pero también podemos proporcionar otras funcionalidades en nuestra \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a>, como obtener los resultados ordenados:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Petición\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">GET   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/?ordenar_por=tipo&amp;orden=ascendente\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Podemos pedir al \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> que nos devuelva los 10 primeros aceites del coche \u003Cem>cce05bee-386b-11e5-a151-feff819cdc9f\u003C/em>:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Petición\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">GET   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/?numero_de_elementos=10\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Cuando no queremos mostrar toda la lista completa, podemos proporcionar un sistema de paginación:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Petición\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">GET   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/?pagina=3&amp;numero_de_elementos=3\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>En la petición de arriba, estamos diciendo que nos devuelva la página 3 de los aceites del coche \u003Cem>cce05bee-386b-11e5-a151-feff819cdc9f\u003C/em> y que nos muestre 3 aceites por página. Si quisiéramos ir a la página siguiente:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Petición\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">GET   https://tiendadecoches.es/api/coches/cce05bee-386b-11e5-a151-feff819cdc9f/aceites/?pagina=4&amp;numero_de_elementos=3\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Todas estas funcionalidades, son posibles gracias a los \u003Cstrong>parámetros de consulta\u003C/strong>.\u003C/p>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"sect1\">\n\u003Ch2 id=\"_típico_error\">Típico error\u003C/h2>\n\u003Cdiv class=\"sectionbody\">\n\u003Cdiv class=\"paragraph\">\n\u003Cp>La primera vez que intenté diseñar un \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a> \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a> lo que hice fué otra cosa, era una \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\" target=\"_blank\" rel=\"noopener\">API\u003C/a>, pero no \u003Ca href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener\">REST\u003C/a>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Mi principal error fue en la construción de las \u003Ca href=\"https://en.wikipedia.org/wiki/Uniform_resource_locator\" target=\"_blank\" rel=\"noopener\">URL\u003C/a>s, incluí \u003Cem>verbos\u003C/em> sin tener en cuenta que los verbos ya me los proporcionaba el protocolo \u003Ca href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" target=\"_blank\" rel=\"noopener\">HTTP\u003C/a>.\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Por ejemplo, creaba \u003Ca href=\"https://en.wikipedia.org/wiki/Uniform_resource_locator\" target=\"_blank\" rel=\"noopener\">URL\u003C/a>s del tipo:\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Incorrecto\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">POST    https://example.com/api/coches/seat-ibiza/borrar-rueda/3\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003Cdiv class=\"paragraph\">\n\u003Cp>Cuando lo correcto sería\u003C/p>\n\u003C/div>\n\u003Cdiv class=\"listingblock\">\n\u003Cdiv class=\"title\">Correcto\u003C/div>\n\u003Cdiv class=\"content\">\n\u003Cpre class=\"highlight\">\u003Ccode class=\"language-http\" data-lang=\"http\">DELETE  https://example.com/api/coches/seat-ibiza/ruedas/3\u003C/code>\u003C/pre>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003C/div>\n\u003Cdiv id=\"footnotes\">\n\u003Chr>\n\u003Cdiv class=\"footnote\" id=\"_footnotedef_1\">\n\u003Ca href=\"#_footnoteref_1\">1\u003C/a>. Create, Read, Update, Delete\n\u003C/div>\n\u003C/div>",props:{title:"Creando REST URLs",lang:"es",summary:"Crear REST API: URLs",slug:"rest-urls",keywords:["REST","API","Web Services"],filepath:"/static/posts/rest-urls.es.adoc",dirpath:"/static/posts",created:1437926400000,modified:1437926400000,otherLangs:["en"],author:"Carlos Martin Sanchez",previewimage:void 0,path:"/langs/es/posts/rest-urls"},jsonLd:"\u003Cscript type=\"application/ld+json\">{\"@context\":\"https://schema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"Webpage\",\"@id\":\"https://google.com/article\"},\"headline\":\"Creando REST URLs\",\"alternativeHeadline\":\"Crear REST API: URLs\",\"description\":\"Crear REST API: URLs\",\"datePublished\":\"2015-07-26T16:00:00.000Z\",\"dateModified\":\"2015-07-26T16:00:00.000Z\",\"keywords\":[\"REST\",\"API\",\"Web Services\"],\"author\":{\"@type\":\"Person\",\"name\":\"Carlos Martin Sanchez\"},\"publisher\":{\"@type\":\"Person\",\"name\":\"Carlos Martin Sanchez\"}}\u003C/script>"},"uses":{"params":["slug","lang"]}}],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
