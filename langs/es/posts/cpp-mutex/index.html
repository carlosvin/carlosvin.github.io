<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Mutex C++</title><!-- HTML_TAG_START -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-1328360-10', 'auto');
	</script>
	<!-- HTML_TAG_END --><meta name="date.created" content="2014-04-24T15:50:00.000Z" data-svelte="svelte-1lps7vh"><meta name="date.updated" content="2014-04-24T15:50:00.000Z" data-svelte="svelte-1lps7vh"><meta name="description" content="Un capa que facilita el uso de los mutex de pthread en C++98 y una mejor solución en C++11" data-svelte="svelte-1lps7vh"><link rel="alternate" hreflang="en" href="/langs/en/posts/cpp-mutex" data-svelte="svelte-1lps7vh"><link rel="alternate" href="/langs/es/posts/cpp-mutex.ld.json" type="application/ld+json" data-svelte="svelte-1lps7vh">

		

		<link rel="modulepreload" href="/_app/start-31f49d9d.js">
		<link rel="modulepreload" href="/_app/chunks/vendor-aa34231d.js">
		<link rel="modulepreload" href="/_app/chunks/singletons-12a22614.js">
		<link rel="modulepreload" href="/_app/pages/__layout.svelte-79988baf.js">
		<link rel="modulepreload" href="/_app/chunks/lang-cab22388.js">
		<link rel="modulepreload" href="/_app/chunks/conf-318ca8e3.js">
		<link rel="modulepreload" href="/_app/chunks/Social-3a966442.js">
		<link rel="modulepreload" href="/_app/chunks/IconLink-efcd0a43.js">
		<link rel="modulepreload" href="/_app/pages/langs/[lang]/posts/[slug].svelte-a29f0a3a.js">
		<link rel="modulepreload" href="/_app/chunks/url-28a36952.js">
		<link rel="modulepreload" href="/_app/chunks/Details-901e127c.js">
		<link rel="stylesheet" href="/_app/assets/start-61d1577b.css">
		<link rel="stylesheet" href="/_app/assets/pages/__layout.svelte-2fff0493.css">
		<link rel="stylesheet" href="/_app/assets/Social-7f1225f5.css">
		<link rel="stylesheet" href="/_app/assets/IconLink-678181d0.css">
		<link rel="stylesheet" href="/_app/assets/pages/langs/[lang]/posts/[slug].svelte-ae23d8c4.css">
		<link rel="stylesheet" href="/_app/assets/Details-dd2367f4.css">

		<script type="module">
			import { start } from "/_app/start-31f49d9d.js";
			start({
				target: document.querySelector("#svelte"),
				paths: {"base":"","assets":""},
				session: {},
				host: location.host,
				route: true,
				spa: false,
				trailing_slash: "never",
				hydrate: {
					status: 200,
					error: null,
					nodes: [
						import("/_app/pages/__layout.svelte-79988baf.js"),
						import("/_app/pages/langs/[lang]/posts/[slug].svelte-a29f0a3a.js")
					],
					page: {
						host: location.host, // TODO this is redundant
						path: "/langs/es/posts/cpp-mutex",
						query: new URLSearchParams(""),
						params: {"lang":"es","slug":"cpp-mutex"}
					}
				}
			});
		</script>
	</head>
	<body>
		<div id="svelte">






<nav class="svelte-17lil9l"><ul class="svelte-17lil9l"><li class="svelte-1nihsj5"><a href="/langs/es" rel="prefetch" class="svelte-1nihsj5"><img class="logo svelte-17lil9l" src="/favicon.png" alt="Carlos dice bla bla logo"></a>
</li></ul>
	<ul class="closed svelte-17lil9l"><li class="svelte-1nihsj5"><a href="/langs/es" rel="prefetch" class="svelte-1nihsj5"><span class="siteName">Carlos dice bla bla</span></a>
</li>
<li class="svelte-1nihsj5"><a href="/langs/es/categories" rel="prefetch" class="svelte-1nihsj5">Categorías</a>
</li>
<li class="svelte-1nihsj5"><a href="/langs/es/about" rel="prefetch" class="svelte-1nihsj5">About</a>
</li></ul>
	<div class="h svelte-geb0ta"><a href="/langs/es/feed.xml" target="_blank" class="icon rss svelte-blgowr" title="Suscríbete a Carlos dice bla bla" rel="noopener" aria-label="Suscríbete a Carlos dice bla bla">
</a>
	<a href="https://github.com/carlosvin" target="_blank" class="icon github svelte-blgowr" title="Find me at github" rel="noopener" aria-label="Find me at github">
</a>
	<a href="https://twitter.com/carlosvin" target="_blank" class="icon twitter svelte-blgowr" title="Find me at twitter" rel="noopener" aria-label="Find me at twitter">
</a>
	<a href="https://stackoverflow.com/story/carlosvin" target="_blank" class="icon stackoverflow svelte-blgowr" title="Find me at stackoverflow" rel="noopener" aria-label="Find me at stackoverflow">
</a>
</div>
	<button type="button" class="svelte-17lil9l">≡</button>
</nav>

<main class="svelte-1m42syy">

<header class="svelte-1ikjkmw"><h1 class="svelte-1ikjkmw">Mutex C++
<span class="share svelte-1ikjkmw"><a href="https://twitter.com/intent/tweet?url=/langs/es/posts/cpp-mutex&amp;text=Mutex C++:&amp;nbsp;Un capa que facilita el uso de los mutex de pthread en C++98 y una mejor solución en C++11&amp;hashtags=C++,pthread,Mutex" target="_blank" class="icon twitter svelte-blgowr" title="Share &quot;Mutex C++&quot;" rel="noopener" aria-label="Share &quot;Mutex C++&quot;">
</a></span></h1>
	<p class="summary svelte-1ikjkmw">Un capa que facilita el uso de los mutex de pthread en C++98 y una mejor solución en C++11</p>
	<div class="subtitle svelte-1s3ascd"><span class="date">24/04/2014</span>
	<span class="tags svelte-ym0wdt"><a href="/langs/es/categories/c" title="C++" class="svelte-dagte2"><span class="hover svelte-1kmrl92">C++
</span>
</a><a href="/langs/es/categories/pthread" title="pthread" class="svelte-dagte2"><span class="hover svelte-1kmrl92">pthread
</span>
</a><a href="/langs/es/categories/mutex" title="Mutex" class="svelte-dagte2"><span class="hover svelte-1kmrl92">Mutex
</span>
</a></span>
</div></header>

<div class="postContent"><!-- HTML_TAG_START --><div class="paragraph">
<p>En <a href="https://en.wikipedia.org/wiki/C++11" target="_blank" rel="noopener">C++11</a> se han introducido muchas mejoras que nos ayudan a desarrollar sistemas multi-hilo. Voy a centrarme en los <a href="https://en.wikipedia.org/wiki/Mutex" target="_blank" rel="noopener">Mutex</a>.</p>
</div>
<div class="paragraph">
<p>En las versiones anteriores a <a href="https://en.wikipedia.org/wiki/C++11" target="_blank" rel="noopener">C++11</a> una forma de obtener un <a href="https://en.wikipedia.org/wiki/Mutex" target="_blank" rel="noopener">Mutex</a> es el que nos proporciona la librería <a href="">pthread</a>, pero para utilizarlo debíabos inicializarlo y destruirlo al estilo C, en definitiva, tienes que hacer algo más que lock/unlock cada vez que trabajas con un mutex.</p>
</div>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/C++11" target="_blank" rel="noopener">C++11</a> nos proporciona una <a href="https://en.cppreference.com/w/cpp/thread/mutex" target="_blank" rel="noopener">Clase Mutex</a>, que nos abstrae de cosas que no sean lock/unclock.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-cpp" data-lang="cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;mutex&gt;</span></span>

std::mutex mtx;

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">do_something</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span> </span>{
  mtx.<span class="hljs-built_in">lock</span>();
  <span class="hljs-comment">// critical section</span>
  mtx.<span class="hljs-built_in">unlock</span>();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>En <a href="https://en.wikipedia.org/wiki/C++11" target="_blank" rel="noopener">C++11</a> también puedes utilizar el <a href="https://en.wikipedia.org/wiki/Mutex" target="_blank" rel="noopener">Mutex</a> con una <a href="https://en.cppreference.com/w/cpp/thread/lock_guard" target="_blank" rel="noopener">guarda genérica</a>.</p>
</div>
<div class="paragraph">
<p>Si sigues trabajando con <a href="https://clang.llvm.org/cxx_status.html" target="_blank" rel="noopener">versiones del compilador anteriores a C++11</a>, hace tiempo me hice un wrapper que te ayuda a abstraerte del mutex de pthread, lo dejo aquí abajo por si a alguien le resulta útil: [gist].</p>
</div><!-- HTML_TAG_END -->
	<div class="comments"><script src="https://utteranc.es/client.js" repo="carlosvin/carlosvin.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script></div>
	
	<a href="/posts/cpp-mutex/es"></a>
	
	<a href="/posts/cpp-mutex"></a>
</div>
</main>



	<script type="application/json" data-type="svelte-data" data-url="/langs/es/posts/cpp-mutex.json">{"status":200,"statusText":"","headers":{"content-type":"application/json; charset=utf-8"},"body":"{\"html\":\"\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EEn \u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FC++11\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EC++11\u003C\u002Fa\u003E se han introducido muchas mejoras que nos ayudan a desarrollar sistemas multi-hilo. Voy a centrarme en los \u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMutex\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMutex\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EEn las versiones anteriores a \u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FC++11\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EC++11\u003C\u002Fa\u003E una forma de obtener un \u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMutex\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMutex\u003C\u002Fa\u003E es el que nos proporciona la librería \u003Ca href=\\\"\\\"\u003Epthread\u003C\u002Fa\u003E, pero para utilizarlo debíabos inicializarlo y destruirlo al estilo C, en definitiva, tienes que hacer algo más que lock\u002Funlock cada vez que trabajas con un mutex.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FC++11\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EC++11\u003C\u002Fa\u003E nos proporciona una \u003Ca href=\\\"https:\u002F\u002Fen.cppreference.com\u002Fw\u002Fcpp\u002Fthread\u002Fmutex\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EClase Mutex\u003C\u002Fa\u003E, que nos abstrae de cosas que no sean lock\u002Funclock.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"listingblock\\\"\u003E\\n\u003Cdiv class=\\\"content\\\"\u003E\\n\u003Cpre class=\\\"highlight\\\"\u003E\u003Ccode class=\\\"language-cpp\\\" data-lang=\\\"cpp\\\"\u003E\u003Cspan class=\\\"hljs-meta\\\"\u003E#\u003Cspan class=\\\"hljs-meta-keyword\\\"\u003Einclude\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-meta-string\\\"\u003E&lt;mutex&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\\n\\nstd::mutex mtx;\\n\\n\u003Cspan class=\\\"hljs-function\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title\\\"\u003Edo_something\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-params\\\"\u003E(\u003Cspan class=\\\"hljs-keyword\\\"\u003Eint\u003C\u002Fspan\u003E i)\u003C\u002Fspan\u003E \u003C\u002Fspan\u003E{\\n  mtx.\u003Cspan class=\\\"hljs-built_in\\\"\u003Elock\u003C\u002Fspan\u003E();\\n  \u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002F critical section\u003C\u002Fspan\u003E\\n  mtx.\u003Cspan class=\\\"hljs-built_in\\\"\u003Eunlock\u003C\u002Fspan\u003E();\\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fdiv\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003EEn \u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FC++11\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EC++11\u003C\u002Fa\u003E también puedes utilizar el \u003Ca href=\\\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMutex\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003EMutex\u003C\u002Fa\u003E con una \u003Ca href=\\\"https:\u002F\u002Fen.cppreference.com\u002Fw\u002Fcpp\u002Fthread\u002Flock_guard\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003Eguarda genérica\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\\n\u003Cdiv class=\\\"paragraph\\\"\u003E\\n\u003Cp\u003ESi sigues trabajando con \u003Ca href=\\\"https:\u002F\u002Fclang.llvm.org\u002Fcxx_status.html\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\"\u003Eversiones del compilador anteriores a C++11\u003C\u002Fa\u003E, hace tiempo me hice un wrapper que te ayuda a abstraerte del mutex de pthread, lo dejo aquí abajo por si a alguien le resulta útil: [gist].\u003C\u002Fp\u003E\\n\u003C\u002Fdiv\u003E\",\"props\":{\"title\":\"Mutex C++\",\"created\":1398354600000,\"modified\":1398354600000,\"filepath\":\"\u002Fhome\u002Fcarlos\u002Fworkspace\u002Fblablablog\u002Fposts\u002Fcpp-mutex.es.adoc\",\"dirpath\":\"\u002Fhome\u002Fcarlos\u002Fworkspace\u002Fblablablog\u002Fposts\",\"keywords\":[\"C++\",\"pthread\",\"Mutex\"],\"lang\":\"es\",\"otherLangs\":[\"en\"],\"slug\":\"cpp-mutex\",\"summary\":\"Un capa que facilita el uso de los mutex de pthread en C++98 y una mejor solución en C++11\",\"author\":\"Carlos Martin Sanchez\",\"path\":\"\u002Flangs\u002Fes\u002Fposts\u002Fcpp-mutex\"}}"}</script>
</div>
	</body>
</html>
